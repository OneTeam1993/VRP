(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{Iyh2:function(l,n,e){"use strict";e.r(n);var t=e("CcnG"),u=function(){return function(){}}(),o=e("iutN"),a=e("pMnS"),s=e("jvCn"),i=e("miAi"),r=e("wd/R"),c=(e("zavE"),e("TxLo")),d=e("vDqi"),p=e.n(d),g=function(){function l(l,n,e,t){var u=this;this._constant=l,this.router=e,this.spinner=t,this.router.events.subscribe((function(l){""!=n.path()&&(u.route=n.path())}))}return l.prototype.ngOnInit=function(){var l=this;this.spinner.show();var n=document.createElement("script");n.type="text/javascript",n.src="https://track-asia.com/sg/Dashboard/plugins/StyledMarker/StyledMarker.js",$("head").append(n);var e=document.createElement("script");e.type="text/javascript",e.src="https://track-asia.com/sg/Dashboard/plugins/marker-with-label/markerwithlabel.js",$("head").append(e),$("#panel").hide(),$("#infobubbleDrawing").hide();var t,u,o,a,s,i,c,d,g,m,b,f,h,w,v,y,x,I,M=this._constant.baseAppUrl,C=this._constant.uri_track,L=Number(sessionStorage.getItem("setSessionstorageValueUserID")),k=Number(sessionStorage.getItem("setSessionstorageValueUserResellerID")),D=Number(sessionStorage.getItem("setSessionstorageValueCompanyID")),T=this._constant.getSessionstorageValueRoleID,S=this._constant.zonetypeApi,P=this._constant.zoneApi,V=M+C+"assetinfo?UserID="+L+"&ResellerID="+k+"&CompanyID="+D,O=M+C+"zoneinfo?ResellerID="+k+"&CompanyID="+D,_=(new Array,new Array),E=new Array,z=[],N=new google.maps.MVCArray,Y=new Array,B=new Array,F=new Array,A=!0,R=[],U=["#1E90FF","#FF1493","#32CD32","#FF8C00","#4B0082","#8560a8","#005e20","#CBCC29","#495f75","#a00000","#1B1B1B"],H={},G=[],W={},Z={},J=[],j=new Array,X=new Array,K=(R=[],[]),q=[],Q=[],ll=new Array,nl={coord:[16,0,18,1,21,2,24,3,26,4,27,5,28,6,29,7,29,8,29,9,29,10,29,11,29,12,29,13,29,14,29,15,29,16,29,17,29,18,29,19,29,20,29,21,29,22,29,23,29,24,29,25,29,26,29,27,29,28,28,29,3,29,2,28,2,27,1,26,1,25,1,24,0,23,0,22,0,21,0,20,0,19,0,18,0,17,0,16,0,15,0,14,0,13,0,12,0,11,0,10,0,9,0,8,0,7,1,6,2,5,2,4,3,3,5,2,6,1,8,0,16,0],type:"poly"},el={},tl="https://chart.googleapis.com/chart?chst=";google,el.BUBBLE={defaults:{text:"",color:"00ff00",fore:"000000",starcolor:null},getURL:function(l){var n=tl+"d_bubble_text_small_withshadow&chld=bb|";return n+=l.get("text")+"|",(n+=l.get("color").replace(/#/,"")+"|")+l.get("fore").replace(/#/,"")},getShadowURL:function(l){return tl+"d_bubble_text_small_withshadow&chld=bb|"+l.get("text")},getAnchor:function(l,n,e){return new google.maps.Point(0,42)},getShadowAnchor:function(l,n,e){return new google.maps.Point(0,44)},getShape:function(l,n,e){var t={};return t.coord=[0,44,13,26,13,6,17,1,n-4,1,n,6,n,21,n-4,26,21,26],t.type="poly",t}};var ul=new google.maps.LatLng(1.3521,103.8198);for(var ol in google.maps.MapTypeId)this._constant.mapTypeIds.push(google.maps.MapTypeId[ol]);var al,sl={zoom:12,center:ul,panControl:!1,zoomControl:!0,zoomControlOptions:{position:google.maps.ControlPosition.LEFT_TOP},mapTypeControl:!0,mapTypeControlOptions:{style:google.maps.MapTypeControlStyle.DROPDOWN_MENU,mapTypeIds:this._constant.mapTypeIds,position:google.maps.ControlPosition.TOP_LEFT},streetViewControl:!1,streetViewControlOptions:{position:google.maps.ControlPosition.RIGHT_BOTTOM},fullscreenControl:!0,fullscreenControlOptions:{position:google.maps.ControlPosition.TOP_LEFT},scaleControl:!0,overviewMapControl:!0};(al=new google.maps.Map(document.getElementById("map-canvas"),sl)).controls[google.maps.ControlPosition.BOTTOM_CENTER].push(document.getElementById("panel")),function(){var l=document.createElement("DIV");$(l).addClass("gmap-control-container").addClass("gmnoprint");var n=document.createElement("DIV");$(n).addClass("gmap-control"),$(n).text("Traffic"),$(l).append(n);var e=document.createElement("DIV");$(e).addClass("gmap-control-legend"),$(e).html('<ul><li><span style="background-color: #30ac3e">&nbsp;&nbsp;</span><span style="color: #30ac3e"> &gt; Smooth Traffic</span></li><li><span style="background-color: #ffcf00">&nbsp;&nbsp;</span><span style="color: #ffcf00"> Slow Moving Traffic</span></li><li><span style="background-color: #ff0000">&nbsp;&nbsp;</span><span style="color: #ff0000"> &lt; Heavy Traffic</span></li><li><span style="background-color: #c0c0c0">&nbsp;&nbsp;</span><span style="color: #c0c0c0"> No data available</span></li></ul>'),$(e).hide(),$(l).append(e),$(n).mouseenter((function(){$(e).show()})).mouseleave((function(){$(e).hide()}));var t=new google.maps.TrafficLayer;google.maps.event.addDomListener(n,"click",(function(){void 0===t.getMap()||null===t.getMap()?($(n).addClass("gmap-control-active"),t.setMap(al)):(t.setMap(null),$(n).removeClass("gmap-control-active"))})),al.controls[google.maps.ControlPosition.TOP_LEFT].push(l)}(),al.mapTypes.set("Mapbox",new google.maps.ImageMapType({getTileUrl:function(l,n){var e=_l(l,n);return e?(Math.pow(2,n),"https://tiles.locationiq.com/v2/obk/r/"+n+"/"+e.x+"/"+e.y+".png?key=ece7de2808b2c0"):null},tileSize:new google.maps.Size(256,256),name:"Mapbox",alt:"Mapbox GL",maxZoom:20})),al.mapTypes.set("OSM",new google.maps.ImageMapType({getTileUrl:function(l,n){var e=_l(l,n);return e?(Math.pow(2,n),"https://tile.openstreetmap.org/"+n+"/"+e.x+"/"+e.y+".png"):null},tileSize:new google.maps.Size(256,256),name:"OSM",alt:"Open Street Map",maxZoom:20})),al.mapTypes.set("PublicTransport",new google.maps.ImageMapType({getTileUrl:function(l,n){var e=_l(l,n);return e?(Math.pow(2,n),"https://tile.memomaps.de/tilegen/"+n+"/"+e.x+"/"+e.y+".png"):null},tileSize:new google.maps.Size(256,256),name:"Public",alt:"Show Public Transport",maxZoom:20})),al.mapTypes.set("OneMap",new google.maps.ImageMapType({getTileUrl:function(l,n){var e=_l(l,n);return e?(Math.pow(2,n),"https://maps-a.onemap.sg/v3/Night/"+n+"/"+e.x+"/"+e.y+".png"):null},tileSize:new google.maps.Size(256,256),name:"One Map",alt:"One Map",maxZoom:20})),cl(dl,O),Ml(Cl,V,this.route),google.maps.event.addListener(al,"mousemove",(function(l){document.getElementById("coordinates-panel").innerHTML=l.latLng.lat()+", "+l.latLng.lng()}));var il={strokeWeight:0,fillOpacity:.45,editable:!1};function rl(l){return l*(Math.PI/180)}function cl(l,n){p.a.get(n).then((function(n){l(n.data)})).catch((function(l){console.log(l)}))}function dl(l){for(var n=0;n<l.length;n++){var e,t,u,o=l[n],s=o.ZoneID,i=o.Name,r=o.Type,c=o.Perimeter,d=o.Company,p=o.Color,b=o.Location,f=c.split(" "),w="https://chart.apis.google.com/chart?cht=mm&chs=24x32&chco=FFFFFF,"+(16777215*Math.random()<<0).toString(16)+"&ext=.png";if(/\s/.test(c)){if(1==f.length){for(var v=0;v<f.length;v++)e=f[v].split(","),Z.Zones={center:new google.maps.LatLng(parseFloat(e[0]),parseFloat(e[1])),radius:e[2]};for(var y in Z){var x={strokeColor:p,strokeOpacity:.8,strokeWeight:2,fillColor:p,fillOpacity:.35,map:al,Company:d,Name:i,Pos:f,zoneID:s,center:Z[y].center,radius:Math.sqrt(Z[y].radius)};u=new google.maps.Circle(x)}F.push(u),google.maps.event.addListener(u,"click",ml),a=new google.maps.InfoWindow,google.maps.event.addListener(u,"click",(function(){al.panTo(this.position)}))}else if(f.length<=2){var I=f[1],M=f[0].split(","),C=M[0],L=M[1],k=I.split(","),D=k[0],T=k[1],S=pl(D-C),P=pl(T-L),V=Math.sin(S/2)*Math.sin(S/2)+Math.cos(pl(C))*Math.cos(pl(D))*Math.sin(P/2)*Math.sin(P/2),O=2*Math.atan2(Math.sqrt(V),Math.sqrt(1-V))*6371*100;for(var _ in e=f[0].split(","),W.Zones={center:new google.maps.LatLng(parseFloat(e[0]),parseFloat(e[1])),radius:O},W){var E={strokeColor:p,strokeOpacity:.8,strokeWeight:2,fillColor:p,fillOpacity:.35,map:al,Company:d,Name:i,Pos:f,zoneID:s,center:W[_].center,radius:100*Math.sqrt(W[_].radius)};t=new google.maps.Circle(E)}B.push(t),google.maps.event.addListener(t,"click",ml),a=new google.maps.InfoWindow,google.maps.event.addListener(t,"click",(function(){al.panTo(this.position)}))}else if(f.length>=3){for(v=0;v<f.length;v++)e=f[v].split(","),N.push(new google.maps.LatLng(parseFloat(e[0]),parseFloat(e[1])));g=new google.maps.Polygon({path:N,strokeColor:p,strokeOpacity:.8,strokeWeight:3,fillColor:p,fillOpacity:.35,Company:d,Name:i,Pos:f,zoneID:s,map:al}),N=[],Y.push(g),g.setMap(al),google.maps.event.addListener(g,"click",gl),a=new google.maps.InfoWindow,google.maps.event.addListener(g,"click",(function(){al.panTo(this.position)}))}}else{var z=l[n].Perimeter.split(","),$=new google.maps.LatLng(parseFloat(z[0]),parseFloat(z[1]));m=new MarkerWithLabel({position:$,draggable:!1,raiseOnDrag:!1,map:al,icon:w,labelContent:i,labelAnchor:new google.maps.Point(40,0),labelClass:"labels",labelStyle:{opacity:.75},labelInBackground:!1}),X.push(m),h="<div class='form-group' style='color:#4C4C4C;><div class='col-md-8'><h6 class='map-heading'>"+i+"</h6></div><table id='assetDetails' class='table table-vcenter'><tbody><tr><td><span data-l11n class='text-bold'>Location:&nbsp;</span>"+b+"<br /><span data-l11n class='text-bold'>Type:&nbsp;</span>"+r+"<br /><span class='text-bold'>Coordinates:&nbsp;</span>"+c+"</td></tr>",bl(m)}}return l}function pl(l){return l*(Math.PI/180)}function gl(l){this.getPath();var n="<div class='form-group' style='color:#4C4C4C;><div class='col-md-8'><h6 class='map-heading'>"+this.Name+"</h6></div><table id='assetDetails' class='table table-vcenter'><tbody><tr><td><span data-l11n class='text-bold'>Company:&nbsp;</span>"+this.Company+"<br /><span class='text-bold'>Clicked location:&nbsp;</span>"+l.latLng.lat()+","+l.latLng.lng()+"</td></tr>";a.setContent(n),a.setPosition(l.latLng),a.open(al)}function ml(l){var n="<div class='form-group' style='color:#4C4C4C;><div class='col-md-8'><h6 class='map-heading'>"+this.Name+"</h6></div><table id='assetDetails' class='table table-vcenter'><tbody><tr><td><span data-l11n class='text-bold'>Company:&nbsp;</span>"+this.Company+"<br /><span class='text-bold'>Clicked location:&nbsp;</span>"+l.latLng.lat()+","+l.latLng.lng()+"</td></tr>";a.setContent(n),a.setPosition(l.latLng),a.open(al)}function bl(l){var n=new google.maps.InfoWindow({content:h});q.push(n),l.addListener("click",(function(){n.open(l.get("map"),l)}))}function fl(){b&&(b.setEditable(!1),b=null)}function hl(l){fl(),b=l,l.setEditable("rectangle"!=l.type)}function wl(){for(var l=0;l<R.length;l++)R[l].overlay.setMap(null);for(R=[],l=0;l<K.length;l++)K[l].close();for(K=[],l=0;l<ll.length;l++)ll[l].setMap(null);ll=[],c.setOptions({drawingControl:!0})}function vl(){if(""==$("#zname").val())alert("Zone name must not be empty");else if(/\s/.test(f))yl("Default");else{var l=new FormData;l.append("email","anthony_agustin@acecom.com.sg"),l.append("password","acecom2015"),$.ajax({async:!0,crossDomain:!0,url:"https://developers.onemap.sg/privateapi/auth/post/getToken",method:"POST",processData:!1,contentType:!1,mimeType:"multipart/form-data",data:l}).done((function(l){var n=JSON.parse(l),e="https://developers.onemap.sg/privateapi/commonsvc/revgeocode?location="+f+"&token="+n.access_token;console.log(e),$.ajax({url:e,type:"GET",success:function(l){if(l.GeocodeInfo.length>0){var e="";null==l.GeocodeInfo[0].BLOCK&&null==l.GeocodeInfo[0].BLOCK||(e=l.GeocodeInfo[0].BLOCK+" "),null==l.GeocodeInfo[0].ROAD&&null==l.GeocodeInfo[0].ROAD||(e+=l.GeocodeInfo[0].ROAD+" "),null==l.GeocodeInfo[0].BUILDINGNAME&&null==l.GeocodeInfo[0].BUILDINGNAME||"null"!=l.GeocodeInfo[0].BUILDINGNAME&&(e+=l.GeocodeInfo[0].BUILDINGNAME),yl(e)}else{var t="https://developers.onemap.sg/privateapi/commonsvc/revgeocode?location="+f+"&token="+n.access_token;console.log(t),$.ajax({url:t,type:"GET",success:function(l){if(0==l.GeocodeInfo.length)console.log("No Address"),yl("No Address");else{var n="";null==l.GeocodeInfo[0].BLOCK&&null==l.GeocodeInfo[0].BLOCK||(n=l.GeocodeInfo[0].BLOCK+" "),null==l.GeocodeInfo[0].ROAD&&null==l.GeocodeInfo[0].ROAD||(n+=l.GeocodeInfo[0].ROAD+" "),null==l.GeocodeInfo[0].BUILDINGNAME&&null==l.GeocodeInfo[0].BUILDINGNAME||"null"!=l.GeocodeInfo[0].BUILDINGNAME&&(n+=l.GeocodeInfo[0].BUILDINGNAME),yl(n)}}})}}})}))}}function yl(l){var n,e=new Date,t=r.utc(e).local().format("DD MMM YYYY, hh:mm:ss A");n=Number(sessionStorage.getItem("setSessionstorageValueRoleID"))>2?{ZoneID:0,Name:$("#zname").val(),TypeID:$("#getZoneTypes").val(),CompanyID:Number(sessionStorage.getItem("setSessionstorageValueCompanyID")),CreatedDate:t,Perimeter:f,CellIds:"",Location:l,Created_User:sessionStorage.getItem("setSessionstorageValueUser"),Modified_User:sessionStorage.getItem("setSessionstorageValueUser"),Color:sessionStorage.getItem("setSessionstorageValueZoneColor")}:{ZoneID:0,Name:$("#zname").val(),TypeID:$("#getZoneTypes").val(),CompanyID:sessionStorage.getItem("setSessionstorageValueAssetCompany"),CreatedDate:t,Perimeter:f,CellIds:"",Location:l,Created_UserID:Number(sessionStorage.getItem("setSessionstorageValueUserID")),Modified_UserID:Number(sessionStorage.getItem("setSessionstorageValueUserID")),Color:sessionStorage.getItem("setSessionstorageValueZoneColor")},p.a.post(P,n).then((function(l){console.log(l.data),window.location.reload(!0)})).catch((function(l){console.log(l)}))}function xl(l){d=l;for(var n=0;n<U.length;++n){var e=U[n];H[e].style.border=e==l?"2px solid #789":"2px solid #fff"}var t=c.get("polylineOptions");t.strokeColor=l,c.set("polylineOptions",t);var u=c.get("rectangleOptions");u.fillColor=l,c.set("rectangleOptions",u);var o=c.get("circleOptions");o.fillColor=l,c.set("circleOptions",o);var a=c.get("polygonOptions");a.fillColor=l,c.set("polygonOptions",a),sessionStorage.setItem("setSessionstorageValueZoneColor",d)}function Il(l){var n=document.createElement("span");return n.className="color-button",n.style.backgroundColor=l,google.maps.event.addDomListener(n,"click",(function(){xl(l),function(l){b&&(b.type==google.maps.drawing.OverlayType.POLYLINE?b.set("strokeColor",l):b.set("fillColor",l))}(l)})),n}function Ml(l,n,e){p.a.get(n).then((function(n){l(n.data,e)})).catch((function(l){console.log(l)}))}function Cl(l,n){for(var e=0,u=0,a=0,c=0,d=new google.maps.LatLngBounds,p=0,g=l.length;p<g;p++)if(l[p]){if(null==l[p].LastPos||null==l[p].LastPos.Engine||0==l[p].LastPos.PosID||""===l[p].LastPos){console.log("Data is Null"),c++;continue}var m=l[p],b=new google.maps.LatLng(l[p].LastPos.PosY,l[p].LastPos.PosX),f=l[p].AssetID,h=l[p].Tag,w=l[p].Category,v=l[p].Name,y=l[p].Gps,x=l[p].Gprs,I=l[p].Engine,M=l[p].LastPos.Fix,C=l[p].Make,L=l[p].Model,k=l[p].LicensePlate,D=l[p].LastPos.Location,T=l[p].LastPos.Speed,S=l[p].LastPos.Course,P=l[p].LastPos.Zone,V=l[p].LastPos.Mileage,O=l[p].LastPos.Timestamp,z=l[p].LastPos.Battery.toFixed(2),N=l[p].Name.match(/.{1,28}/g).join("<br/>").substring(0,18),Y=l[p].LastPos.PosX,B=l[p].LastPos.PosY,F=r.utc(O).local().format("DD MMM YYYY"),R=new Date,U=r.utc(R).local().format("DD MMM YYYY");U=Date.parse(U),F=Date.parse(F);var H=r.utc(O).local().format("D-MMM-YYYY, hh:mm:ss A"),G=Sl(r.utc(O).local().format()),W=void 0;switch(w){case"Car":W="assets/img/car.jpg";break;case"Truck":W="assets/img/truck.jpg";break;case"Van":W="assets/img/van.jpg";break;case"Bus":W="assets/img/bus.jpg";break;case"Motorcycle":W="assets/img/motorcycle.jpg";break;case"Recovery Veh":case"Lorry":case"10 Footer Lorry":case"14 Footer Lorry":W="assets/img/truck.jpg";break;case"Ambulance":W="assets/img/ambulance.jpg"}var Z,J,j=void 0;"MOVE"==I?j="#5cb85c":"IDLE"==I?j="#f0ad4e":"STOP"==I&&U>F?j="#696969":"STOP"==I&&(j="#d9534f"),Z={path:"M17.402,0H5.643C2.526,0,0,3.467,0,6.584v34.804c0,3.116,2.526,5.644,5.643,5.644h11.759c3.116,0,5.644-2.527,5.644-5.644 V6.584C23.044,3.467,20.518,0,17.402,0z M22.057,14.188v11.665l-2.729,0.351v-4.806L22.057,14.188z M20.625,10.773 c-1.016,3.9-2.219,8.51-2.219,8.51H4.638l-2.222-8.51C2.417,10.773,11.3,7.755,20.625,10.773z M3.748,21.713v4.492l-2.73-0.349 V14.502L3.748,21.713z M1.018,37.938V27.579l2.73,0.343v8.196L1.018,37.938z M2.575,40.882l2.218-3.336h13.771l2.219,3.336H2.575z M19.328,35.805v-7.872l2.729-0.355v10.048L19.328,35.805z",scale:.6,strokeColor:j,strokeWeight:1,strokeOpacity:1,fillOpacity:1,fillColor:"white",offset:"5%",rotation:S,anchor:new google.maps.Point(10,25)},J=null==m.Driver.Name?"No Driver Assigned":m.Driver.Name,"MOVE"==I?e++:"IDLE"==I?u++:"STOP"==I&&U>F?c++:"STOP"==I&&a++;var X="<div id='assetInfo' class='form-group row' style='padding:0px !important;'>";X+="Unknown"!==k?"<div class='col-md-8'><h6 class='map-heading'>"+N+" - ("+k+")</h6></div>":"<div class='col-md-8'><h6 class='map-heading'>"+N+"</h6></div>",X+="<div class='col-md-4'><p style='text-align:right; padding-right:20px; padding-bottom:0px !important'>"+kl(y,H)+"&nbsp;"+Dl(x,H)+"</p></div>",X+="<table id='assetDetails' class='table table-vcenter'><tbody><tr><td colspan='2'>",X+="<span class='font-weight-bold'>Address:&nbsp;</span>"+D+"<br /><span class='font-weight-bold'>Date:&nbsp;</span>"+H+"<br /><span>Speed:&nbsp;</span>"+Tl(T)+"<br /><span class='font-weight-bold'>GPS Status:&nbsp;</span>"+M+"<br /><span class='font-weight-bold'>Driver:&nbsp;</span>"+J+"<br /><span class='font-weight-bold'>Zones:&nbsp;</span>"+P+"<br /><span class='font-weight-bold'>Last Updated:&nbsp;</span>"+G+"<br /></td><td colspan='2' class='pl-4'><img class='vehicle-img' src='"+W+"'/><br />","Unknown"!==C&&(X+="<span class='font-weight-bold'>Brand:&nbsp;</span>"+C+"<br />"),"Unknown"!==L&&(X+="<span class='font-weight-bold'>Model:&nbsp;</span>"+L+"<br />"),(t=Ll({map:al,position:b,icon:Z,shape:nl,category:w,cat_img:W,address:D,vechs:v,tag:h,id:f,gps:y,gprs:x,title:v,zone:P,fix:M,engine:I,speed:T,mileage:V,timestamp:H,course:S,color:j,getYPosition:B,getXPosition:Y,assetBattery:z,content:X+="</td></tr></tbody></table></div></div>",driver:J,elapsed_timestamp:G})).setMap(al),o=new StyledMarker({styleIcon:new StyledIcon(el.BUBBLE,{color:"#458FD2",text:v,fore:"#FFFFFF"}),position:b,map:al,shadow:"none"}),_[p]&&_[p].setPosition?($("#assetStatus").empty(),t.setMap(null),o.setMap(null),_[p].setPosition(b),E[p].setPosition(b),_[p].setIcon(Z),i==v?(_[p].id=f,_[p].content=X,_[p].address=D,_[p].timestamp=H,_[p].gps=y,_[p].gprs=x,_[p].engine=I,_[p].fix=M,_[p].tag=h,_[p].speed=T,_[p].cat_img=W,_[p].driver=J,_[p].elapsed_timestamp=G,null==$("#assetInfo").val()&&null==$("#assetInfo").val()||(document.getElementById("assetInfo").innerHTML=X)):(_[p].id=f,_[p].content=X,_[p].address=D,_[p].timestamp=H,_[p].gps=y,_[p].gprs=x,_[p].engine=I,_[p].fix=M,_[p].tag=h,_[p].speed=T,_[p].cat_img=W,_[p].driver=J,_[p].elapsed_timestamp=G)):(d.extend(b),_[p]=t,E[p]=o)}if(A&&(al.setZoom(7),al.fitBounds(d),A=!1),"/tracking"==n){var K=document.getElementById("assetStatus");if(K){for(s=0;s<_.length;s++)(null!=_[s]||_[s])&&(K.innerHTML+="<tr><td><strong><a style='color:#458FD2;'>"+_[s].title+"</a></strong></td><td>"+_[s].address+"</td><td>"+_[s].timestamp+"</td><td>"+_[s].elapsed_timestamp+"</td><td>"+Tl(_[s].speed)+"</td><td>"+_[s].driver+"</td><td>"+_[s].fix+"</td><td>"+Pl(_[s].engine,_[s].timestamp)+"</td><td>"+kl(_[s].gps,_[s].timestamp)+"</td><td>"+Dl(_[s].gprs,_[s].timestamp)+"</td></tr><hr style='border: 1px solid #FFFFFF !important'>");document.getElementById("total-vehicles").innerHTML=l.length,document.getElementById("getMove").innerHTML=e.toString(),document.getElementById("getIdle").innerHTML=u.toString(),document.getElementById("getStop").innerHTML=a.toString(),document.getElementById("getDown").innerHTML=c.toString()}}}function Ll(l){var n=new google.maps.Marker({id:l.id,map:l.map,position:l.position,title:l.title,category:l.category,address:l.address,timestamp:l.timestamp,vechs:l.vechs,gps:l.gps,gprs:l.gprs,zone:l.zone,engine:l.engine,speed:l.speed,fix:l.fix,driver:l.driver,icon:{path:"M17.402,0H5.643C2.526,0,0,3.467,0,6.584v34.804c0,3.116,2.526,5.644,5.643,5.644h11.759c3.116,0,5.644-2.527,5.644-5.644 V6.584C23.044,3.467,20.518,0,17.402,0z M22.057,14.188v11.665l-2.729,0.351v-4.806L22.057,14.188z M20.625,10.773 c-1.016,3.9-2.219,8.51-2.219,8.51H4.638l-2.222-8.51C2.417,10.773,11.3,7.755,20.625,10.773z M3.748,21.713v4.492l-2.73-0.349 V14.502L3.748,21.713z M1.018,37.938V27.579l2.73,0.343v8.196L1.018,37.938z M2.575,40.882l2.218-3.336h13.771l2.219,3.336H2.575z M19.328,35.805v-7.872l2.729-0.355v10.048L19.328,35.805z",scale:.6,strokeColor:l.color,strokeWeight:1,strokeOpacity:1,fillOpacity:1,fillColor:"white",offset:"5%",rotation:l.course,anchor:new google.maps.Point(10,25)},shape:l.shape,content:l.content,tag:l.tag,cat_img:l.cat_img,elapsed_timestamp:l.elapsed_timestamp});return l.content&&google.maps.event.addListener(n,"click",(function(){for(var n=0;n<z.length;n++)z[n].close();z=[],this.getMap().newMarker||(u=this.getMap().newMarker=new google.maps.InfoWindow({zIndex:999999}),z.push(u),google.maps.event.addListener(u,"domready",(function(){$("#submitdest").click((function(){return n=l.address,x=$("#destination").val(),y="https://www.google.com/maps/dir/"+n+"/"+x,void(0==new String($("#destination").val()).length?alert("Your Destination is empty!"):window.open(y,"newwindow"));var n}))})));var e=this.content;e+="<div class='form-group row col-md-12 form-inline' id='assetRoutes'><div class='col-md-2'><span class='text-bold'>Route Info:&nbsp;</span></div><div class='col-md-6' style='background-color:black !important;'>"+'<input id="destination" type="text" class="form-control form-control-sm" placeholder="Enter Destination"></div><div class=\'col-md-3\' style=\'margin-left:10px;\'><button id="submitdest" class="btn btn-block btn-primary">Search</button></div></div>',this.getMap().newMarker.setContent(e),this.getMap().newMarker.open(this.getMap(),this),this.getMap().setCenter(this.position),i=l.title})),n}function kl(l,n){var e=new Date,t=r.utc(e).local().format("D-MMM-YYYY"),u=r(n,"D-MMM-YYYY").format("D-MMM-YYYY");return"<i class='fa fa-map-marker "+(t>u?"down":l>=2?"move":l<2&&t==u?"stop":"down")+"' title='GPS'></i>"}function Dl(l,n){var e=new Date,t=r.utc(e).local().format("D-MMM-YYYY"),u=r(n,"D-MMM-YYYY").format("D-MMM-YYYY");return"<i class='fa fa-signal "+(t>u?"down":0==l?"move":1==l?"idle":2==l&&t==u?"stop":"down")+"' title='3G'></i>"}function Tl(l){return Math.round(100*l)/100+" km/h"}function Sl(l){var n=r().format(),e=r.duration(r(n).diff(r(l))),t=parseInt(e.asDays()),u=parseInt(e.asHours());u-=24*t;var o=parseInt(e.asMinutes());return o-=24*t*60+60*u,0==t&&0==u&&0==o?"a moment ago":0==t?u+" hours "+o+" minutes ago":1==t?t+" day "+u+" hours "+o+" minutes ago":t+" days "+u+" hours "+o+" minutes ago"}function Pl(l,n){var e,t,u=new Date,o=r.utc(u).local().format("D-MMM-YYYY"),a=r(n,"D-MMM-YYYY").format("D-MMM-YYYY");return o>a?(t="down",e="DOWN"):"MOVE"==l?(t="move",e="MOVE"):"IDLE"==l?(t="idle",e="IDLE"):"STOP"==l&&o==a?(t="stop",e="STOP"):(t="down",e="DOWN"),"<span style='padding: 4px; color:white;' class='"+t+"'>"+e+"</span>"}function Vl(){for(var l=0;l<_.length;l++)_[l]&&_[l].setMap(null);for(_=[],l=0;l<E.length;l++)E[l]&&E[l].setMap(null);for(E=[],l=0;l<z.length;l++)z[l]&&z[l].close();z=[]}function Ol(){for(var l=0;l<Y.length;l++)Y[l].setMap(null);for(l=0;l<B.length;l++)B[l].setMap(null);for(l=0;l<j.length;l++)j[l].setMap(null);for(j=[],l=0;l<K.length;l++)K[l].close();for(K=[],l=0;l<X.length;l++)X[l].setMap(null);for(X=[],l=0;l<R.length;l++)R[l].overlay.setMap(null);for(R=[],l=0;l<ll.length;l++)ll[l].setMap(null);ll=[],c.setOptions({drawingControl:!0})}function _l(l,n){var e=l.y,t=l.x,u=1<<n;return e<0||e>=u?null:((t<0||t>=u)&&(t=(t%u+u)%u),{x:t,y:e})}(c=new google.maps.drawing.DrawingManager({drawingControl:!0,drawingControlOptions:{position:google.maps.ControlPosition.BOTTOM_CENTER,drawingModes:[google.maps.drawing.OverlayType.CIRCLE,google.maps.drawing.OverlayType.POLYGON,google.maps.drawing.OverlayType.MARKER,google.maps.drawing.OverlayType.RECTANGLE]},markerOptions:{draggable:!0},polylineOptions:{editable:!0},rectangleOptions:il,circleOptions:il,polygonOptions:il,map:al})).setMap(al),function(){for(var l=document.getElementById("color-palette"),n=0;n<U.length;++n){var e=U[n],t=Il(e);l.appendChild(t),H[e]=t}xl(U[0])}(),google.maps.event.addListener(c,"overlaycomplete",(function(l){if(wl(),R.push(l),l.type==google.maps.drawing.OverlayType.CIRCLE&&l.overlay.getRadius(),l.type!=google.maps.drawing.OverlayType.MARKER){c.setDrawingMode(null),c.setOptions({drawingControl:!1});var n=l.overlay;n.type=l.type,google.maps.event.addListener(n,"click",(function(){hl(n)})),hl(n)}if(l.type==google.maps.drawing.OverlayType.MARKER){var e=l.overlay.getPosition();console.log(e)}})),google.maps.event.addListener(c,"drawingmode_changed",fl),google.maps.event.addListener(al,"click",fl),google.maps.event.addListener(c,"polygoncomplete",(function(l){G.push(l),function(){console.log(l.getPath().getArray());for(var n,e=l.getPath().getArray().toString().replace(/\ /g,"").replace(/\(/g,"").replace(/\),/g," "),t=(f=e.replace(/\)/g,"")).split(" "),u=0;u<t.length;u++)n=t[0].split(",");var o=new google.maps.LatLng(parseFloat(n[0]),parseFloat(n[1])),a=new google.maps.InfoWindow({content:document.getElementById("infobubbleDrawing")});K.push(a),a.setPosition(o),a.open(al),document.getElementById("infobubbleDrawing").style.display="block",$("#panel").show(),google.maps.event.addListener(a,"closeclick",(function(){wl(),$("#panel").hide()}))}(),google.maps.event.addDomListener(document.getElementById("savebutton"),"click",vl)})),google.maps.event.addListener(c,"circlecomplete",(function(l){var n,e,t;J.push(l);for(var o=0;o<J.length;o++){n=J[o].getCenter(),e=J[o].getRadius(),google.maps.LatLng.prototype.destinationPoint=function(l,n){n/=6371,l=rl(l);var e=rl(this.lat()),t=rl(this.lng()),u=Math.asin(Math.sin(e)*Math.cos(n)+Math.cos(e)*Math.sin(n)*Math.cos(l)),o=t+Math.atan2(Math.sin(l)*Math.sin(n)*Math.cos(e),Math.cos(n)-Math.sin(e)*Math.sin(u));return isNaN(u)||isNaN(o)?null:new google.maps.LatLng(rl(u),o*(180/Math.PI))};var a=e/1e3,s=(t=new google.maps.LatLng(n.lat(),n.lng())).destinationPoint(90,a).toString().replace(/\ /g,"").replace(/\(/g,"").replace(/\),/g," ").replace(/\)/g,"");f=n.lat()+","+n.lng()+" "+s}$.getJSON(S,(function(l){$.each(l,(function(l,n){$("#getZoneTypes").append($("<option></option>").val(n.ZoneTypeID).html(n.Name))}))})),u=new google.maps.InfoWindow({content:'<div class="form-group row"><div style="padding-top: 10px;"><h6 style="color:#4286CF; padding-bottom:10px;"><i class="fa fa-map-marker fa-lg" style="color: cornflowerblue; font-size: 1.5em;"></i> Save Zone </h6 ></div><table style="width:100%"><tbody><tr><th><div class="col-sm-12 form-group"><div class=".text-normal"> Zone Name </div><input class="form-control" id="zname" name="zname" placeholder="Enter Zone Name" type="text" style="color:black !important;"></div></th></tr><tr><th><div style="padding: 10px 0 10px 0;"></div></th></tr><tr><th><div class="col-sm-12 form-group"><div class=".text-normal"> Zone Type </div><select class="form-control" data-live-search="true" data-width="100%" id="getZoneTypes" name="getZoneTypes" style="background-color:#2F343B; color:azure;"></select > </div></th ></tr><tr><th><div style="padding: 10px 0 10px 0;"></div></th></tr><tr><th><button id="savebutton" class="btn-dark btn btn-md pull-right"> Submit </button></th></tr></tbody></table></div>'}),K.push(u),u.setPosition(t),u.open(al),$("#panel").show(),google.maps.event.addListener(u,"closeclick",(function(){wl(),$("#panel").hide()})),google.maps.event.addListener(u,"domready",(function(){$("#savebutton").click((function(){return vl()}))}))})),google.maps.event.addListener(c,"markercomplete",(function(l){var n;j.push(l);for(var e=0;e<j.length;e++){var t=(n=j[e].getPosition()).toString().replace(/\ /g,"").replace(/\(/g,"").replace(/\),/g," ");f=t.replace(/\)/g,"")}var u=new google.maps.InfoWindow({content:document.getElementById("infobubbleDrawing")});K.push(u),u.setPosition(n),u.open(al),document.getElementById("infobubbleDrawing").style.display="block",$("#panel").hide(),google.maps.event.addListener(u,"closeclick",(function(){!function(){for(var l=0;l<j.length;l++)j[l].setMap(null);for(j=[],l=0;l<R.length;l++)R[l].overlay.setMap(null);for(R=[],l=0;l<K.length;l++)K[l].close();K=[],c.setOptions({drawingControl:!0})}(),$("#panel").hide()})),google.maps.event.addDomListener(document.getElementById("savebutton"),"click",vl)})),google.maps.event.addListener(c,"rectanglecomplete",(function(l){Q.push(l);var n=l.getBounds(),e=n.getNorthEast(),t=n.getSouthWest(),u=new google.maps.LatLng(e.lat(),t.lng()),o=new google.maps.LatLng(t.lat(),e.lng());w=new google.maps.Marker({map:al,position:new google.maps.LatLng(e.lat(),t.lng()),draggable:!1,title:"Drag me!"}),v=new google.maps.Marker({map:al,position:new google.maps.LatLng(t.lat(),e.lng()),draggable:!1,title:"Drag me!"}),ll.push(w,v);for(var a=(u+","+t+","+o+","+e).replace(/\ /g,"").replace(/\(/g,"").replace(/\),/g," "),s=(f=a.replace(/\)/g,"")).split(" "),i=0;i<s.length;i++)s[0].split(",");var r=new google.maps.LatLng(e.lat(),t.lng()),c=new google.maps.InfoWindow({content:document.getElementById("infobubbleDrawing")});K.push(c),c.setPosition(r),c.open(al),document.getElementById("infobubbleDrawing").style.display="block",$("#panel").show(),google.maps.event.addListener(c,"closeclick",(function(){wl(),$("#panel").hide()})),sessionStorage.setItem("setSessionstorageValuePerimeterLength",String(4)),google.maps.event.addDomListener(document.getElementById("savebutton"),"click",vl)})),I=setInterval((function(){Ml(Cl,V,l.route)}),1e4),$(".SelectResellerFilter").on("change",(function(){clearInterval(I),Vl(),Ol()})),$(".SelectCompanyFilter").change({route:this.route},(function(l){clearInterval(I),Vl(),Ol();var n=function(l,n,e,t){var u;return 1==l?u=n+e+"zoneinfo?ResellerID="+$("#load-reseller").val()+"&CompanyID="+$("#load-company").val():2==l?u=n+e+"zoneinfo?ResellerID="+t+"&CompanyID="+$("#load-company").val():l>=3&&(u=n+e+"zoneinfo?ResellerID="+t+"&CompanyID="+$("#load-company").val()),u}(T,M,C,k),e=function(l,n,e,t,u){var o;return 1==l?o=n+e+"assetinfo?UserID=&ResellerID="+$("#load-reseller").val()+"&CompanyID="+$("#load-company").val():2==l?o=n+e+"assetinfo?UserID="+t+"&ResellerID="+u+"&CompanyID="+$("#load-company").val():l>=3&&(o=n+e+"assetinfo?UserID="+t+"&ResellerID="+u+"&CompanyID="+$("#load-company").val()),o}(T,M,C,L,k);cl(dl,n),Ml(Cl,e,l.data.route),I=setInterval((function(){Ml(Cl,e,l.data.route)}),1e4)})),$(".SelectAssetFilter").on("change",(function(){var l=$(this).find("option:selected").val();for(s=0;s<_.length;s++)t=_[s],_[s]&&t.id==l&&google.maps.event.trigger(_[s],"click")})),this.spinner.hide()},l}(),m=e("Ip0R"),b=e("ZYCi"),f=t.ub({encapsulation:2,styles:[["#map-canvas{position:relative;margin:0 auto;padding:0;overflow:hidden;max-width:none!important;box-shadow:none!important}.gmap-control-container{margin:10px 5.3px 5.3px -6px;padding-left:2px;padding-right:2px}.gmap-control{cursor:pointer;background-color:-moz-linear-gradient(center top,#fefefe,#f3f3f3);background-color:#fefefe!important;border:1px solid #a9bbdf;border-radius:2px;padding:0 6px;line-height:160%;font-size:11px;font-family:Arial,sans-serif;box-shadow:2px 2px 3px rgba(0,0,0,.35);-webkit-user-select:none;-moz-user-select:none;-o-user-select:none;-ms-user-select:none;user-select:none}.gmap-control-active,.gmap-control:hover{border:1px solid #678ac7}.gmap-control-active{background-color:-moz-linear-gradient(center top,#6d8acc,#7b98d9)!important;background-color:#6d8acc!important;color:#fff;font-weight:700}.gmap-control-legend{position:absolute;text-align:left;z-index:-1;top:20px;left:0;width:150px;height:86px;font-size:10px;background:#fefefe;border:1px solid #a9bbdf;padding:10px;box-shadow:2px 2px 3px rgba(0,0,0,.35)}.gmap-control-legend ul{margin:0;padding:0;list-style-type:none}.gmap-control-legend li{line-height:160%}.controls{margin-top:7px;border:1px solid transparent;border-radius:2px 0 0 2px;box-sizing:border-box;-moz-box-sizing:border-box;height:32px;outline:none;box-shadow:0 2px 6px rgba(0,0,0,.3)}#pac-input-from,#pac-input-to{background-color:#fff;font-family:Roboto;font-size:12px;font-weight:300;padding:0 11px 0 13px;text-overflow:ellipsis;width:300px}#pac-input,#pac-inputEN{background-color:#fff;font-family:Roboto;font-size:12px;font-weight:300;margin-left:12px;padding:0 11px 0 13px;text-overflow:ellipsis;width:300px}#pac-inputEN:focus{border-color:#4d90fe}.pac-container{font-family:Roboto}#type-selector{color:#fff;background-color:#4d90fe;padding:5px 11px 0}#type-selector label{font-family:Roboto;font-size:13px;font-weight:300}#pac-input:focus{border-color:#4d90fe}#target{width:345px}#hideDetails,#showDetails{cursor:pointer}.gm-style .gm-style-iw{top:0!important;left:0!important;max-width:450px!important;padding-top:10px;display:block!important;overflow:visible!important}.gm-style .gm-style-iw,.gm-style .gm-style-pbc{background-color:#1e1e24!important}.gm-style .gm-style-iw #google-popup p{padding:10px}.gm-style div div div div div div div div{background-color:#1e1e24!important;margin:0;padding:0;top:0;color:#fff;font-size:12px;overflow:hidden!important}.poi-info-window a:link{text-decoration:none;color:#97d8ff!important;background:none!important}.gm-style div div div div div div div div a{color:#f1f1f1;font-weight:700}.gm-style .gm-style-iw-t:after{background:linear-gradient(45deg,#3b3f48 50%,hsla(0,0%,100%,0) 51%,hsla(0,0%,100%,0))!important;background-color:transparent}.gm-style img.vehicle-img{width:100px;text-align:center;padding-bottom:10px}.gm-style .gm-style-iw-d{overflow:visible}.gm-ui-hover-effect{background-color:#fff!important;opacity:.9;top:0!important;right:0!important;width:15px!important;height:15px!important;margin-top:0!important;margin-right:0!important}.gm-ui-hover-effect img{margin:1px!important}.input-map{padding:.285rem .75rem!important;background-color:#eaeaea!important;color:#495057!important;font-size:12px!important}#assetDetails{font-size:13px;line-height:1.57;color:#fff}#assetInfo i{color:#fff;border-radius:4px;padding:5px 8px;font-size:13px}.move{background-color:#2b7c21}.stop{background-color:#b60003}.idle{background-color:#fea82c}.down{background-color:#696969}.form-inline .form-control{width:100%}.form-control,.form-control:focus{background-color:#fff}.form-control:focus{border-color:#46b1ff}.table{color:#fff}button.gm-ui-hover-effect{margin-top:10px!important;margin-right:10px!important}.labels{color:#fff;background-color:#000;font-family:Lucida Grande,Arial,sans-serif;font-size:10px;text-align:center;width:100px;white-space:nowrap}#panel{width:200px;font-family:Arial,sans-serif;font-size:13px;float:right;margin:10px;padding:8px 8px 10px 10px;background-color:#404040;width:auto}#color-palette{clear:both}.color-button{width:14px;height:14px;font-size:0;margin:2px;float:left;cursor:pointer}nav#map-toggle button{position:absolute;left:-120px;top:70px}nav#map-toggle button i{margin-top:-2px}.open-close-container label,.open-close-container p{font-size:12px!important}.open-close-container{position:absolute;z-index:999999;right:0;top:0;height:100%;padding:5px;color:#eaeaea;font-size:14px!important}#assetStatus{font-size:12px;color:#000!important}#assetStatus i.fa{width:20px;height:20px;padding-top:5px;text-align:center;border-radius:2px;color:#fff!important}#assetStatus .vehicle-img{width:30px}"]],data:{}});function h(l){return t.Yb(0,[(l()(),t.wb(0,0,null,null,3,"ngx-spinner",[["bdColor","rgba(51, 51, 51, 0.96)"],["size","medium"],["type","ball-spin-clockwise"]],null,null,null,s.b,s.a)),t.vb(1,770048,null,0,i.a,[i.c,t.h],{bdColor:[0,"bdColor"],size:[1,"size"],type:[2,"type"]},null),(l()(),t.wb(2,0,null,0,1,"p",[["style","color: white"]],null,null,null,null,null)),(l()(),t.Vb(-1,null,["Please Wait. "])),(l()(),t.wb(4,0,null,null,112,"div",[["class","animated fadeIn"]],null,null,null,null,null)),(l()(),t.wb(5,0,null,null,48,"div",[["class","row"]],null,null,null,null,null)),(l()(),t.wb(6,0,null,null,11,"div",[["class","col-sm-6 col-lg-3"]],null,null,null,null,null)),(l()(),t.wb(7,0,null,null,10,"div",[["class","brand-card"]],null,null,null,null,null)),(l()(),t.wb(8,0,null,null,5,"div",[["class","card-body pb-3 bg-success"]],null,null,null,null,null)),(l()(),t.wb(9,0,null,null,1,"div",[["class","btn-group float-right"]],null,null,null,null,null)),(l()(),t.wb(10,0,null,null,0,"i",[["class","fa fa-car fa-2x"]],null,null,null,null,null)),(l()(),t.wb(11,0,null,null,0,"div",[["class","text-value"],["id","getMove"]],null,null,null,null,null)),(l()(),t.wb(12,0,null,null,1,"div",[],null,null,null,null,null)),(l()(),t.Vb(-1,null,["MOVE"])),(l()(),t.wb(14,0,null,null,3,"div",[["class","brand-card-body"]],null,null,null,null,null)),(l()(),t.wb(15,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),t.wb(16,0,null,null,1,"div",[["class","text-uppercase text-muted small"]],null,null,null,null,null)),(l()(),t.Vb(-1,null,["Status when vehicle is MOVING"])),(l()(),t.wb(18,0,null,null,11,"div",[["class","col-sm-6 col-lg-3"]],null,null,null,null,null)),(l()(),t.wb(19,0,null,null,10,"div",[["class","brand-card"]],null,null,null,null,null)),(l()(),t.wb(20,0,null,null,5,"div",[["class","card-body pb-3 bg-warning"]],null,null,null,null,null)),(l()(),t.wb(21,0,null,null,1,"div",[["class","btn-group float-right"]],null,null,null,null,null)),(l()(),t.wb(22,0,null,null,0,"i",[["class","fa fa-car fa-2x"]],null,null,null,null,null)),(l()(),t.wb(23,0,null,null,0,"div",[["class","text-value"],["id","getIdle"]],null,null,null,null,null)),(l()(),t.wb(24,0,null,null,1,"div",[],null,null,null,null,null)),(l()(),t.Vb(-1,null,["IDLE"])),(l()(),t.wb(26,0,null,null,3,"div",[["class","brand-card-body"]],null,null,null,null,null)),(l()(),t.wb(27,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),t.wb(28,0,null,null,1,"div",[["class","text-uppercase text-muted small"]],null,null,null,null,null)),(l()(),t.Vb(-1,null,["Status when vehicle is IDLE"])),(l()(),t.wb(30,0,null,null,11,"div",[["class","col-sm-6 col-lg-3"]],null,null,null,null,null)),(l()(),t.wb(31,0,null,null,10,"div",[["class","brand-card"]],null,null,null,null,null)),(l()(),t.wb(32,0,null,null,5,"div",[["class","card-body pb-3 bg-danger"]],null,null,null,null,null)),(l()(),t.wb(33,0,null,null,1,"div",[["class","btn-group float-right"]],null,null,null,null,null)),(l()(),t.wb(34,0,null,null,0,"i",[["class","fa fa-car fa-2x"]],null,null,null,null,null)),(l()(),t.wb(35,0,null,null,0,"div",[["class","text-value"],["id","getStop"]],null,null,null,null,null)),(l()(),t.wb(36,0,null,null,1,"div",[],null,null,null,null,null)),(l()(),t.Vb(-1,null,["STOP"])),(l()(),t.wb(38,0,null,null,3,"div",[["class","brand-card-body"]],null,null,null,null,null)),(l()(),t.wb(39,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),t.wb(40,0,null,null,1,"div",[["class","text-uppercase text-muted small"]],null,null,null,null,null)),(l()(),t.Vb(-1,null,["Status when vehicle is OFF"])),(l()(),t.wb(42,0,null,null,11,"div",[["class","col-sm-6 col-lg-3"]],null,null,null,null,null)),(l()(),t.wb(43,0,null,null,10,"div",[["class","brand-card"]],null,null,null,null,null)),(l()(),t.wb(44,0,null,null,5,"div",[["class","card-body pb-3 bg-dark"]],null,null,null,null,null)),(l()(),t.wb(45,0,null,null,1,"div",[["class","btn-group float-right"]],null,null,null,null,null)),(l()(),t.wb(46,0,null,null,0,"i",[["class","fa fa-car fa-2x"]],null,null,null,null,null)),(l()(),t.wb(47,0,null,null,0,"div",[["class","text-value"],["id","getDown"]],null,null,null,null,null)),(l()(),t.wb(48,0,null,null,1,"div",[],null,null,null,null,null)),(l()(),t.Vb(-1,null,["DOWN"])),(l()(),t.wb(50,0,null,null,3,"div",[["class","brand-card-body"]],null,null,null,null,null)),(l()(),t.wb(51,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),t.wb(52,0,null,null,1,"div",[["class","text-uppercase text-muted small"]],null,null,null,null,null)),(l()(),t.Vb(-1,null,["Down for more than 24 hours"])),(l()(),t.wb(54,0,null,null,62,"div",[["class","card"]],null,null,null,null,null)),(l()(),t.wb(55,0,null,null,4,"div",[["class","card-header"]],null,null,null,null,null)),(l()(),t.wb(56,0,null,null,1,"span",[["class","font-weight-bold"]],null,null,null,null,null)),(l()(),t.Vb(-1,null,["Vehicles:\xa0"])),(l()(),t.wb(58,0,null,null,0,"span",[["id","total-vehicles"]],null,null,null,null,null)),(l()(),t.wb(59,0,null,null,0,"span",[["class","float-right"],["id","coordinates-panel"]],null,null,null,null,null)),(l()(),t.wb(60,0,null,null,32,"div",[["class","card-body"]],null,null,null,null,null)),(l()(),t.wb(61,0,null,null,4,"div",[["class","row"]],null,null,null,null,null)),(l()(),t.wb(62,0,null,null,3,"div",[["class","col-sm-12"]],null,null,null,null,null)),(l()(),t.wb(63,0,null,null,0,"div",[["id","map-canvas"],["style","height:600px;"]],null,null,null,null,null)),(l()(),t.wb(64,0,null,null,1,"div",[["id","panel"]],null,null,null,null,null)),(l()(),t.wb(65,0,null,null,0,"div",[["id","color-palette"]],null,null,null,null,null)),(l()(),t.wb(66,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.wb(67,0,null,null,25,"div",[["class","row"]],null,null,null,null,null)),(l()(),t.wb(68,0,null,null,24,"div",[["class","col-sm-12"]],null,null,null,null,null)),(l()(),t.wb(69,0,null,null,23,"table",[["class","table table-responsive-sm table-hover table-outline mb-0"]],null,null,null,null,null)),(l()(),t.wb(70,0,null,null,21,"thead",[["class","thead-dark"]],null,null,null,null,null)),(l()(),t.wb(71,0,null,null,20,"tr",[],null,null,null,null,null)),(l()(),t.wb(72,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Vb(-1,null,["Name"])),(l()(),t.wb(74,0,null,null,1,"th",[["class","text-center"]],null,null,null,null,null)),(l()(),t.Vb(-1,null,["Address"])),(l()(),t.wb(76,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Vb(-1,null,["Date"])),(l()(),t.wb(78,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Vb(-1,null,["Last Updated"])),(l()(),t.wb(80,0,null,null,1,"th",[["class","text-center"]],null,null,null,null,null)),(l()(),t.Vb(-1,null,["Speed"])),(l()(),t.wb(82,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Vb(-1,null,["Driver"])),(l()(),t.wb(84,0,null,null,1,"th",[["class","text-center"]],null,null,null,null,null)),(l()(),t.Vb(-1,null,["Fix"])),(l()(),t.wb(86,0,null,null,1,"th",[["class","text-center"]],null,null,null,null,null)),(l()(),t.Vb(-1,null,["Engine"])),(l()(),t.wb(88,0,null,null,1,"th",[["class","text-center"]],null,null,null,null,null)),(l()(),t.Vb(-1,null,["GPS"])),(l()(),t.wb(90,0,null,null,1,"th",[["class","text-center"]],null,null,null,null,null)),(l()(),t.Vb(-1,null,["Network"])),(l()(),t.wb(92,0,null,null,0,"tbody",[["id","assetStatus"]],null,null,null,null,null)),(l()(),t.wb(93,0,null,null,23,"div",[["class","card-footer"]],null,null,null,null,null)),(l()(),t.wb(94,0,null,null,22,"div",[["class","row text-center"]],null,null,null,null,null)),(l()(),t.wb(95,0,null,null,1,"h6",[],null,null,null,null,null)),(l()(),t.Vb(-1,null,["Traffic Legend"])),(l()(),t.wb(97,0,null,null,4,"div",[["class","col-sm-12 col-md mb-sm-2 mb-0"]],null,null,null,null,null)),(l()(),t.wb(98,0,null,null,1,"div",[["class","text-muted"]],null,null,null,null,null)),(l()(),t.Vb(-1,null,["Smooth Traffic"])),(l()(),t.wb(100,0,null,null,1,"div",[["class","progress progress-xs mt-2"]],null,null,null,null,null)),(l()(),t.wb(101,0,null,null,0,"div",[["aria-valuemax","100"],["aria-valuemin","100"],["aria-valuenow","100"],["class","progress-bar bg-success"],["role","progressbar"],["style","width: 100%"]],null,null,null,null,null)),(l()(),t.wb(102,0,null,null,4,"div",[["class","col-sm-12 col-md mb-sm-2 mb-0"]],null,null,null,null,null)),(l()(),t.wb(103,0,null,null,1,"div",[["class","text-muted"]],null,null,null,null,null)),(l()(),t.Vb(-1,null,["Slow Moving Traffic"])),(l()(),t.wb(105,0,null,null,1,"div",[["class","progress progress-xs mt-2"]],null,null,null,null,null)),(l()(),t.wb(106,0,null,null,0,"div",[["aria-valuemax","100"],["aria-valuemin","100"],["aria-valuenow","100"],["class","progress-bar bg-warning"],["role","progressbar"],["style","width: 100%"]],null,null,null,null,null)),(l()(),t.wb(107,0,null,null,4,"div",[["class","col-sm-12 col-md mb-sm-2 mb-0"]],null,null,null,null,null)),(l()(),t.wb(108,0,null,null,1,"div",[["class","text-muted"]],null,null,null,null,null)),(l()(),t.Vb(-1,null,["Heavy Traffic"])),(l()(),t.wb(110,0,null,null,1,"div",[["class","progress progress-xs mt-2"]],null,null,null,null,null)),(l()(),t.wb(111,0,null,null,0,"div",[["aria-valuemax","100"],["aria-valuemin","100"],["aria-valuenow","100"],["class","progress-bar bg-danger"],["role","progressbar"],["style","width: 100%"]],null,null,null,null,null)),(l()(),t.wb(112,0,null,null,4,"div",[["class","col-sm-12 col-md mb-sm-2 mb-0"]],null,null,null,null,null)),(l()(),t.wb(113,0,null,null,1,"div",[["class","text-muted"]],null,null,null,null,null)),(l()(),t.Vb(-1,null,["No Data Available"])),(l()(),t.wb(115,0,null,null,1,"div",[["class","progress progress-xs mt-2"]],null,null,null,null,null)),(l()(),t.wb(116,0,null,null,0,"div",[["aria-valuemax","100"],["aria-valuemin","100"],["aria-valuenow","100"],["class","progress-bar bg-gray-dark"],["role","progressbar"],["style","width: 100%"]],null,null,null,null,null))],(function(l,n){l(n,1,0,"rgba(51, 51, 51, 0.96)","medium","ball-spin-clockwise")}),null)}function w(l){return t.Yb(0,[(l()(),t.wb(0,0,null,null,1,"ng-component",[],null,null,null,h,f)),t.vb(1,114688,null,0,g,[c.a,m.h,b.l,i.c],null,null)],(function(l,n){l(n,1,0)}),null)}var v=t.sb("ng-component",g,w,{},{},[]),y=e("Vu3N"),x=e("8e6m"),I={interval:1500,noPause:!1},M=function(){function l(l,n,e,t){var u=this;this._constant=l,this.router=e,this.spinner=t,this.slides=[],this._slides=[],this.router.events.subscribe((function(l){""!=n.path()&&(u.route=n.path())}))}return l.prototype.ngOnInit=function(){var l=this;this.spinner.show(),Number(sessionStorage.getItem("setSessionstorageValueUserID")),Number(sessionStorage.getItem("setSessionstorageValueUserResellerID")),Number(sessionStorage.getItem("setSessionstorageValueCompanyID"));var n,e,t,u,o=this._constant.trafficApi,a=[],s=new Array,i=!0,c=[],d=[],g={coord:[16,0,18,1,21,2,24,3,26,4,27,5,28,6,29,7,29,8,29,9,29,10,29,11,29,12,29,13,29,14,29,15,29,16,29,17,29,18,29,19,29,20,29,21,29,22,29,23,29,24,29,25,29,26,29,27,29,28,28,29,3,29,2,28,2,27,1,26,1,25,1,24,0,23,0,22,0,21,0,20,0,19,0,18,0,17,0,16,0,15,0,14,0,13,0,12,0,11,0,10,0,9,0,8,0,7,1,6,2,5,2,4,3,3,5,2,6,1,8,0,16,0],type:"poly"},m={zoom:12,center:new google.maps.LatLng(1.3521,103.8198),panControl:!1,zoomControl:!1,zoomControlOptions:{position:google.maps.ControlPosition.LEFT_TOP},mapTypeControl:!1,streetViewControl:!1,streetViewControlOptions:{position:google.maps.ControlPosition.RIGHT_BOTTOM},fullscreenControl:!0,fullscreenControlOptions:{position:google.maps.ControlPosition.TOP_LEFT},scaleControl:!1,overviewMapControl:!1};function b(l,n,e,t,u){p.a.get(n).then((function(n){l(n.data,e,t,u)})).catch((function(l){console.log(l)}))}function f(l,u,o,a){var p=l.items[0],m=new google.maps.LatLngBounds;if("healthy"==l.api_info.status){for(var b=p.cameras,f=0,v=b.length;f<v;f++){var y=b[f].camera_id,x=b[f].image,I=b[f].timestamp,M=r.utc(I).local().format("D-MMM-YYYY, hh:mm:ss A"),C=b[f].location.latitude,L=b[f].location.longitude,k=new google.maps.LatLng(C,L),D=w(r.utc(I).local().format()),T="https://chart.apis.google.com/chart?cht=mm&chs=24x32&chco=FFFFFF,63C2DE&ext=.png",S="<div id='trafficInfo' class='form-group row' style='padding:0px !important;'>";S+="<div class='col-md-8'><h6>Camera ID: "+y+"</h6></div>",S+="<table class='table table-vcenter'><tbody><tr><td colspan='2'>",S+="<span class='font-weight-bold'>Latitude:&nbsp;</span>"+C+"<br /><span class='font-weight-bold'>Longtitude:&nbsp;</span>"+L+"<br /><span class='font-weight-bold'>Date:&nbsp;</span>"+M+"<br /><span class='font-weight-bold'>Last Updated:&nbsp;</span>"+D+"<br /></td><td colspan='2' class='pl-4'><img class='traffic-img' src='"+x+"'/><br />",(e=h({icon:T,map:n,position:k,title:y,shape:g,camera_id:y,image:x,timestamp:M,elapsed_timestamp:D,latitude:C,longitude:L,content:S+="</td></tr></tbody></table></div></div>"})).setMap(n),s[f]&&s[f].setPosition?($("#trafficStatus").empty(),c=[],d=[],o=[],e.setMap(null),t==y?(s[f].setPosition(k),s[f].setIcon(T),s[f].id=y,s[f].content=S,s[f].timestamp=M,s[f].image=x,s[f].elapsed_timestamp=D,s[f].latitude=C,s[f].longitude=L,null==$("#trafficInfo").val()&&null==$("#trafficInfo").val()||(document.getElementById("trafficInfo").innerHTML=S,n.panTo(e.getPosition()))):(s[f].id=y,s[f].content=S,s[f].timestamp=M,s[f].image=x,s[f].elapsed_timestamp=D,s[f].latitude=C,s[f].longitude=L)):(m.extend(k),s[f]=e)}if(i&&(n.setZoom(7),n.fitBounds(m),i=!1),"/tracking/traffic"==u){do{c[c.length]=s.splice(Math.floor(Math.random()*s.length),1)[0]}while(c.length<4);for(var P=0;P<c.length;P++)c[P]&&o.push({image:c[P].image,latitude:c[P].latitude,longitude:c[P].longitude,title:c[P].title});do{d[d.length]=s.splice(Math.floor(Math.random()*s.length),1)[0]}while(d.length<4);for(var V=0;V<d.length;V++)d[V]&&a.push({image:d[V].image,latitude:d[V].latitude,longitude:d[V].longitude,title:d[V].title});document.getElementById("total-cameras").innerHTML=b.length}}}function h(l){var n=new google.maps.Marker({icon:l.icon,camera_id:l.camera_id,map:l.map,position:l.position,title:l.title,content:l.content,image:l.image,shape:l.shape,latitude:l.latitude,longitude:l.longitude,timestamp:l.timestamp,elapsed_timestamp:l.elapsed_timestamp});return l.content&&google.maps.event.addListener(n,"click",(function(){for(var n=0;n<a.length;n++)a[n].close();a=[],this.getMap().newMarker||(u=this.getMap().newMarker=new google.maps.InfoWindow({zIndex:999999}),a.push(u)),this.getMap().newMarker.setContent(this.content),this.getMap().newMarker.open(this.getMap(),this),this.getMap().setCenter(this.position),t=l.title})),n}function w(l){var n=r().format(),e=r.duration(r(n).diff(r(l))),t=parseInt(e.asDays()),u=parseInt(e.asHours());u-=24*t;var o=parseInt(e.asMinutes());return o-=24*t*60+60*u,0==t&&0==u&&0==o?"a moment ago":0==t?u+" hours "+o+" minutes ago":1==t?t+" day "+u+" hours "+o+" minutes ago":t+" days "+u+" hours "+o+" minutes ago"}n=new google.maps.Map(document.getElementById("traffic-map"),m),b(f,o,this.route,this.slides,this._slides),google.maps.event.addListener(n,"mousemove",(function(l){document.getElementById("coordinates-panel").innerHTML=l.latLng.lat()+", "+l.latLng.lng()})),setInterval((function(){b(f,o,l.route,l.slides,l._slides)}),3e4),this.spinner.hide()},l}(),C=t.ub({encapsulation:2,styles:[["#traffic-map{position:relative;margin:0 auto;padding:0;overflow:hidden;max-width:none!important;box-shadow:none!important}.gm-style .gm-style-iw{top:0!important;left:0!important;max-width:450px!important;padding-top:10px;display:block!important;overflow:visible!important}.gm-style .gm-style-iw,.gm-style .gm-style-pbc{background-color:#1e1e24!important}.gm-style .gm-style-iw #google-popup p{padding:10px}.gm-style div div div div div div div div{background-color:#1e1e24!important;margin:0;padding:0;top:0;color:#fff;font-size:12px;overflow:hidden!important}.poi-info-window a:link{text-decoration:none;color:#97d8ff!important;background:none!important}.gm-style div div div div div div div div a{color:#f1f1f1;font-weight:700}.gm-style .gm-style-iw-t:after{background:linear-gradient(45deg,#3b3f48 50%,hsla(0,0%,100%,0) 51%,hsla(0,0%,100%,0))!important;background-color:transparent}.gm-style img.traffic-img{width:180px;height:180px;text-align:center;padding-bottom:10px}.gm-style .gm-style-iw-d{overflow:visible}.gm-ui-hover-effect{background-color:#fff!important;opacity:.9;top:0!important;right:0!important;width:15px!important;height:15px!important;margin-top:0!important;margin-right:0!important}.gm-ui-hover-effect img{margin:1px!important}.input-map{padding:.285rem .75rem!important;background-color:#eaeaea!important;color:#495057!important;font-size:12px!important}#assetDetails{font-size:13px;line-height:1.57;color:#fff}#assetInfo i{color:#fff;border-radius:4px;padding:5px 8px;font-size:13px}.move{background-color:#2b7c21}.stop{background-color:#b60003}.idle{background-color:#fea82c}.down{background-color:#696969}.form-inline .form-control{width:100%}.form-control,.form-control:focus{background-color:#fff}.form-control:focus{border-color:#46b1ff}.table{color:#fff}button.gm-ui-hover-effect{margin-top:10px!important;margin-right:10px!important}.labels{color:#fff;background-color:#000;font-family:Lucida Grande,Arial,sans-serif;font-size:10px;text-align:center;width:100px;white-space:nowrap}#panel{width:200px;font-family:Arial,sans-serif;font-size:13px;float:right;margin:10px;padding:8px 8px 10px 10px;background-color:#404040;width:auto}#color-palette{clear:both}.color-button{width:14px;height:14px;font-size:0;margin:2px;float:left;cursor:pointer}nav#map-toggle button{position:absolute;left:-120px;top:70px}nav#map-toggle button i{margin-top:-2px}.open-close-container label,.open-close-container p{font-size:12px!important}.open-close-container{position:absolute;z-index:999999;right:0;top:0;height:100%;padding:5px;color:#eaeaea;font-size:14px!important}.carousel{width:100%;height:300px;overflow:hidden!important}.carousel-inner{overflow:hidden}.carousel-inner img{width:800px;height:100%}"]],data:{}});function L(l){return t.Yb(0,[(l()(),t.wb(0,0,null,null,7,"slide",[],[[1,"aria-hidden",0],[2,"active",null],[4,"width",null],[4,"order",null],[2,"item",null],[2,"carousel-item",null]],null,null,y.d,y.b)),t.vb(1,245760,null,0,x.d,[x.a],null,null),(l()(),t.wb(2,0,null,0,0,"img",[["alt","image slide"],["style","display: block; width: 100%; "]],[[8,"src",4]],null,null,null,null)),(l()(),t.wb(3,0,null,0,4,"div",[["class","carousel-caption"]],null,null,null,null,null)),(l()(),t.wb(4,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),t.Vb(5,null,["Camera ID: ",""])),(l()(),t.wb(6,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),t.Vb(7,null,["(",",",")"]))],(function(l,n){l(n,1,0)}),(function(l,n){l(n,0,0,!t.Lb(n,1).active,t.Lb(n,1).active,t.Lb(n,1).itemWidth,t.Lb(n,1).order,t.Lb(n,1).addClass,t.Lb(n,1).addClass),l(n,2,0,n.context.$implicit.image),l(n,5,0,n.context.$implicit.title),l(n,7,0,n.context.$implicit.latitude,n.context.$implicit.longitude)}))}function k(l){return t.Yb(0,[(l()(),t.wb(0,0,null,null,7,"slide",[],[[1,"aria-hidden",0],[2,"active",null],[4,"width",null],[4,"order",null],[2,"item",null],[2,"carousel-item",null]],null,null,y.d,y.b)),t.vb(1,245760,null,0,x.d,[x.a],null,null),(l()(),t.wb(2,0,null,0,0,"img",[["alt","image slide"],["style","display: block; width: 100%; "]],[[8,"src",4]],null,null,null,null)),(l()(),t.wb(3,0,null,0,4,"div",[["class","carousel-caption"]],null,null,null,null,null)),(l()(),t.wb(4,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),t.Vb(5,null,["Camera ID: ",""])),(l()(),t.wb(6,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),t.Vb(7,null,["(",",",")"]))],(function(l,n){l(n,1,0)}),(function(l,n){l(n,0,0,!t.Lb(n,1).active,t.Lb(n,1).active,t.Lb(n,1).itemWidth,t.Lb(n,1).order,t.Lb(n,1).addClass,t.Lb(n,1).addClass),l(n,2,0,n.context.$implicit.image),l(n,5,0,n.context.$implicit.title),l(n,7,0,n.context.$implicit.latitude,n.context.$implicit.longitude)}))}function D(l){return t.Yb(0,[(l()(),t.wb(0,0,null,null,3,"ngx-spinner",[["bdColor","rgba(51, 51, 51, 0.96)"],["size","medium"],["type","ball-spin-clockwise"]],null,null,null,s.b,s.a)),t.vb(1,770048,null,0,i.a,[i.c,t.h],{bdColor:[0,"bdColor"],size:[1,"size"],type:[2,"type"]},null),(l()(),t.wb(2,0,null,0,1,"p",[["style","color: white"]],null,null,null,null,null)),(l()(),t.Vb(-1,null,["Please Wait. "])),(l()(),t.wb(4,0,null,null,58,"div",[["class","animated fadeIn"]],null,null,null,null,null)),(l()(),t.wb(5,0,null,null,20,"div",[["class","row"]],null,null,null,null,null)),(l()(),t.wb(6,0,null,null,9,"div",[["class","col-sm-6"]],null,null,null,null,null)),(l()(),t.wb(7,0,null,null,8,"div",[["class","card"]],null,null,null,null,null)),(l()(),t.wb(8,0,null,null,2,"div",[["class","card-header"]],null,null,null,null,null)),(l()(),t.wb(9,0,null,null,1,"span",[["class","font-weight-bold"]],null,null,null,null,null)),(l()(),t.Vb(-1,null,["Traffic Situations"])),(l()(),t.wb(11,0,null,null,4,"div",[["class","card-body"]],null,null,null,null,null)),(l()(),t.wb(12,0,null,null,3,"carousel",[],null,null,null,y.c,y.a)),t.vb(13,4374528,null,0,x.a,[x.b,t.z],{interval:[0,"interval"]},null),(l()(),t.fb(16777216,null,0,1,null,L)),t.vb(15,278528,null,0,m.k,[t.O,t.L,t.s],{ngForOf:[0,"ngForOf"]},null),(l()(),t.wb(16,0,null,null,9,"div",[["class","col-sm-6"]],null,null,null,null,null)),(l()(),t.wb(17,0,null,null,8,"div",[["class","card"]],null,null,null,null,null)),(l()(),t.wb(18,0,null,null,2,"div",[["class","card-header"]],null,null,null,null,null)),(l()(),t.wb(19,0,null,null,1,"span",[["class","font-weight-bold"]],null,null,null,null,null)),(l()(),t.Vb(-1,null,["Traffic Situations"])),(l()(),t.wb(21,0,null,null,4,"div",[["class","card-body"]],null,null,null,null,null)),(l()(),t.wb(22,0,null,null,3,"carousel",[],null,null,null,y.c,y.a)),t.vb(23,4374528,null,0,x.a,[x.b,t.z],{interval:[0,"interval"]},null),(l()(),t.fb(16777216,null,0,1,null,k)),t.vb(25,278528,null,0,m.k,[t.O,t.L,t.s],{ngForOf:[0,"ngForOf"]},null),(l()(),t.wb(26,0,null,null,36,"div",[["class","row"]],null,null,null,null,null)),(l()(),t.wb(27,0,null,null,35,"div",[["class","col-md-12"]],null,null,null,null,null)),(l()(),t.wb(28,0,null,null,34,"div",[["class","card"]],null,null,null,null,null)),(l()(),t.wb(29,0,null,null,4,"div",[["class","card-header"]],null,null,null,null,null)),(l()(),t.wb(30,0,null,null,1,"span",[["class","font-weight-bold"]],null,null,null,null,null)),(l()(),t.Vb(-1,null,["Active Cameras:\xa0"])),(l()(),t.wb(32,0,null,null,0,"span",[["id","total-cameras"]],null,null,null,null,null)),(l()(),t.wb(33,0,null,null,0,"span",[["class","float-right"],["id","coordinates-panel"]],null,null,null,null,null)),(l()(),t.wb(34,0,null,null,4,"div",[["class","card-body"]],null,null,null,null,null)),(l()(),t.wb(35,0,null,null,2,"div",[["class","row"]],null,null,null,null,null)),(l()(),t.wb(36,0,null,null,1,"div",[["class","col-sm-12"]],null,null,null,null,null)),(l()(),t.wb(37,0,null,null,0,"div",[["id","traffic-map"],["style","height:600px;"]],null,null,null,null,null)),(l()(),t.wb(38,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.wb(39,0,null,null,23,"div",[["class","card-footer"]],null,null,null,null,null)),(l()(),t.wb(40,0,null,null,1,"h6",[],null,null,null,null,null)),(l()(),t.Vb(-1,null,["Traffic Speed Legend"])),(l()(),t.wb(42,0,null,null,20,"div",[["class","row text-center"]],null,null,null,null,null)),(l()(),t.wb(43,0,null,null,4,"div",[["class","col-sm-12 col-md mb-sm-2 mb-0"]],null,null,null,null,null)),(l()(),t.wb(44,0,null,null,1,"div",[["class","text-muted"]],null,null,null,null,null)),(l()(),t.Vb(-1,null,["\u2265 60 km/h"])),(l()(),t.wb(46,0,null,null,1,"div",[["class","progress progress-xs mt-2"]],null,null,null,null,null)),(l()(),t.wb(47,0,null,null,0,"div",[["aria-valuemax","100"],["aria-valuemin","100"],["aria-valuenow","100"],["class","progress-bar bg-success"],["role","progressbar"],["style","width: 100%"]],null,null,null,null,null)),(l()(),t.wb(48,0,null,null,4,"div",[["class","col-sm-12 col-md mb-sm-2 mb-0"]],null,null,null,null,null)),(l()(),t.wb(49,0,null,null,1,"div",[["class","text-muted"]],null,null,null,null,null)),(l()(),t.Vb(-1,null,["40-59 km/h"])),(l()(),t.wb(51,0,null,null,1,"div",[["class","progress progress-xs mt-2"]],null,null,null,null,null)),(l()(),t.wb(52,0,null,null,0,"div",[["aria-valuemax","100"],["aria-valuemin","100"],["aria-valuenow","100"],["class","progress-bar bg-warning"],["role","progressbar"],["style","width: 100%"]],null,null,null,null,null)),(l()(),t.wb(53,0,null,null,4,"div",[["class","col-sm-12 col-md mb-sm-2 mb-0"]],null,null,null,null,null)),(l()(),t.wb(54,0,null,null,1,"div",[["class","text-muted"]],null,null,null,null,null)),(l()(),t.Vb(-1,null,["20-39 km/h"])),(l()(),t.wb(56,0,null,null,1,"div",[["class","progress progress-xs mt-2"]],null,null,null,null,null)),(l()(),t.wb(57,0,null,null,0,"div",[["aria-valuemax","100"],["aria-valuemin","100"],["aria-valuenow","100"],["class","progress-bar bg-danger"],["role","progressbar"],["style","width: 100%"]],null,null,null,null,null)),(l()(),t.wb(58,0,null,null,4,"div",[["class","col-sm-12 col-md mb-sm-2 mb-0"]],null,null,null,null,null)),(l()(),t.wb(59,0,null,null,1,"div",[["class","text-muted"]],null,null,null,null,null)),(l()(),t.Vb(-1,null,["0-19 km/h"])),(l()(),t.wb(61,0,null,null,1,"div",[["class","progress progress-xs mt-2"]],null,null,null,null,null)),(l()(),t.wb(62,0,null,null,0,"div",[["aria-valuemax","100"],["aria-valuemin","100"],["aria-valuenow","100"],["class","progress-bar bg-gray-dark"],["role","progressbar"],["style","width: 100%"]],null,null,null,null,null))],(function(l,n){var e=n.component;l(n,1,0,"rgba(51, 51, 51, 0.96)","medium","ball-spin-clockwise"),l(n,13,0,5e3),l(n,15,0,e.slides),l(n,23,0,5e3),l(n,25,0,e._slides)}),null)}function T(l){return t.Yb(0,[(l()(),t.wb(0,0,null,null,2,"ng-component",[],null,null,null,D,C)),t.vb(1,114688,null,0,M,[c.a,m.h,b.l,i.c],null,null),t.Qb(256,null,x.b,I,[])],(function(l,n){l(n,1,0)}),null)}var S=t.sb("ng-component",M,T,{},{},[]),P=(e("Oaa7"),function(){function l(l,n,e,t,u){var o=this;this._constant=l,this.router=e,this.toastr=t,this.spinner=u,this.router.events.subscribe((function(l){""!=n.path()&&(o.route=n.path())}))}return l.prototype.ngOnInit=function(){this.spinner.show(),Number(sessionStorage.getItem("setSessionstorageValueUserID")),Number(sessionStorage.getItem("setSessionstorageValueUserResellerID")),Number(sessionStorage.getItem("setSessionstorageValueCompanyID"));var l,n=this._constant.getSessionstorageValueRoleID,e=this._constant.carparkRatesApi;l=this.toastr,p.a.get(this._constant.carkparkApi).then((function(l){var n;console.log(l),n=l.data.items[0].carpark_data,$("#carparkavailabilityReport").DataTable({destroy:!0,responsive:!0,select:!0,filter:!0,colReorder:!1,rowReorder:!0,keys:!0,fixedHeader:{header:!0,footer:!0,headerOffset:$("#pageHeader").outerHeight()},scrollX:!0,scrollCollapse:!0,paging:!0,pagingType:"full_numbers",pageLength:12,lengthMenu:[[12,25,50,-1],[12,25,50,"All"]],searching:!0,ordering:!0,order:[[0,"asc"]],info:!0,dom:"Blfrtip",processing:!0,language:{processing:'<i class="fa fa-spinner fa-spin fa-3x fa-fw"></i><span class="sr-only">Loading...</span> ',infoEmpty:"No events available",infoFiltered:"(filtered from MAX total events)"},buttons:[{extend:"colvis",className:"float-right ml-2"},[{extend:"collection",text:"Export",className:"float-right ml-2",buttons:["excel"]}]],columns:[{data:"carpark_number",title:"Carpark Number",className:"reorder"},{data:"carpark_info[0].total_lots",title:"Total Lots",className:"reorder"},{data:"carpark_info[0].lots_available",title:"Available Lots",className:"reorder"},{data:"carpark_info[0].lot_type",title:"Lot Type",className:"reorder"},{data:"update_datetime",title:"Updated Timestamp",className:"reorder"}],data:n,columnDefs:[{render:function(l){return r(l).format("D-MMM-YYYY, hh:mm:ss A")},targets:4}],initComplete:function(l,n,e){console.log(JSON.stringify(n))},footerCallback:function(l,n,e,t,u){}})})).catch((function(e){console.log(e),l.error(1==n?"Carpark Availability API Error: "+e:"Error: Network Error. Pls. Try again.","Error",{timeOut:3e3,closeButton:!0,enableHtml:!0})})),function(l,e,t){p.a.get(e).then((function(l){console.log(l),function(l){if(1==l.success){var n=l.result.records;$("#carparkratesReport").DataTable({destroy:!0,responsive:!0,select:!0,filter:!0,colReorder:!1,rowReorder:!0,keys:!0,fixedHeader:{header:!0,footer:!0,headerOffset:$("#pageHeader").outerHeight()},scrollX:!0,scrollCollapse:!0,paging:!0,pagingType:"full_numbers",pageLength:12,lengthMenu:[[12,25,50,-1],[12,25,50,"All"]],searching:!0,ordering:!0,order:[[0,"asc"]],info:!0,dom:"Blfrtip",processing:!0,language:{processing:'<i class="fa fa-spinner fa-spin fa-3x fa-fw"></i><span class="sr-only">Loading...</span> ',infoEmpty:"No events available",infoFiltered:"(filtered from MAX total events)"},buttons:[{extend:"colvis",className:"float-right ml-2"},[{extend:"collection",text:"Export",className:"float-right ml-2",buttons:["excel"]}]],columns:[{data:"carpark",title:"Carpark",className:"reorder"},{data:"category",title:"Category",className:"reorder"},{data:"weekdays_rate_1",title:"Weekdays Rate 1",className:"reorder"},{data:"weekdays_rate_2",title:"Weekdays Rate 2",className:"reorder"},{data:"saturday_rate",title:"Saturday Rate",className:"reorder"},{data:"sunday_publicholiday_rate",title:"Sunday and Public Holiday Rate",className:"reorder"}],data:n,columnDefs:[{render:function(l,n,e){return l},targets:0}],initComplete:function(l,n,e){console.log(JSON.stringify(n))},footerCallback:function(l,n,e,t,u){}})}}(l.data)})).catch((function(l){console.log(l),t.error(1==n?"Carpark Rates API Error: "+l:"Error: Network Error. Pls. Try again.","Error",{timeOut:3e3,closeButton:!0,enableHtml:!0})}))}(0,e,this.toastr),this.spinner.hide()},l}()),V=e("SZbH"),O=t.ub({encapsulation:2,styles:[[""]],data:{}});function _(l){return t.Yb(0,[(l()(),t.wb(0,0,null,null,3,"ngx-spinner",[["bdColor","rgba(51, 51, 51, 0.96)"],["size","medium"],["type","ball-spin-clockwise"]],null,null,null,s.b,s.a)),t.vb(1,770048,null,0,i.a,[i.c,t.h],{bdColor:[0,"bdColor"],size:[1,"size"],type:[2,"type"]},null),(l()(),t.wb(2,0,null,0,1,"p",[["style","color: white"]],null,null,null,null,null)),(l()(),t.Vb(-1,null,["Please Wait. "])),(l()(),t.wb(4,0,null,null,37,"div",[["class","animated fadeIn"]],null,null,null,null,null)),(l()(),t.wb(5,0,null,null,10,"div",[["class","row"]],null,null,null,null,null)),(l()(),t.wb(6,0,null,null,9,"div",[["class","col-md-12"]],null,null,null,null,null)),(l()(),t.wb(7,0,null,null,8,"div",[["class","card"]],null,null,null,null,null)),(l()(),t.wb(8,0,null,null,2,"div",[["class","card-header"]],null,null,null,null,null)),(l()(),t.wb(9,0,null,null,1,"span",[["class","font-weight-bold"]],null,null,null,null,null)),(l()(),t.Vb(-1,null,["HDB Carpark Information"])),(l()(),t.wb(11,0,null,null,4,"div",[["class","card-body"]],null,null,null,null,null)),(l()(),t.wb(12,0,null,null,2,"div",[["class","row"]],null,null,null,null,null)),(l()(),t.wb(13,0,null,null,1,"div",[["class","col-sm-12"]],null,null,null,null,null)),(l()(),t.wb(14,0,null,null,0,"iframe",[["frameBorder","0"],["height","600"],["src","https://data.gov.sg/dataset/hdb-carpark-information/resource/139a3035-e624-4f56-b63f-89ae28d4ae4c/view/e02fdccf-b667-4ede-a87b-74cb9f1e6080"],["width","100%"]],null,null,null,null,null)),(l()(),t.wb(15,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.wb(16,0,null,null,12,"div",[["class","row"]],null,null,null,null,null)),(l()(),t.wb(17,0,null,null,11,"div",[["class","col-md-12"]],null,null,null,null,null)),(l()(),t.wb(18,0,null,null,10,"div",[["class","card"]],null,null,null,null,null)),(l()(),t.wb(19,0,null,null,2,"div",[["class","card-header"]],null,null,null,null,null)),(l()(),t.wb(20,0,null,null,1,"span",[["class","font-weight-bold"]],null,null,null,null,null)),(l()(),t.Vb(-1,null,["Carpark Availability"])),(l()(),t.wb(22,0,null,null,6,"div",[["class","card-body"]],null,null,null,null,null)),(l()(),t.wb(23,0,null,null,4,"div",[["class","row"]],null,null,null,null,null)),(l()(),t.wb(24,0,null,null,3,"div",[["class","col-sm-12"]],null,null,null,null,null)),(l()(),t.wb(25,0,null,null,2,"div",[["style","width: 100%;"]],null,null,null,null,null)),(l()(),t.wb(26,0,null,null,1,"div",[["class","table-responsive pt-3"]],null,null,null,null,null)),(l()(),t.wb(27,0,null,null,0,"table",[["cellspacing","0"],["class","table table-striped table-hover dt-responsive display nowrap"],["id","carparkavailabilityReport"],["width","100%"]],null,null,null,null,null)),(l()(),t.wb(28,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.wb(29,0,null,null,12,"div",[["class","row"]],null,null,null,null,null)),(l()(),t.wb(30,0,null,null,11,"div",[["class","col-md-12"]],null,null,null,null,null)),(l()(),t.wb(31,0,null,null,10,"div",[["class","card"]],null,null,null,null,null)),(l()(),t.wb(32,0,null,null,2,"div",[["class","card-header"]],null,null,null,null,null)),(l()(),t.wb(33,0,null,null,1,"span",[["class","font-weight-bold"]],null,null,null,null,null)),(l()(),t.Vb(-1,null,["Carpark Rates (Major Shopping Malls, Attractions and Hotels)"])),(l()(),t.wb(35,0,null,null,6,"div",[["class","card-body"]],null,null,null,null,null)),(l()(),t.wb(36,0,null,null,4,"div",[["class","row"]],null,null,null,null,null)),(l()(),t.wb(37,0,null,null,3,"div",[["class","col-sm-12"]],null,null,null,null,null)),(l()(),t.wb(38,0,null,null,2,"div",[["style","width: 100%;"]],null,null,null,null,null)),(l()(),t.wb(39,0,null,null,1,"div",[["class","table-responsive pt-3"]],null,null,null,null,null)),(l()(),t.wb(40,0,null,null,0,"table",[["cellspacing","0"],["class","table table-striped table-hover dt-responsive display nowrap"],["id","carparkratesReport"],["width","100%"]],null,null,null,null,null)),(l()(),t.wb(41,0,null,null,0,"br",[],null,null,null,null,null))],(function(l,n){l(n,1,0,"rgba(51, 51, 51, 0.96)","medium","ball-spin-clockwise")}),null)}function E(l){return t.Yb(0,[(l()(),t.wb(0,0,null,null,1,"ng-component",[],null,null,null,_,O)),t.vb(1,114688,null,0,P,[c.a,m.h,b.l,V.j,i.c],null,null)],(function(l,n){l(n,1,0)}),null)}var z=t.sb("ng-component",P,E,{},{},[]),N=function(){function l(l,n,e,t){var u=this;this._constant=l,this.router=e,this.spinner=t,this.weathers=[],this.router.events.subscribe((function(l){""!=n.path()&&(u.route=n.path())}))}return l.prototype.ngOnInit=function(){this.spinner.show(),Number(sessionStorage.getItem("setSessionstorageValueUserID")),Number(sessionStorage.getItem("setSessionstorageValueUserResellerID")),Number(sessionStorage.getItem("setSessionstorageValueCompanyID"));var l,n,e=this._constant.weatherApi,t=new google.maps.LatLng(1.3521,103.8198),u=(new google.maps.InfoWindow,["clouds_new","precipitation","wind_new","temp_new","pressure_new"]),o=u[Math.floor(Math.random()*u.length)];switch(o){case"clouds_new":n="Clouds";break;case"precipitation":n="Precipitation";break;case"wind_new":n="Wind";break;case"temp_new":n="Temperature";break;case"pressure_new":n="Pressure"}this.weather_label=n;var a={zoom:3,center:t,panControl:!1,zoomControl:!1,zoomControlOptions:{position:google.maps.ControlPosition.LEFT_TOP},mapTypeControl:!1,mapTypeId:google.maps.MapTypeId.HYBRID,streetViewControl:!1,streetViewControlOptions:{position:google.maps.ControlPosition.RIGHT_BOTTOM},fullscreenControl:!0,fullscreenControlOptions:{position:google.maps.ControlPosition.TOP_LEFT},scaleControl:!1,overviewMapControl:!1};l=new google.maps.Map(document.getElementById("weather-map"),a);var s=new google.maps.ImageMapType({getTileUrl:function(l,n){var e=function(l,n){var e=l.y,t=l.x,u=1<<n;return e<0||e>=u?null:((t<0||t>=u)&&(t=(t%u+u)%u),{x:t,y:e})}(l,n);return e?"https://tile.openweathermap.org/map/"+o+"/"+n+"/"+e.x+"/"+e.y+".png?appid=674aa5391eb5a469b7ef171bea64cbff":null},tileSize:new google.maps.Size(256,256),maxZoom:20});l.overlayMapTypes.push(s),function(l,n,e,t){p.a.get(n).then((function(l){!function(l,n,e){if(console.log(JSON.stringify(l)),"healthy"==l.api_info.status){var t=l.items[0].general;e.push({forecast:t.forecast,humidity:t.relative_humidity,temperature:t.temperature,wind:t.wind})}}(l.data,0,t)})).catch((function(l){console.log(l)}))}(0,e,0,this.weathers),this.spinner.hide()},l}(),Y=t.ub({encapsulation:2,styles:[[".weather-card .card-body{height:120px}"]],data:{}});function B(l){return t.Yb(0,[(l()(),t.wb(0,0,null,null,42,"div",[["class","row"]],null,null,null,null,null)),(l()(),t.wb(1,0,null,null,8,"div",[["class","col-sm-6 col-lg-3"]],null,null,null,null,null)),(l()(),t.wb(2,0,null,null,7,"div",[["class","card text-white bg-primary"]],null,null,null,null,null)),(l()(),t.wb(3,0,null,null,6,"div",[["class","card-body pb-0"]],null,null,null,null,null)),(l()(),t.wb(4,0,null,null,1,"div",[["class","btn-group float-right"]],null,null,null,null,null)),(l()(),t.wb(5,0,null,null,0,"i",[["class","fa fa-cloud fa-3x"]],null,null,null,null,null)),(l()(),t.wb(6,0,null,null,1,"div",[["class","text-value"]],null,null,null,null,null)),(l()(),t.Vb(-1,null,["Today's Forecast"])),(l()(),t.wb(8,0,null,null,1,"div",[],null,null,null,null,null)),(l()(),t.Vb(9,null,["",""])),(l()(),t.wb(10,0,null,null,10,"div",[["class","col-sm-6 col-lg-3"]],null,null,null,null,null)),(l()(),t.wb(11,0,null,null,9,"div",[["class","card text-white bg-warning"]],null,null,null,null,null)),(l()(),t.wb(12,0,null,null,8,"div",[["class","card-body pb-0"]],null,null,null,null,null)),(l()(),t.wb(13,0,null,null,1,"div",[["class","btn-group float-right"]],null,null,null,null,null)),(l()(),t.wb(14,0,null,null,0,"i",[["class","fa fa-cloud fa-3x"]],null,null,null,null,null)),(l()(),t.wb(15,0,null,null,1,"div",[["class","text-value"]],null,null,null,null,null)),(l()(),t.Vb(-1,null,["Humidity"])),(l()(),t.wb(17,0,null,null,1,"div",[],null,null,null,null,null)),(l()(),t.Vb(18,null,["Low ",""])),(l()(),t.wb(19,0,null,null,1,"div",[],null,null,null,null,null)),(l()(),t.Vb(20,null,["High ",""])),(l()(),t.wb(21,0,null,null,10,"div",[["class","col-sm-6 col-lg-3"]],null,null,null,null,null)),(l()(),t.wb(22,0,null,null,9,"div",[["class","card text-white bg-info"]],null,null,null,null,null)),(l()(),t.wb(23,0,null,null,8,"div",[["class","card-body pb-0"]],null,null,null,null,null)),(l()(),t.wb(24,0,null,null,1,"div",[["class","btn-group float-right"]],null,null,null,null,null)),(l()(),t.wb(25,0,null,null,0,"i",[["class","fa fa-cloud fa-3x"]],null,null,null,null,null)),(l()(),t.wb(26,0,null,null,1,"div",[["class","text-value"]],null,null,null,null,null)),(l()(),t.Vb(-1,null,["Temperature"])),(l()(),t.wb(28,0,null,null,1,"div",[],null,null,null,null,null)),(l()(),t.Vb(29,null,["Low ",""])),(l()(),t.wb(30,0,null,null,1,"div",[],null,null,null,null,null)),(l()(),t.Vb(31,null,["High ",""])),(l()(),t.wb(32,0,null,null,10,"div",[["class","col-sm-6 col-lg-3"]],null,null,null,null,null)),(l()(),t.wb(33,0,null,null,9,"div",[["class","card text-white bg-info"]],null,null,null,null,null)),(l()(),t.wb(34,0,null,null,8,"div",[["class","card-body pb-0"]],null,null,null,null,null)),(l()(),t.wb(35,0,null,null,1,"div",[["class","btn-group float-right"]],null,null,null,null,null)),(l()(),t.wb(36,0,null,null,0,"i",[["class","fa fa-cloud fa-3x"]],null,null,null,null,null)),(l()(),t.wb(37,0,null,null,1,"div",[["class","text-value"]],null,null,null,null,null)),(l()(),t.Vb(38,null,["Wind - ",""])),(l()(),t.wb(39,0,null,null,1,"div",[],null,null,null,null,null)),(l()(),t.Vb(40,null,["Low ",""])),(l()(),t.wb(41,0,null,null,1,"div",[],null,null,null,null,null)),(l()(),t.Vb(42,null,["High ",""]))],null,(function(l,n){l(n,9,0,n.context.$implicit.forecast),l(n,18,0,n.context.$implicit.humidity.low),l(n,20,0,n.context.$implicit.humidity.high),l(n,29,0,n.context.$implicit.temperature.low),l(n,31,0,n.context.$implicit.temperature.high),l(n,38,0,n.context.$implicit.wind.direction),l(n,40,0,n.context.$implicit.wind.speed.low),l(n,42,0,n.context.$implicit.wind.speed.high)}))}function F(l){return t.Yb(0,[(l()(),t.wb(0,0,null,null,3,"ngx-spinner",[["bdColor","rgba(51, 51, 51, 0.96)"],["size","medium"],["type","ball-spin-clockwise"]],null,null,null,s.b,s.a)),t.vb(1,770048,null,0,i.a,[i.c,t.h],{bdColor:[0,"bdColor"],size:[1,"size"],type:[2,"type"]},null),(l()(),t.wb(2,0,null,0,1,"p",[["style","color: white"]],null,null,null,null,null)),(l()(),t.Vb(-1,null,["Please Wait. "])),(l()(),t.wb(4,0,null,null,104,"div",[["class","animated fadeIn"]],null,null,null,null,null)),(l()(),t.wb(5,0,null,null,2,"div",[["class","weather-card"]],null,null,null,null,null)),(l()(),t.fb(16777216,null,null,1,null,B)),t.vb(7,278528,null,0,m.k,[t.O,t.L,t.s],{ngForOf:[0,"ngForOf"]},null),(l()(),t.wb(8,0,null,null,100,"div",[["class","row"]],null,null,null,null,null)),(l()(),t.wb(9,0,null,null,7,"div",[["class","col-sm-6"]],null,null,null,null,null)),(l()(),t.wb(10,0,null,null,6,"div",[["class","card"]],null,null,null,null,null)),(l()(),t.wb(11,0,null,null,2,"div",[["class","card-header"]],null,null,null,null,null)),(l()(),t.wb(12,0,null,null,1,"span",[["class","font-weight-bold"]],null,null,null,null,null)),(l()(),t.Vb(-1,null,["Weather Forecast By Area"])),(l()(),t.wb(14,0,null,null,2,"div",[["class","card-body"]],null,null,null,null,null)),(l()(),t.wb(15,0,null,null,1,"div",[["class","col-sm-6"],["style","max-width: 100% !important"]],null,null,null,null,null)),(l()(),t.wb(16,0,null,null,0,"iframe",[["frameBorder","0"],["height","400"],["src","https://data.gov.sg/dataset/weather-forecast/resource/571ef5fb-ed31-48b2-85c9-61677de42ca9/view/4c127d9a-cba6-445a-8fc1-978b565f9bf7"],["width","100%"]],null,null,null,null,null)),(l()(),t.wb(17,0,null,null,7,"div",[["class","col-sm-6"]],null,null,null,null,null)),(l()(),t.wb(18,0,null,null,6,"div",[["class","card"]],null,null,null,null,null)),(l()(),t.wb(19,0,null,null,2,"div",[["class","card-header"]],null,null,null,null,null)),(l()(),t.wb(20,0,null,null,1,"span",[["class","font-weight-bold"]],null,null,null,null,null)),(l()(),t.Vb(-1,null,["4 Days Temperature Forecast"])),(l()(),t.wb(22,0,null,null,2,"div",[["class","card-body"]],null,null,null,null,null)),(l()(),t.wb(23,0,null,null,1,"div",[["class","col-sm-6"],["style","max-width: 100% !important"]],null,null,null,null,null)),(l()(),t.wb(24,0,null,null,0,"iframe",[["frameBorder","0"],["height","400"],["src","https://data.gov.sg/dataset/weather-forecast/resource/4df6d890-f23e-47f0-add1-fd6d580447d1/view/91f4e399-5a83-4cab-9491-09464db88661"],["width","100%"]],null,null,null,null,null)),(l()(),t.wb(25,0,null,null,7,"div",[["class","col-sm-6"]],null,null,null,null,null)),(l()(),t.wb(26,0,null,null,6,"div",[["class","card"]],null,null,null,null,null)),(l()(),t.wb(27,0,null,null,2,"div",[["class","card-header"]],null,null,null,null,null)),(l()(),t.wb(28,0,null,null,1,"span",[["class","font-weight-bold"]],null,null,null,null,null)),(l()(),t.Vb(-1,null,["Pollutant Standards Index (PSI)"])),(l()(),t.wb(30,0,null,null,2,"div",[["class","card-body"]],null,null,null,null,null)),(l()(),t.wb(31,0,null,null,1,"div",[["class","col-sm-12"]],null,null,null,null,null)),(l()(),t.wb(32,0,null,null,0,"iframe",[["frameBorder","0"],["height","400"],["src","https://data.gov.sg/dataset/psi/resource/82776919-0de1-4faf-bd9e-9c997f9a729d/view/5897450a-1536-40a2-953e-2c8981347b0c"],["width","100%"]],null,null,null,null,null)),(l()(),t.wb(33,0,null,null,51,"div",[["class","col-sm-6"]],null,null,null,null,null)),(l()(),t.wb(34,0,null,null,50,"div",[["class","card"]],null,null,null,null,null)),(l()(),t.wb(35,0,null,null,2,"div",[["class","card-header"]],null,null,null,null,null)),(l()(),t.wb(36,0,null,null,1,"span",[["class","font-weight-bold"]],null,null,null,null,null)),(l()(),t.Vb(-1,null,["Definition of PSI"])),(l()(),t.wb(38,0,null,null,46,"div",[["class","card-body"]],null,null,null,null,null)),(l()(),t.wb(39,0,null,null,45,"div",[["class","col-sm-12"],["style","height:405px;"]],null,null,null,null,null)),(l()(),t.wb(40,0,null,null,44,"table",[["class","table table-responsive-sm table-hover table-outline mb-0"]],null,null,null,null,null)),(l()(),t.wb(41,0,null,null,7,"thead",[["class","thead-dark"]],null,null,null,null,null)),(l()(),t.wb(42,0,null,null,6,"tr",[],null,null,null,null,null)),(l()(),t.wb(43,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Vb(-1,null,["PSI"])),(l()(),t.wb(45,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Vb(-1,null,["Descriptor"])),(l()(),t.wb(47,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Vb(-1,null,["General Health Effects"])),(l()(),t.wb(49,0,null,null,35,"tbody",[],null,null,null,null,null)),(l()(),t.wb(50,0,null,null,6,"tr",[],null,null,null,null,null)),(l()(),t.wb(51,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Vb(-1,null,["0\u201350"])),(l()(),t.wb(53,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Vb(-1,null,["Good"])),(l()(),t.wb(55,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Vb(-1,null,[" None "])),(l()(),t.wb(57,0,null,null,6,"tr",[],null,null,null,null,null)),(l()(),t.wb(58,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Vb(-1,null,["51\u2013100"])),(l()(),t.wb(60,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Vb(-1,null,["Moderate"])),(l()(),t.wb(62,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Vb(-1,null,[" Few or none for the general population "])),(l()(),t.wb(64,0,null,null,6,"tr",[],null,null,null,null,null)),(l()(),t.wb(65,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Vb(-1,null,["101\u2013200"])),(l()(),t.wb(67,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Vb(-1,null,["Unhealthy"])),(l()(),t.wb(69,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Vb(-1,null,[" Everyone may begin to experience health effects; members of sensitive groups may experience more serious health effects. To stay indoors. "])),(l()(),t.wb(71,0,null,null,6,"tr",[],null,null,null,null,null)),(l()(),t.wb(72,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Vb(-1,null,["201-300"])),(l()(),t.wb(74,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Vb(-1,null,["Very unhealthy"])),(l()(),t.wb(76,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Vb(-1,null,[" Health warnings of emergency conditions. The entire population is more likely to be affected. "])),(l()(),t.wb(78,0,null,null,6,"tr",[],null,null,null,null,null)),(l()(),t.wb(79,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Vb(-1,null,["301+"])),(l()(),t.wb(81,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Vb(-1,null,["Hazardous"])),(l()(),t.wb(83,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Vb(-1,null,[" Health alert: everyone may experience more serious health effects "])),(l()(),t.wb(85,0,null,null,7,"div",[["class","col-sm-6"]],null,null,null,null,null)),(l()(),t.wb(86,0,null,null,6,"div",[["class","card"]],null,null,null,null,null)),(l()(),t.wb(87,0,null,null,2,"div",[["class","card-header"]],null,null,null,null,null)),(l()(),t.wb(88,0,null,null,1,"span",[["class","font-weight-bold"]],null,null,null,null,null)),(l()(),t.Vb(-1,null,["Ulta-violet Index (UVI)"])),(l()(),t.wb(90,0,null,null,2,"div",[["class","card-body"]],null,null,null,null,null)),(l()(),t.wb(91,0,null,null,1,"div",[["class","col-sm-12"]],null,null,null,null,null)),(l()(),t.wb(92,0,null,null,0,"iframe",[["frameBorder","0"],["height","400"],["src","https://data.gov.sg/dataset/ultraviolet-index-uvi/resource/6246c980-21d4-441f-a1d0-b321e2085420/view/971dfdde-04d7-4c20-9599-0a083ac87e95"],["width","100%"]],null,null,null,null,null)),(l()(),t.wb(93,0,null,null,7,"div",[["class","col-sm-6"]],null,null,null,null,null)),(l()(),t.wb(94,0,null,null,6,"div",[["class","card"]],null,null,null,null,null)),(l()(),t.wb(95,0,null,null,2,"div",[["class","card-header"]],null,null,null,null,null)),(l()(),t.wb(96,0,null,null,1,"span",[["class","font-weight-bold"]],null,null,null,null,null)),(l()(),t.Vb(-1,null,["Sunshine Duration"])),(l()(),t.wb(98,0,null,null,2,"div",[["class","card-body"]],null,null,null,null,null)),(l()(),t.wb(99,0,null,null,1,"div",[["class","col-sm-12"]],null,null,null,null,null)),(l()(),t.wb(100,0,null,null,0,"iframe",[["frameBorder","0"],["height","400"],["src","https://data.gov.sg/dataset/sunshine-duration-monthly-mean-daily-duration/resource/0230819f-1c83-4980-b738-56136d6dc300/view/2e7bf9c6-4cf2-4ded-abd1-6e754b3edfd5"],["width","100%"]],null,null,null,null,null)),(l()(),t.wb(101,0,null,null,7,"div",[["class","col-sm-12"]],null,null,null,null,null)),(l()(),t.wb(102,0,null,null,6,"div",[["class","card"]],null,null,null,null,null)),(l()(),t.wb(103,0,null,null,2,"div",[["class","card-header"]],null,null,null,null,null)),(l()(),t.wb(104,0,null,null,1,"span",[["class","font-weight-bold"]],null,null,null,null,null)),(l()(),t.Vb(105,null,["",""])),(l()(),t.wb(106,0,null,null,2,"div",[["class","card-body"]],null,null,null,null,null)),(l()(),t.wb(107,0,null,null,1,"div",[["class","col-sm-12"]],null,null,null,null,null)),(l()(),t.wb(108,0,null,null,0,"div",[["id","weather-map"],["style","height:400px;"]],null,null,null,null,null))],(function(l,n){var e=n.component;l(n,1,0,"rgba(51, 51, 51, 0.96)","medium","ball-spin-clockwise"),l(n,7,0,e.weathers)}),(function(l,n){l(n,105,0,n.component.weather_label)}))}function A(l){return t.Yb(0,[(l()(),t.wb(0,0,null,null,1,"ng-component",[],null,null,null,F,Y)),t.vb(1,114688,null,0,N,[c.a,m.h,b.l,i.c],null,null)],(function(l,n){l(n,1,0)}),null)}var R=t.sb("ng-component",N,A,{},{},[]),U=function(){function l(l,n,e,t,u){var o=this;this._constant=l,this.router=e,this.toastr=t,this.spinner=u,this.router.events.subscribe((function(l){""!=n.path()&&(o.route=n.path())}))}return l.prototype.ngOnInit=function(){this.spinner.show();var l=this._constant.baseAppUrl,n=this._constant.uri_track,e=Number(sessionStorage.getItem("setSessionstorageValueUserID")),t=Number(sessionStorage.getItem("setSessionstorageValueUserResellerID")),u=Number(sessionStorage.getItem("setSessionstorageValueCompanyID")),o=l+n+"assetinfo?UserID="+e+"&ResellerID="+t+"&CompanyID="+u;this.api_assets_individual=this._constant.assetApi;var a,s,i=this._constant.getSessionstorageValueRoleID,r=new Array,c={zoom:13,center:new google.maps.LatLng(1.3521,103.8198),panControl:!1,zoomControl:!1,zoomControlOptions:{position:google.maps.ControlPosition.LEFT_TOP},mapTypeControl:!1,mapTypeId:google.maps.MapTypeId.HYBRID,streetViewControl:!1,streetViewControlOptions:{position:google.maps.ControlPosition.RIGHT_BOTTOM},fullscreenControl:!0,fullscreenControlOptions:{position:google.maps.ControlPosition.TOP_LEFT},scaleControl:!1,overviewMapControl:!1};function d(l,n,e){p.a.get(n).then((function(n){l(n.data)})).catch((function(l){console.log(l),e.error(1==i?"Heatmap API Error: "+l:"Error: Network Error. Pls. Try again.","Error",{timeOut:3e3,closeButton:!0,enableHtml:!0})}))}function g(l){for(var n=0,e=l.length;n<e;n++)if(l[n]){if(null==l[n].LastPos||null==l[n].LastPos.Engine||0==l[n].LastPos.PosID||""===l[n].LastPos){console.log("Data is Null");continue}var t=new google.maps.LatLng(l[n].LastPos.PosY,l[n].LastPos.PosX);r.push(t)}0==r.length&&(null==l.LastPos||null==l.LastPos.Engine||0==l.LastPos.PosID||""===l.LastPos?console.log("Data is Null"):(t=new google.maps.LatLng(l.LastPos.PosY,l.LastPos.PosX),r.push(t))),(s=new google.maps.visualization.HeatmapLayer({data:r,map:a,dissipating:!1})).setMap(a)}function m(){r=[],s.setMap(null)}a=new google.maps.Map(document.getElementById("heat-map"),c),d(g,o,this.toastr),google.maps.event.addListener(a,"mousemove",(function(l){document.getElementById("coordinates-panel").innerHTML=l.latLng.lat()+", "+l.latLng.lng()})),$(".SelectResellerFilter").on("change",(function(){m()})),$(".SelectCompanyFilter").change({route:this.route,toastr:this.toastr},(function(u){m(),d(g,function(l,n,e,t,u){var o;return 1==l?o=n+e+"assetinfo?UserID=&ResellerID="+$("#load-reseller").val()+"&CompanyID="+$("#load-company").val():2==l?o=n+e+"assetinfo?UserID="+t+"&ResellerID="+u+"&CompanyID="+$("#load-company").val():l>=3&&(o=n+e+"assetinfo?UserID="+t+"&ResellerID="+u+"&CompanyID="+$("#load-company").val()),o}(i,l,n,e,t),u.data.toastr)})),$(".SelectAssetFilter").change({api:this.api_assets_individual,toastr:this.toastr},(function(l){var n=$(this).find("option:selected").val(),e=l.data.api+n;m(),d(g,e,l.data.toastr)})),this.spinner.hide()},l}(),H=t.ub({encapsulation:2,styles:[[""]],data:{}});function G(l){return t.Yb(0,[(l()(),t.wb(0,0,null,null,3,"ngx-spinner",[["bdColor","rgba(51, 51, 51, 0.96)"],["size","medium"],["type","ball-spin-clockwise"]],null,null,null,s.b,s.a)),t.vb(1,770048,null,0,i.a,[i.c,t.h],{bdColor:[0,"bdColor"],size:[1,"size"],type:[2,"type"]},null),(l()(),t.wb(2,0,null,0,1,"p",[["style","color: white"]],null,null,null,null,null)),(l()(),t.Vb(-1,null,["Please Wait. "])),(l()(),t.wb(4,0,null,null,12,"div",[["class","animated fadeIn"]],null,null,null,null,null)),(l()(),t.wb(5,0,null,null,11,"div",[["class","row"]],null,null,null,null,null)),(l()(),t.wb(6,0,null,null,10,"div",[["class","col-md-12"]],null,null,null,null,null)),(l()(),t.wb(7,0,null,null,9,"div",[["class","card"]],null,null,null,null,null)),(l()(),t.wb(8,0,null,null,3,"div",[["class","card-header"]],null,null,null,null,null)),(l()(),t.wb(9,0,null,null,1,"span",[["class","font-weight-bold"]],null,null,null,null,null)),(l()(),t.Vb(-1,null,["Heat map of vehicles"])),(l()(),t.wb(11,0,null,null,0,"span",[["class","float-right"],["id","coordinates-panel"]],null,null,null,null,null)),(l()(),t.wb(12,0,null,null,4,"div",[["class","card-body"]],null,null,null,null,null)),(l()(),t.wb(13,0,null,null,2,"div",[["class","row"]],null,null,null,null,null)),(l()(),t.wb(14,0,null,null,1,"div",[["class","col-sm-12"]],null,null,null,null,null)),(l()(),t.wb(15,0,null,null,0,"div",[["id","heat-map"],["style","height:600px;"]],null,null,null,null,null)),(l()(),t.wb(16,0,null,null,0,"br",[],null,null,null,null,null))],(function(l,n){l(n,1,0,"rgba(51, 51, 51, 0.96)","medium","ball-spin-clockwise")}),null)}function W(l){return t.Yb(0,[(l()(),t.wb(0,0,null,null,1,"ng-component",[],null,null,null,G,H)),t.vb(1,114688,null,0,U,[c.a,m.h,b.l,V.j,i.c],null,null)],(function(l,n){l(n,1,0)}),null)}var Z=t.sb("ng-component",U,W,{},{},[]),J=e("gIcY"),j=e("Zseb"),X=e("xtZt"),K=e("9EwZ"),q={title:"Tracking"},Q={title:"Traffic"},ll={title:"Carpark"},nl={title:"Weather"},el={title:"Heat Map"},tl=function(){return function(){}}(),ul=function(){function l(){}var n;return n=l,l.forRoot=function(){return{ngModule:n}},l}();e.d(n,"TrackingModuleNgFactory",(function(){return ol}));var ol=t.tb(u,[],(function(l){return t.Ib([t.Jb(512,t.j,t.X,[[8,[o.a,a.a,v,S,z,R,Z]],[3,t.j],t.x]),t.Jb(4608,m.n,m.m,[t.u]),t.Jb(4608,J.o,J.o,[]),t.Jb(4608,x.b,x.b,[]),t.Jb(1073742336,m.c,m.c,[]),t.Jb(1073742336,J.n,J.n,[]),t.Jb(1073742336,J.e,J.e,[]),t.Jb(1073742336,j.b,j.b,[]),t.Jb(1073742336,X.e,X.e,[]),t.Jb(1073742336,K.a,K.a,[]),t.Jb(1073742336,b.p,b.p,[[2,b.u],[2,b.l]]),t.Jb(1073742336,tl,tl,[]),t.Jb(1073742336,ul,ul,[]),t.Jb(1073742336,x.c,x.c,[]),t.Jb(1073742336,i.b,i.b,[]),t.Jb(1073742336,u,u,[]),t.Jb(1024,b.j,(function(){return[[{path:"",component:g,data:q},{path:"traffic",component:M,data:Q},{path:"carpark",component:P,data:ll},{path:"weather",component:N,data:nl},{path:"heatmap",component:U,data:el}]]}),[])])}))}}]);