(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{"9EwZ":function(l,n,e){"use strict";e.d(n,"a",(function(){return t})),e("CcnG"),e("gIcY");var t=function(){function l(){}return l.forRoot=function(){return{ngModule:l,providers:[]}},l}()},Iyh2:function(l,n,e){"use strict";e.r(n);var t=e("CcnG"),o=function(){return function(){}}(),a=e("iutN"),u=e("pMnS"),s=e("jvCn"),i=e("miAi"),r=e("wd/R"),c=(e("zavE"),e("TxLo")),d=e("vDqi"),p=e.n(d),g=function(){function l(l,n,e,t){var o=this;this._constant=l,this.router=e,this.spinner=t,this.router.events.subscribe((function(l){""!=n.path()&&(o.route=n.path())}))}return l.prototype.ngOnInit=function(){var l=this;this.spinner.show(),$("#panel").hide(),$("#infobubbleDrawing").hide();var n,e,t,o,a,u,s,i,c,d,g,m,b,f,w,h,v,y,M=this._constant.baseAppUrl,x=this._constant.uri_track,L=Number(sessionStorage.getItem("setSessionstorageValueUserID")),C=Number(sessionStorage.getItem("setSessionstorageValueUserResellerID")),I=Number(sessionStorage.getItem("setSessionstorageValueUserCompanyID")),k=this._constant.getSessionstorageValueRoleID,P=this._constant.zonetypeApi,z=this._constant.zoneApi,D=M+x+"assetinfo?UserID="+L+"&ResellerID="+C+"&CompanyID="+I,V=M+x+"zoneinfo?ResellerID="+C+"&CompanyID="+I,T=(new Array,new Array),S=new Array,O=[],_=new google.maps.MVCArray,E=new Array,N=new Array,Y=new Array,B=!0,H=[],F=["#1E90FF","#FF1493","#32CD32","#FF8C00","#4B0082","#8560a8","#005e20","#CBCC29","#495f75","#a00000","#1B1B1B"],A={},R=[],U={},G={},W=[],Z=new Array,j=new Array,J=(H=[],[]),X=[],K=[],q=new Array,Q={coord:[16,0,18,1,21,2,24,3,26,4,27,5,28,6,29,7,29,8,29,9,29,10,29,11,29,12,29,13,29,14,29,15,29,16,29,17,29,18,29,19,29,20,29,21,29,22,29,23,29,24,29,25,29,26,29,27,29,28,28,29,3,29,2,28,2,27,1,26,1,25,1,24,0,23,0,22,0,21,0,20,0,19,0,18,0,17,0,16,0,15,0,14,0,13,0,12,0,11,0,10,0,9,0,8,0,7,1,6,2,5,2,4,3,3,5,2,6,1,8,0,16,0],type:"poly"},ll={},nl="https://chart.googleapis.com/chart?chst=",el=(google,new google.maps.LatLng(1.3521,103.8198));for(var tl in google.maps.MapTypeId)this._constant.mapTypeIds.push(google.maps.MapTypeId[tl]);var ol,al={zoom:12,center:el,panControl:!1,zoomControl:!0,zoomControlOptions:{position:google.maps.ControlPosition.LEFT_TOP},mapTypeControl:!0,mapTypeControlOptions:{style:google.maps.MapTypeControlStyle.DROPDOWN_MENU,mapTypeIds:this._constant.mapTypeIds,position:google.maps.ControlPosition.TOP_LEFT},streetViewControl:!1,streetViewControlOptions:{position:google.maps.ControlPosition.RIGHT_BOTTOM},fullscreenControl:!0,fullscreenControlOptions:{position:google.maps.ControlPosition.TOP_LEFT},scaleControl:!0,overviewMapControl:!0};(ol=new google.maps.Map(document.getElementById("map-canvas"),al)).controls[google.maps.ControlPosition.BOTTOM_CENTER].push(document.getElementById("panel")),function(){var l=document.createElement("DIV");$(l).addClass("gmap-control-container").addClass("gmnoprint");var n=document.createElement("DIV");$(n).addClass("gmap-control"),$(n).text("Traffic"),$(l).append(n);var e=document.createElement("DIV");$(e).addClass("gmap-control-legend"),$(e).html('<ul><li><span style="background-color: #30ac3e">&nbsp;&nbsp;</span><span style="color: #30ac3e"> &gt; Smooth Traffic</span></li><li><span style="background-color: #ffcf00">&nbsp;&nbsp;</span><span style="color: #ffcf00"> Slow Moving Traffic</span></li><li><span style="background-color: #ff0000">&nbsp;&nbsp;</span><span style="color: #ff0000"> &lt; Heavy Traffic</span></li><li><span style="background-color: #c0c0c0">&nbsp;&nbsp;</span><span style="color: #c0c0c0"> No data available</span></li></ul>'),$(e).hide(),$(l).append(e),$(n).mouseenter((function(){$(e).show()})).mouseleave((function(){$(e).hide()}));var t=new google.maps.TrafficLayer;google.maps.event.addDomListener(n,"click",(function(){void 0===t.getMap()||null===t.getMap()?($(n).addClass("gmap-control-active"),t.setMap(ol)):(t.setMap(null),$(n).removeClass("gmap-control-active"))})),ol.controls[google.maps.ControlPosition.TOP_LEFT].push(l)}(),ol.mapTypes.set("Mapbox",new google.maps.ImageMapType({getTileUrl:function(l,n){var e=Tl(l,n);return e?(Math.pow(2,n),"https://tiles.locationiq.com/v2/obk/r/"+n+"/"+e.x+"/"+e.y+".png?key=ece7de2808b2c0"):null},tileSize:new google.maps.Size(256,256),name:"Mapbox",alt:"Mapbox GL",maxZoom:20})),ol.mapTypes.set("OSM",new google.maps.ImageMapType({getTileUrl:function(l,n){var e=Tl(l,n);return e?(Math.pow(2,n),"https://tile.openstreetmap.org/"+n+"/"+e.x+"/"+e.y+".png"):null},tileSize:new google.maps.Size(256,256),name:"OSM",alt:"Open Street Map",maxZoom:20})),ol.mapTypes.set("PublicTransport",new google.maps.ImageMapType({getTileUrl:function(l,n){var e=Tl(l,n);return e?(Math.pow(2,n),"https://tile.memomaps.de/tilegen/"+n+"/"+e.x+"/"+e.y+".png"):null},tileSize:new google.maps.Size(256,256),name:"Public",alt:"Show Public Transport",maxZoom:20})),ol.mapTypes.set("OneMap",new google.maps.ImageMapType({getTileUrl:function(l,n){var e=Tl(l,n);return e?(Math.pow(2,n),"https://maps-a.onemap.sg/v3/Night/"+n+"/"+e.x+"/"+e.y+".png"):null},tileSize:new google.maps.Size(256,256),name:"One Map",alt:"One Map",maxZoom:20})),il(rl,V),Ml(xl,D,this.route),google.maps.event.addListener(ol,"mousemove",(function(l){document.getElementById("coordinates-panel").innerHTML=l.latLng.lat()+", "+l.latLng.lng()}));var ul={strokeWeight:0,fillOpacity:.45,editable:!1};function sl(l){return l*(Math.PI/180)}function il(l,n){p.a.get(n).then((function(n){l(n.data)})).catch((function(l){console.log(l)}))}function rl(l){for(var n=0;n<l.length;n++){var e,t,a,u=l[n],s=u.ZoneID,i=u.Name,r=u.Type,p=u.Perimeter,g=u.Company,m=u.Color,f=u.Location,w=p.split(" "),h="https://chart.apis.google.com/chart?cht=mm&chs=24x32&chco=FFFFFF,"+(16777215*Math.random()<<0).toString(16)+"&ext=.png";if(/\s/.test(p)){if(1==w.length){for(var v=0;v<w.length;v++)e=w[v].split(","),G.Zones={center:new google.maps.LatLng(parseFloat(e[0]),parseFloat(e[1])),radius:e[2]};for(var y in G){var M={strokeColor:m,strokeOpacity:.8,strokeWeight:2,fillColor:m,fillOpacity:.35,map:ol,Company:g,Name:i,Pos:w,zoneID:s,center:G[y].center,radius:Math.sqrt(G[y].radius)};a=new google.maps.Circle(M)}Y.push(a),google.maps.event.addListener(a,"click",pl),o=new google.maps.InfoWindow,google.maps.event.addListener(a,"click",(function(){ol.panTo(this.position)}))}else if(w.length<=2){var x=w[1],L=w[0].split(","),C=L[0],I=L[1],k=x.split(","),P=k[0],z=k[1],D=cl(P-C),V=cl(z-I),T=Math.sin(D/2)*Math.sin(D/2)+Math.cos(cl(C))*Math.cos(cl(P))*Math.sin(V/2)*Math.sin(V/2),S=2*Math.atan2(Math.sqrt(T),Math.sqrt(1-T))*6371*100;for(var O in e=w[0].split(","),U.Zones={center:new google.maps.LatLng(parseFloat(e[0]),parseFloat(e[1])),radius:S},U){var B={strokeColor:m,strokeOpacity:.8,strokeWeight:2,fillColor:m,fillOpacity:.35,map:ol,Company:g,Name:i,Pos:w,zoneID:s,center:U[O].center,radius:100*Math.sqrt(U[O].radius)};t=new google.maps.Circle(B)}N.push(t),google.maps.event.addListener(t,"click",pl),o=new google.maps.InfoWindow,google.maps.event.addListener(t,"click",(function(){ol.panTo(this.position)}))}else if(w.length>=3){for(v=0;v<w.length;v++)e=w[v].split(","),_.push(new google.maps.LatLng(parseFloat(e[0]),parseFloat(e[1])));c=new google.maps.Polygon({path:_,strokeColor:m,strokeOpacity:.8,strokeWeight:3,fillColor:m,fillOpacity:.35,Company:g,Name:i,Pos:w,zoneID:s,map:ol}),_=[],E.push(c),c.setMap(ol),google.maps.event.addListener(c,"click",dl),o=new google.maps.InfoWindow,google.maps.event.addListener(c,"click",(function(){ol.panTo(this.position)}))}}else{var H=l[n].Perimeter.split(","),$=new google.maps.LatLng(parseFloat(H[0]),parseFloat(H[1]));d=new MarkerWithLabel({position:$,draggable:!1,raiseOnDrag:!1,map:ol,icon:h,labelContent:i,labelAnchor:new google.maps.Point(40,0),labelClass:"labels",labelStyle:{opacity:.75},labelInBackground:!1}),j.push(d),b="<div class='form-group' style='color:#4C4C4C;><div class='col-md-8'><h6 class='map-heading'>"+i+"</h6></div><table id='assetDetails' class='table table-vcenter'><tbody><tr><td><span data-l11n class='text-bold'>Location:&nbsp;</span>"+f+"<br /><span data-l11n class='text-bold'>Type:&nbsp;</span>"+r+"<br /><span class='text-bold'>Coordinates:&nbsp;</span>"+p+"</td></tr>",gl(d)}}return l}function cl(l){return l*(Math.PI/180)}function dl(l){this.getPath();var n="<div class='form-group' style='color:#4C4C4C;><div class='col-md-8'><h6 class='map-heading'>"+this.Name+"</h6></div><table id='assetDetails' class='table table-vcenter'><tbody><tr><td><span data-l11n class='text-bold'>Company:&nbsp;</span>"+this.Company+"<br /><span class='text-bold'>Clicked location:&nbsp;</span>"+l.latLng.lat()+","+l.latLng.lng()+"</td></tr>";o.setContent(n),o.setPosition(l.latLng),o.open(ol)}function pl(l){var n="<div class='form-group' style='color:#4C4C4C;><div class='col-md-8'><h6 class='map-heading'>"+this.Name+"</h6></div><table id='assetDetails' class='table table-vcenter'><tbody><tr><td><span data-l11n class='text-bold'>Company:&nbsp;</span>"+this.Company+"<br /><span class='text-bold'>Clicked location:&nbsp;</span>"+l.latLng.lat()+","+l.latLng.lng()+"</td></tr>";o.setContent(n),o.setPosition(l.latLng),o.open(ol)}function gl(l){var n=new google.maps.InfoWindow({content:b});X.push(n),l.addListener("click",(function(){n.open(l.get("map"),l)}))}function ml(){g&&(g.setEditable(!1),g=null)}function bl(l){ml(),g=l,l.setEditable("rectangle"!=l.type)}function fl(){for(var l=0;l<H.length;l++)H[l].overlay.setMap(null);for(H=[],l=0;l<J.length;l++)J[l].close();for(J=[],l=0;l<q.length;l++)q[l].setMap(null);q=[],s.setOptions({drawingControl:!0})}function wl(){if(""==$("#zname").val())alert("Zone name must not be empty");else if(/\s/.test(m))hl("Default");else{var l=new FormData;l.append("email","anthony_agustin@acecom.com.sg"),l.append("password","acecom2015"),$.ajax({async:!0,crossDomain:!0,url:"https://developers.onemap.sg/privateapi/auth/post/getToken",method:"POST",processData:!1,contentType:!1,mimeType:"multipart/form-data",data:l}).done((function(l){var n=JSON.parse(l),e="https://developers.onemap.sg/privateapi/commonsvc/revgeocode?location="+m+"&token="+n.access_token;console.log(e),$.ajax({url:e,type:"GET",success:function(l){if(l.GeocodeInfo.length>0){var e="";null==l.GeocodeInfo[0].BLOCK&&null==l.GeocodeInfo[0].BLOCK||(e=l.GeocodeInfo[0].BLOCK+" "),null==l.GeocodeInfo[0].ROAD&&null==l.GeocodeInfo[0].ROAD||(e+=l.GeocodeInfo[0].ROAD+" "),null==l.GeocodeInfo[0].BUILDINGNAME&&null==l.GeocodeInfo[0].BUILDINGNAME||"null"!=l.GeocodeInfo[0].BUILDINGNAME&&(e+=l.GeocodeInfo[0].BUILDINGNAME),hl(e)}else{var t="https://developers.onemap.sg/privateapi/commonsvc/revgeocode?location="+m+"&token="+n.access_token;console.log(t),$.ajax({url:t,type:"GET",success:function(l){if(0==l.GeocodeInfo.length)console.log("No Address"),hl("No Address");else{var n="";null==l.GeocodeInfo[0].BLOCK&&null==l.GeocodeInfo[0].BLOCK||(n=l.GeocodeInfo[0].BLOCK+" "),null==l.GeocodeInfo[0].ROAD&&null==l.GeocodeInfo[0].ROAD||(n+=l.GeocodeInfo[0].ROAD+" "),null==l.GeocodeInfo[0].BUILDINGNAME&&null==l.GeocodeInfo[0].BUILDINGNAME||"null"!=l.GeocodeInfo[0].BUILDINGNAME&&(n+=l.GeocodeInfo[0].BUILDINGNAME),hl(n)}}})}}})}))}}function hl(l){var n,e=new Date,t=r.utc(e).local().format("DD MMM YYYY, hh:mm:ss A");n=Number(sessionStorage.getItem("setSessionstorageValueRoleID"))>2?{ZoneID:0,Name:$("#zname").val(),TypeID:$("#getZoneTypes").val(),CompanyID:Number(sessionStorage.getItem("setSessionstorageValueUserCompanyID")),CreatedDate:t,Perimeter:m,CellIds:"",Location:l,Created_User:sessionStorage.getItem("setSessionstorageValueUser"),Modified_User:sessionStorage.getItem("setSessionstorageValueUser"),Color:sessionStorage.getItem("setSessionstorageValueZoneColor")}:{ZoneID:0,Name:$("#zname").val(),TypeID:$("#getZoneTypes").val(),CompanyID:sessionStorage.getItem("setSessionstorageValueAssetCompany"),CreatedDate:t,Perimeter:m,CellIds:"",Location:l,Created_UserID:Number(sessionStorage.getItem("setSessionstorageValueUserID")),Modified_UserID:Number(sessionStorage.getItem("setSessionstorageValueUserID")),Color:sessionStorage.getItem("setSessionstorageValueZoneColor")},p.a.post(z,n).then((function(l){console.log(l.data),window.location.reload(!0)})).catch((function(l){console.log(l)}))}function vl(l){i=l;for(var n=0;n<F.length;++n){var e=F[n];A[e].style.border=e==l?"2px solid #789":"2px solid #fff"}var t=s.get("polylineOptions");t.strokeColor=l,s.set("polylineOptions",t);var o=s.get("rectangleOptions");o.fillColor=l,s.set("rectangleOptions",o);var a=s.get("circleOptions");a.fillColor=l,s.set("circleOptions",a);var u=s.get("polygonOptions");u.fillColor=l,s.set("polygonOptions",u),sessionStorage.setItem("setSessionstorageValueZoneColor",i)}function yl(l){var n=document.createElement("span");return n.className="color-button",n.style.backgroundColor=l,google.maps.event.addDomListener(n,"click",(function(){vl(l),function(l){g&&(g.type==google.maps.drawing.OverlayType.POLYLINE?g.set("strokeColor",l):g.set("fillColor",l))}(l)})),n}function Ml(l,n,e){p.a.get(n).then((function(n){l(n.data,e)})).catch((function(l){console.log(l)}))}function xl(l,o){for(var s,i,c,d,p,g,m,b,f,w,y,M,x,L,C,I,k,P,z,D,V,_,E,N,Y,H,F,A,R,U,G=0,W=0,Z=0,j=0,J=new google.maps.LatLngBounds,X=function(){if(l[K]){if(null==l[K].LastPos||null==l[K].LastPos.Engine||0==l[K].LastPos.PosID||""===l[K].LastPos)return console.log("Data is Null"),j++,"continue";s=l[K],i=new google.maps.LatLng(l[K].LastPos.PosY,l[K].LastPos.PosX),c=l[K].AssetID,d=l[K].Tag,p=l[K].Category,g=l[K].Name,m=l[K].Gps,b=l[K].Gprs,f=l[K].Engine,w=l[K].LastPos.Battery,y=l[K].LastPos.Fix,M=l[K].Make,x=l[K].Model,L=l[K].LastPos.Location,C=l[K].LastPos.Speed,I=l[K].LastPos.Course,k=l[K].LastPos.Zone,P=l[K].LastPos.Mileage,z=l[K].LastPos.Timestamp,D=l[K].LastPos.Battery.toFixed(2),V=l[K].Name.match(/.{1,28}/g).join("<br/>"),_=V.substring(0,18),E=l[K].LastPos.PosX,N=l[K].LastPos.PosY,Y=r.utc(z).local().format("DD MMM YYYY"),H=new Date,F=r.utc(H).local().format("DD MMM YYYY"),F=Date.parse(F),Y=Date.parse(Y),A=r.utc(z).local().format("D-MMM-YYYY, hh:mm:ss A"),R=r.utc(z).local().format(),U=Pl(R);var o,a,B,X,q=void 0,el=void 0,tl=void 0,al=void 0,ul=void 0;switch("MOVE"==f?ul="#5cb85c":"IDLE"==f?ul="#f0ad4e":"STOP"==f&&F>Y?ul="#696969":"STOP"==f&&(ul="#d9534f"),p){case"Car":o=new google.maps.Point(0,42),a=new google.maps.Point(0,44),al="white",tl=.6,q="assets/img/car.jpg",el="M17.402,0H5.643C2.526,0,0,3.467,0,6.584v34.804c0,3.116,2.526,5.644,5.643,5.644h11.759c3.116,0,5.644-2.527,5.644-5.644 V6.584C23.044,3.467,20.518,0,17.402,0z M22.057,14.188v11.665l-2.729,0.351v-4.806L22.057,14.188z M20.625,10.773 c-1.016,3.9-2.219,8.51-2.219,8.51H4.638l-2.222-8.51C2.417,10.773,11.3,7.755,20.625,10.773z M3.748,21.713v4.492l-2.73-0.349 V14.502L3.748,21.713z M1.018,37.938V27.579l2.73,0.343v8.196L1.018,37.938z M2.575,40.882l2.218-3.336h13.771l2.219,3.336H2.575z M19.328,35.805v-7.872l2.729-0.355v10.048L19.328,35.805z";break;case"Truck":o=new google.maps.Point(0,42),a=new google.maps.Point(0,44),al="white",tl=.6,q="assets/img/truck.jpg",el="M17.402,0H5.643C2.526,0,0,3.467,0,6.584v34.804c0,3.116,2.526,5.644,5.643,5.644h11.759c3.116,0,5.644-2.527,5.644-5.644 V6.584C23.044,3.467,20.518,0,17.402,0z M22.057,14.188v11.665l-2.729,0.351v-4.806L22.057,14.188z M20.625,10.773 c-1.016,3.9-2.219,8.51-2.219,8.51H4.638l-2.222-8.51C2.417,10.773,11.3,7.755,20.625,10.773z M3.748,21.713v4.492l-2.73-0.349 V14.502L3.748,21.713z M1.018,37.938V27.579l2.73,0.343v8.196L1.018,37.938z M2.575,40.882l2.218-3.336h13.771l2.219,3.336H2.575z M19.328,35.805v-7.872l2.729-0.355v10.048L19.328,35.805z";break;case"Van":o=new google.maps.Point(0,42),a=new google.maps.Point(0,44),al="white",tl=.6,q="assets/img/van.jpg",el="M17.402,0H5.643C2.526,0,0,3.467,0,6.584v34.804c0,3.116,2.526,5.644,5.643,5.644h11.759c3.116,0,5.644-2.527,5.644-5.644 V6.584C23.044,3.467,20.518,0,17.402,0z M22.057,14.188v11.665l-2.729,0.351v-4.806L22.057,14.188z M20.625,10.773 c-1.016,3.9-2.219,8.51-2.219,8.51H4.638l-2.222-8.51C2.417,10.773,11.3,7.755,20.625,10.773z M3.748,21.713v4.492l-2.73-0.349 V14.502L3.748,21.713z M1.018,37.938V27.579l2.73,0.343v8.196L1.018,37.938z M2.575,40.882l2.218-3.336h13.771l2.219,3.336H2.575z M19.328,35.805v-7.872l2.729-0.355v10.048L19.328,35.805z";break;case"Bus":o=new google.maps.Point(0,42),a=new google.maps.Point(0,44),al="white",tl=.6,q="assets/img/bus.jpg",el="M17.402,0H5.643C2.526,0,0,3.467,0,6.584v34.804c0,3.116,2.526,5.644,5.643,5.644h11.759c3.116,0,5.644-2.527,5.644-5.644 V6.584C23.044,3.467,20.518,0,17.402,0z M22.057,14.188v11.665l-2.729,0.351v-4.806L22.057,14.188z M20.625,10.773 c-1.016,3.9-2.219,8.51-2.219,8.51H4.638l-2.222-8.51C2.417,10.773,11.3,7.755,20.625,10.773z M3.748,21.713v4.492l-2.73-0.349 V14.502L3.748,21.713z M1.018,37.938V27.579l2.73,0.343v8.196L1.018,37.938z M2.575,40.882l2.218-3.336h13.771l2.219,3.336H2.575z M19.328,35.805v-7.872l2.729-0.355v10.048L19.328,35.805z";break;case"Motorcycle":o=new google.maps.Point(0,42),a=new google.maps.Point(0,44),al="white",tl=.07,q="assets/img/motorcycle.jpg",el="M17.402,0H5.643C2.526,0,0,3.467,0,6.584v34.804c0,3.116,2.526,5.644,5.643,5.644h11.759c3.116,0,5.644-2.527,5.644-5.644 V6.584C23.044,3.467,20.518,0,17.402,0z M22.057,14.188v11.665l-2.729,0.351v-4.806L22.057,14.188z M20.625,10.773 c-1.016,3.9-2.219,8.51-2.219,8.51H4.638l-2.222-8.51C2.417,10.773,11.3,7.755,20.625,10.773z M3.748,21.713v4.492l-2.73-0.349 V14.502L3.748,21.713z M1.018,37.938V27.579l2.73,0.343v8.196L1.018,37.938z M2.575,40.882l2.218-3.336h13.771l2.219,3.336H2.575z M19.328,35.805v-7.872l2.729-0.355v10.048L19.328,35.805z";break;case"Recovery Veh":case"Lorry":case"10 Footer Lorry":case"14 Footer Lorry":o=new google.maps.Point(0,42),a=new google.maps.Point(0,44),al="white",tl=.6,q="assets/img/truck.jpg",el="M17.402,0H5.643C2.526,0,0,3.467,0,6.584v34.804c0,3.116,2.526,5.644,5.643,5.644h11.759c3.116,0,5.644-2.527,5.644-5.644 V6.584C23.044,3.467,20.518,0,17.402,0z M22.057,14.188v11.665l-2.729,0.351v-4.806L22.057,14.188z M20.625,10.773 c-1.016,3.9-2.219,8.51-2.219,8.51H4.638l-2.222-8.51C2.417,10.773,11.3,7.755,20.625,10.773z M3.748,21.713v4.492l-2.73-0.349 V14.502L3.748,21.713z M1.018,37.938V27.579l2.73,0.343v8.196L1.018,37.938z M2.575,40.882l2.218-3.336h13.771l2.219,3.336H2.575z M19.328,35.805v-7.872l2.729-0.355v10.048L19.328,35.805z";break;case"Ambulance":o=new google.maps.Point(0,42),a=new google.maps.Point(0,44),al="white",tl=.6,q="assets/img/ambulance.jpg",el="M17.402,0H5.643C2.526,0,0,3.467,0,6.584v34.804c0,3.116,2.526,5.644,5.643,5.644h11.759c3.116,0,5.644-2.527,5.644-5.644 V6.584C23.044,3.467,20.518,0,17.402,0z M22.057,14.188v11.665l-2.729,0.351v-4.806L22.057,14.188z M20.625,10.773 c-1.016,3.9-2.219,8.51-2.219,8.51H4.638l-2.222-8.51C2.417,10.773,11.3,7.755,20.625,10.773z M3.748,21.713v4.492l-2.73-0.349 V14.502L3.748,21.713z M1.018,37.938V27.579l2.73,0.343v8.196L1.018,37.938z M2.575,40.882l2.218-3.336h13.771l2.219,3.336H2.575z M19.328,35.805v-7.872l2.729-0.355v10.048L19.328,35.805z";break;case"Personnel":o=new google.maps.Point(-4,24),a=new google.maps.Point(-4,26),al=ul,I=0,tl=.06,q="assets/img/personnel.jpg",el="M96 0c35.346 0 64 28.654 64 64s-28.654 64-64 64-64-28.654-64-64S60.654 0 96 0m48 144h-11.36c-22.711 10.443-49.59 10.894-73.28 0H48c-26.51 0-48 21.49-48 48v136c0 13.255 10.745 24 24 24h16v136c0 13.255 10.745 24 24 24h64c13.255 0 24-10.745 24-24V352h16c13.255 0 24-10.745 24-24V192c0-26.51-21.49-48-48-48z";break;case"Mobile":o=new google.maps.Point(-7,30),a=new google.maps.Point(-7,32),al=ul,I=0,tl=.05,q="assets/img/mobile.jpg",el="M272 0H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h224c26.5 0 48-21.5 48-48V48c0-26.5-21.5-48-48-48zM160 480c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm112-108c0 6.6-5.4 12-12 12H60c-6.6 0-12-5.4-12-12V60c0-6.6 5.4-12 12-12h200c6.6 0 12 5.4 12 12v312z"}B={path:el,scale:tl,strokeColor:ul,strokeWeight:1,strokeOpacity:1,fillOpacity:1,fillColor:al,offset:"5%",rotation:I,anchor:new google.maps.Point(10,25)},X=null==s.Driver.Name?"No Personnel Assigned":s.Driver.Name,"MOVE"==f?G++:"IDLE"==f?W++:"STOP"==f&&F>Y?j++:"STOP"==f&&Z++;var sl="<div id='assetInfo' class='form-group row' style='padding:0px !important;'>";sl+="<div class='col-md-8'><h6 class='map-heading'>"+_+"</h6></div>",sl+="<div class='col-md-4'><p style='text-align:right; padding-right:30px; padding-bottom:0px !important'>"+Ll(m,A)+"&nbsp;"+Cl(b,A)+"</p></div>",sl+="<table id='assetDetails' class='table table-vcenter'><tbody><tr><td colspan='2'>",sl+="<span class='font-weight-bold'>Address:&nbsp;</span>"+L+"<br /><span class='font-weight-bold'>Date:&nbsp;</span>"+A+"<br /><span class='font-weight-bold'>Speed:&nbsp;</span>"+Il(C)+"<br /><span class='font-weight-bold'>Battery:&nbsp;</span>"+kl(w)+"<br /><span class='font-weight-bold'>GPS Status:&nbsp;</span>"+y+"<br /><span class='font-weight-bold'>Zones:&nbsp;</span>"+k+"<br /><span class='font-weight-bold'>Last Updated:&nbsp;</span>"+U+"<br /></td><td colspan='2' class='pl-4'><img class='vehicle-img' src='"+q+"'/><br />","Unknown"!==M&&(sl+="<span class='font-weight-bold'>Brand:&nbsp;</span>"+M+"<br />"),"Unknown"!==x&&(sl+="<span class='font-weight-bold'>Model:&nbsp;</span>"+x+"<br />"),(il={map:ol,position:i,icon:B,shape:Q,category:p,cat_img:q,address:L,vechs:g,tag:d,id:c,gps:m,gprs:b,title:g,zone:k,battery:w,fix:y,engine:f,speed:C,mileage:P,timestamp:A,course:I,color:ul,getYPosition:N,getXPosition:E,assetBattery:D,content:sl+="</td></tr></tbody></table></div></div>",driver:X,elapsed_timestamp:U,path:el},rl=new google.maps.Marker({id:il.id,map:il.map,position:il.position,title:il.title,category:il.category,address:il.address,timestamp:il.timestamp,vechs:il.vechs,gps:il.gps,gprs:il.gprs,zone:il.zone,engine:il.engine,speed:il.speed,battery:il.battery,fix:il.fix,driver:il.driver,icon:il.icon,shape:il.shape,content:il.content,tag:il.tag,cat_img:il.cat_img,elapsed_timestamp:il.elapsed_timestamp}),il.content&&google.maps.event.addListener(rl,"click",(function(){for(var l=0;l<O.length;l++)O[l].close();O=[],this.getMap().newMarker||(e=this.getMap().newMarker=new google.maps.InfoWindow({zIndex:999999}),O.push(e),google.maps.event.addListener(e,"domready",(function(){$("#submitdest").click((function(){return l=il.address,v=$("#destination").val(),h="https://www.google.com/maps/dir/"+l+"/"+v,void(0==new String($("#destination").val()).length?alert("Your Destination is empty!"):window.open(h,"newwindow"));var l}))})));var n=this.content;n+="<div class='form-group row col-md-12 form-inline' id='assetRoutes'><div class='col-md-2'><span class='text-bold'>Route Info:&nbsp;</span></div><div class='col-md-6' style='background-color:black !important;'>"+'<input id="destination" type="text" class="form-control form-control-sm" placeholder="Enter Destination"></div><div class=\'col-md-3\' style=\'margin-left:10px;\'><button id="submitdest" class="btn btn-block btn-primary">Search</button></div></div>',this.getMap().newMarker.setContent(n),this.getMap().newMarker.open(this.getMap(),this),this.getMap().setCenter(this.position),u=il.title})),n=rl).setMap(ol),ll.BUBBLE={defaults:{text:"",color:"00ff00",fore:"000000",starcolor:null},getURL:function(l){var n=nl+"d_bubble_text_small_withshadow&chld=bb|";return n+=l.get("text")+"|",(n+=l.get("color").replace(/#/,"")+"|")+l.get("fore").replace(/#/,"")},getShadowURL:function(l){return nl+"d_bubble_text_small_withshadow&chld=bb|"+l.get("text")},getAnchor:function(l,n,e){return o},getShadowAnchor:function(l,n,e){return a},getShape:function(l,n,e){var t={};return t.coord=[0,44,13,26,13,6,17,1,n-4,1,n,6,n,21,n-4,26,21,26],t.type="poly",t}},t=new StyledMarker({styleIcon:new StyledIcon(ll.BUBBLE,{color:"#458FD2",text:g,fore:"#FFFFFF"}),position:i,map:ol,shadow:"none"}),T[K]&&T[K].setPosition?($("#assetStatus").empty(),n.setMap(null),t.setMap(null),T[K].setPosition(i),S[K].setPosition(i),T[K].setIcon(B),u==g?(T[K].id=c,T[K].content=sl,T[K].address=L,T[K].timestamp=A,T[K].gps=m,T[K].gprs=b,T[K].engine=f,T[K].battery=w,T[K].fix=y,T[K].tag=d,T[K].speed=C,T[K].cat_img=q,T[K].driver=X,T[K].elapsed_timestamp=U,null==$("#assetInfo").val()&&null==$("#assetInfo").val()||(document.getElementById("assetInfo").innerHTML=sl)):(T[K].id=c,T[K].content=sl,T[K].address=L,T[K].timestamp=A,T[K].gps=m,T[K].gprs=b,T[K].engine=f,T[K].battery=w,T[K].fix=y,T[K].tag=d,T[K].speed=C,T[K].cat_img=q,T[K].driver=X,T[K].elapsed_timestamp=U)):(J.extend(i),T[K]=n,S[K]=t)}var il,rl},K=0,q=l.length;K<q;K++)X();B&&(ol.setZoom(7),ol.fitBounds(J),B=!1);var el=document.getElementById("assetStatus");if("/tracking"==o&&el){for(a=0;a<T.length;a++)(null!=T[a]||T[a])&&(el.innerHTML+="<tr><td><strong><a class='openTrackingModal' style='color:#458FD2;'>"+T[a].id+"</a></strong></td><td><strong>"+T[a].title+"</strong></td><td>"+T[a].address+"</td><td>"+T[a].timestamp+"</td><td>"+T[a].elapsed_timestamp+"</td><td>"+Il(T[a].speed)+"</td><td>"+T[a].driver+"</td><td>"+kl(T[a].battery)+"</td><td>"+T[a].fix+"</td><td>"+zl(T[a].engine,T[a].timestamp)+"</td><td>"+Ll(T[a].gps,T[a].timestamp)+"</td><td>"+Cl(T[a].gprs,T[a].timestamp)+"</td></tr>");document.getElementById("total-vehicles").innerHTML=l.length,document.getElementById("getMove").innerHTML=G.toString(),document.getElementById("getIdle").innerHTML=W.toString(),document.getElementById("getStop").innerHTML=Z.toString(),document.getElementById("getDown").innerHTML=j.toString()}}function Ll(l,n){var e=new Date,t=r.utc(e).local().format("D-MMM-YYYY"),o=r(n,"D-MMM-YYYY").format("D-MMM-YYYY");return"<i class='fa fa-map-marker "+(t>o?"down":l>=2?"move":l<2&&t==o?"stop":"down")+"' title='GPS'></i>"}function Cl(l,n){var e=new Date,t=r.utc(e).local().format("D-MMM-YYYY"),o=r(n,"D-MMM-YYYY").format("D-MMM-YYYY");return"<i class='fa fa-signal "+(t>o?"down":0==l?"move":1==l?"idle":2==l&&t==o?"stop":"down")+"' title='3G'></i>"}function Il(l){return Math.round(100*l)/100+" km/h"}function kl(l){return Math.round(100*l)/100+" %"}function Pl(l){var n=r().format(),e=r.duration(r(n).diff(r(l))),t=parseInt(e.asDays()),o=parseInt(e.asHours());o-=24*t;var a=parseInt(e.asMinutes());return a-=24*t*60+60*o,0==t&&0==o&&0==a?"a moment ago":0==t?o+" hours "+a+" minutes ago":1==t?t+" day "+o+" hours "+a+" minutes ago":t+" days "+o+" hours "+a+" minutes ago"}function zl(l,n){var e,t,o=new Date,a=r.utc(o).local().format("D-MMM-YYYY"),u=r(n,"D-MMM-YYYY").format("D-MMM-YYYY");return a>u?(t="down",e="DOWN"):"MOVE"==l?(t="move",e="MOVE"):"IDLE"==l?(t="idle",e="IDLE"):"STOP"==l&&a==u?(t="stop",e="STOP"):(t="down",e="DOWN"),"<span style='padding: 4px; color:white;' class='"+t+"'>"+e+"</span>"}function Dl(){for(var l=0;l<T.length;l++)T[l]&&T[l].setMap(null);for(T=[],l=0;l<S.length;l++)S[l]&&S[l].setMap(null);for(S=[],l=0;l<O.length;l++)O[l]&&O[l].close();O=[]}function Vl(){for(var l=0;l<E.length;l++)E[l].setMap(null);for(l=0;l<N.length;l++)N[l].setMap(null);for(l=0;l<Z.length;l++)Z[l].setMap(null);for(Z=[],l=0;l<J.length;l++)J[l].close();for(J=[],l=0;l<j.length;l++)j[l].setMap(null);for(j=[],l=0;l<H.length;l++)H[l].overlay.setMap(null);for(H=[],l=0;l<q.length;l++)q[l].setMap(null);q=[],s.setOptions({drawingControl:!0})}function Tl(l,n){var e=l.y,t=l.x,o=1<<n;return e<0||e>=o?null:((t<0||t>=o)&&(t=(t%o+o)%o),{x:t,y:e})}(s=new google.maps.drawing.DrawingManager({drawingControl:!1,drawingControlOptions:{position:google.maps.ControlPosition.BOTTOM_CENTER,drawingModes:[google.maps.drawing.OverlayType.CIRCLE,google.maps.drawing.OverlayType.POLYGON,google.maps.drawing.OverlayType.MARKER,google.maps.drawing.OverlayType.RECTANGLE]},markerOptions:{draggable:!0},polylineOptions:{editable:!0},rectangleOptions:ul,circleOptions:ul,polygonOptions:ul,map:ol})).setMap(ol),function(){for(var l=document.getElementById("color-palette"),n=0;n<F.length;++n){var e=F[n],t=yl(e);l.appendChild(t),A[e]=t}vl(F[0])}(),google.maps.event.addListener(s,"overlaycomplete",(function(l){if(fl(),H.push(l),l.type==google.maps.drawing.OverlayType.CIRCLE&&l.overlay.getRadius(),l.type!=google.maps.drawing.OverlayType.MARKER){s.setDrawingMode(null),s.setOptions({drawingControl:!1});var n=l.overlay;n.type=l.type,google.maps.event.addListener(n,"click",(function(){bl(n)})),bl(n)}if(l.type==google.maps.drawing.OverlayType.MARKER){var e=l.overlay.getPosition();console.log(e)}})),google.maps.event.addListener(s,"drawingmode_changed",ml),google.maps.event.addListener(ol,"click",ml),google.maps.event.addListener(s,"polygoncomplete",(function(l){R.push(l),function(){console.log(l.getPath().getArray());for(var n,e=l.getPath().getArray().toString().replace(/\ /g,"").replace(/\(/g,"").replace(/\),/g," "),t=(m=e.replace(/\)/g,"")).split(" "),o=0;o<t.length;o++)n=t[0].split(",");var a=new google.maps.LatLng(parseFloat(n[0]),parseFloat(n[1])),u=new google.maps.InfoWindow({content:document.getElementById("infobubbleDrawing")});J.push(u),u.setPosition(a),u.open(ol),document.getElementById("infobubbleDrawing").style.display="block",$("#panel").show(),google.maps.event.addListener(u,"closeclick",(function(){fl(),$("#panel").hide()}))}(),google.maps.event.addDomListener(document.getElementById("savebutton"),"click",wl)})),google.maps.event.addListener(s,"circlecomplete",(function(l){var n,t,o;W.push(l);for(var a=0;a<W.length;a++){n=W[a].getCenter(),t=W[a].getRadius(),google.maps.LatLng.prototype.destinationPoint=function(l,n){n/=6371,l=sl(l);var e=sl(this.lat()),t=sl(this.lng()),o=Math.asin(Math.sin(e)*Math.cos(n)+Math.cos(e)*Math.sin(n)*Math.cos(l)),a=t+Math.atan2(Math.sin(l)*Math.sin(n)*Math.cos(e),Math.cos(n)-Math.sin(e)*Math.sin(o));return isNaN(o)||isNaN(a)?null:new google.maps.LatLng(sl(o),a*(180/Math.PI))};var u=t/1e3,s=(o=new google.maps.LatLng(n.lat(),n.lng())).destinationPoint(90,u).toString().replace(/\ /g,"").replace(/\(/g,"").replace(/\),/g," ").replace(/\)/g,"");m=n.lat()+","+n.lng()+" "+s}$.getJSON(P,(function(l){$.each(l,(function(l,n){$("#getZoneTypes").append($("<option></option>").val(n.ZoneTypeID).html(n.Name))}))})),e=new google.maps.InfoWindow({content:'<div class="form-group row"><div style="padding-top: 10px;"><h6 style="color:#4286CF; padding-bottom:10px;"><i class="fa fa-map-marker fa-lg" style="color: cornflowerblue; font-size: 1.5em;"></i> Save Zone </h6 ></div><table style="width:100%"><tbody><tr><th><div class="col-sm-12 form-group"><div class=".text-normal"> Zone Name </div><input class="form-control" id="zname" name="zname" placeholder="Enter Zone Name" type="text" style="color:black !important;"></div></th></tr><tr><th><div style="padding: 10px 0 10px 0;"></div></th></tr><tr><th><div class="col-sm-12 form-group"><div class=".text-normal"> Zone Type </div><select class="form-control" data-live-search="true" data-width="100%" id="getZoneTypes" name="getZoneTypes" style="background-color:#2F343B; color:azure;"></select > </div></th ></tr><tr><th><div style="padding: 10px 0 10px 0;"></div></th></tr><tr><th><button id="savebutton" class="btn-dark btn btn-md pull-right"> Submit </button></th></tr></tbody></table></div>'}),J.push(e),e.setPosition(o),e.open(ol),$("#panel").show(),google.maps.event.addListener(e,"closeclick",(function(){fl(),$("#panel").hide()})),google.maps.event.addListener(e,"domready",(function(){$("#savebutton").click((function(){return wl()}))}))})),google.maps.event.addListener(s,"markercomplete",(function(l){var n;Z.push(l);for(var e=0;e<Z.length;e++){var t=(n=Z[e].getPosition()).toString().replace(/\ /g,"").replace(/\(/g,"").replace(/\),/g," ");m=t.replace(/\)/g,"")}var o=new google.maps.InfoWindow({content:document.getElementById("infobubbleDrawing")});J.push(o),o.setPosition(n),o.open(ol),document.getElementById("infobubbleDrawing").style.display="block",$("#panel").hide(),google.maps.event.addListener(o,"closeclick",(function(){!function(){for(var l=0;l<Z.length;l++)Z[l].setMap(null);for(Z=[],l=0;l<H.length;l++)H[l].overlay.setMap(null);for(H=[],l=0;l<J.length;l++)J[l].close();J=[],s.setOptions({drawingControl:!0})}(),$("#panel").hide()})),google.maps.event.addDomListener(document.getElementById("savebutton"),"click",wl)})),google.maps.event.addListener(s,"rectanglecomplete",(function(l){K.push(l);var n=l.getBounds(),e=n.getNorthEast(),t=n.getSouthWest(),o=new google.maps.LatLng(e.lat(),t.lng()),a=new google.maps.LatLng(t.lat(),e.lng());f=new google.maps.Marker({map:ol,position:new google.maps.LatLng(e.lat(),t.lng()),draggable:!1,title:"Drag me!"}),w=new google.maps.Marker({map:ol,position:new google.maps.LatLng(t.lat(),e.lng()),draggable:!1,title:"Drag me!"}),q.push(f,w);for(var u=(o+","+t+","+a+","+e).replace(/\ /g,"").replace(/\(/g,"").replace(/\),/g," "),s=(m=u.replace(/\)/g,"")).split(" "),i=0;i<s.length;i++)s[0].split(",");var r=new google.maps.LatLng(e.lat(),t.lng()),c=new google.maps.InfoWindow({content:document.getElementById("infobubbleDrawing")});J.push(c),c.setPosition(r),c.open(ol),document.getElementById("infobubbleDrawing").style.display="block",$("#panel").show(),google.maps.event.addListener(c,"closeclick",(function(){fl(),$("#panel").hide()})),sessionStorage.setItem("setSessionstorageValuePerimeterLength",String(4)),google.maps.event.addDomListener(document.getElementById("savebutton"),"click",wl)})),y=setInterval((function(){Ml(xl,D,l.route)}),1e4),$("#assetStatus").on("click","a.openTrackingModal",{spinner:this.spinner},(function(l){l.data.spinner.show(),$("#trackingModal").modal("show");var n,e=M+x+"assetinfo/"+l.target.innerHTML,t=new Array,o=new google.maps.LatLng(1.3521,103.8198),a=new google.maps.LatLngBounds,u=!0,s={zoom:12,center:o,panControl:!1,zoomControl:!0,zoomControlOptions:{position:google.maps.ControlPosition.LEFT_TOP},mapTypeControl:!1,streetViewControl:!1,fullscreenControl:!0,fullscreenControlOptions:{position:google.maps.ControlPosition.TOP_LEFT},scaleControl:!1,overviewMapControl:!1},i=new google.maps.Map(document.getElementById("map-asset"),s);function c(l,n){p.a.get(n).then((function(n){l(n.data)})).catch((function(l){console.log(l)}))}function d(l){if(l)if(null==l.LastPos||null==l.LastPos.Engine||0==l.LastPos.PosID||""===l.LastPos)console.log("Data is Null");else{var e=new google.maps.LatLng(l.LastPos.PosY,l.LastPos.PosX),o=l.AssetID,s=l.Tag,c=l.Category,d=l.Name,p=l.Gps,g=l.Gprs,m=l.Engine,b=l.LastPos.Battery,f=l.LastPos.Fix,w=l.Make,h=l.Model,v=l.LastPos.Location,y=l.LastPos.Speed,M=l.LastPos.Course,x=l.LastPos.Zone,L=l.LastPos.Timestamp,C=(l.LastPos.Battery.toFixed(2),l.Name.match(/.{1,28}/g).join("<br/>").substring(0,18)),I=r.utc(L).local().format("DD MMM YYYY"),k=new Date,P=r.utc(k).local().format("DD MMM YYYY");P=Date.parse(P),I=Date.parse(I);var z,D,V=r.utc(L).local().format("D-MMM-YYYY, hh:mm:ss A"),S=Pl(r.utc(L).local().format()),O=void 0,_=void 0,E=void 0,N=void 0,Y=void 0;switch("MOVE"==m?Y="#5cb85c":"IDLE"==m?Y="#f0ad4e":"STOP"==m&&P>I?Y="#696969":"STOP"==m&&(Y="#d9534f"),c){case"Car":new google.maps.Point(0,42),new google.maps.Point(0,44),N="white",E=.6,_="M17.402,0H5.643C2.526,0,0,3.467,0,6.584v34.804c0,3.116,2.526,5.644,5.643,5.644h11.759c3.116,0,5.644-2.527,5.644-5.644 V6.584C23.044,3.467,20.518,0,17.402,0z M22.057,14.188v11.665l-2.729,0.351v-4.806L22.057,14.188z M20.625,10.773 c-1.016,3.9-2.219,8.51-2.219,8.51H4.638l-2.222-8.51C2.417,10.773,11.3,7.755,20.625,10.773z M3.748,21.713v4.492l-2.73-0.349 V14.502L3.748,21.713z M1.018,37.938V27.579l2.73,0.343v8.196L1.018,37.938z M2.575,40.882l2.218-3.336h13.771l2.219,3.336H2.575z M19.328,35.805v-7.872l2.729-0.355v10.048L19.328,35.805z",O="assets/img/car.jpg";break;case"Truck":new google.maps.Point(0,42),new google.maps.Point(0,44),N="white",E=.6,_="M17.402,0H5.643C2.526,0,0,3.467,0,6.584v34.804c0,3.116,2.526,5.644,5.643,5.644h11.759c3.116,0,5.644-2.527,5.644-5.644 V6.584C23.044,3.467,20.518,0,17.402,0z M22.057,14.188v11.665l-2.729,0.351v-4.806L22.057,14.188z M20.625,10.773 c-1.016,3.9-2.219,8.51-2.219,8.51H4.638l-2.222-8.51C2.417,10.773,11.3,7.755,20.625,10.773z M3.748,21.713v4.492l-2.73-0.349 V14.502L3.748,21.713z M1.018,37.938V27.579l2.73,0.343v8.196L1.018,37.938z M2.575,40.882l2.218-3.336h13.771l2.219,3.336H2.575z M19.328,35.805v-7.872l2.729-0.355v10.048L19.328,35.805z",O="assets/img/truck.jpg";break;case"Van":new google.maps.Point(0,42),new google.maps.Point(0,44),N="white",E=.6,_="M17.402,0H5.643C2.526,0,0,3.467,0,6.584v34.804c0,3.116,2.526,5.644,5.643,5.644h11.759c3.116,0,5.644-2.527,5.644-5.644 V6.584C23.044,3.467,20.518,0,17.402,0z M22.057,14.188v11.665l-2.729,0.351v-4.806L22.057,14.188z M20.625,10.773 c-1.016,3.9-2.219,8.51-2.219,8.51H4.638l-2.222-8.51C2.417,10.773,11.3,7.755,20.625,10.773z M3.748,21.713v4.492l-2.73-0.349 V14.502L3.748,21.713z M1.018,37.938V27.579l2.73,0.343v8.196L1.018,37.938z M2.575,40.882l2.218-3.336h13.771l2.219,3.336H2.575z M19.328,35.805v-7.872l2.729-0.355v10.048L19.328,35.805z",O="assets/img/van.jpg";break;case"Bus":new google.maps.Point(0,42),new google.maps.Point(0,44),N="white",E=.6,_="M17.402,0H5.643C2.526,0,0,3.467,0,6.584v34.804c0,3.116,2.526,5.644,5.643,5.644h11.759c3.116,0,5.644-2.527,5.644-5.644 V6.584C23.044,3.467,20.518,0,17.402,0z M22.057,14.188v11.665l-2.729,0.351v-4.806L22.057,14.188z M20.625,10.773 c-1.016,3.9-2.219,8.51-2.219,8.51H4.638l-2.222-8.51C2.417,10.773,11.3,7.755,20.625,10.773z M3.748,21.713v4.492l-2.73-0.349 V14.502L3.748,21.713z M1.018,37.938V27.579l2.73,0.343v8.196L1.018,37.938z M2.575,40.882l2.218-3.336h13.771l2.219,3.336H2.575z M19.328,35.805v-7.872l2.729-0.355v10.048L19.328,35.805z",O="assets/img/bus.jpg";break;case"Motorcycle":new google.maps.Point(0,42),new google.maps.Point(0,44),N="white",E=.6,_="M17.402,0H5.643C2.526,0,0,3.467,0,6.584v34.804c0,3.116,2.526,5.644,5.643,5.644h11.759c3.116,0,5.644-2.527,5.644-5.644 V6.584C23.044,3.467,20.518,0,17.402,0z M22.057,14.188v11.665l-2.729,0.351v-4.806L22.057,14.188z M20.625,10.773 c-1.016,3.9-2.219,8.51-2.219,8.51H4.638l-2.222-8.51C2.417,10.773,11.3,7.755,20.625,10.773z M3.748,21.713v4.492l-2.73-0.349 V14.502L3.748,21.713z M1.018,37.938V27.579l2.73,0.343v8.196L1.018,37.938z M2.575,40.882l2.218-3.336h13.771l2.219,3.336H2.575z M19.328,35.805v-7.872l2.729-0.355v10.048L19.328,35.805z",O="assets/img/motorcycle.jpg";break;case"Recovery Veh":case"Lorry":case"10 Footer Lorry":case"14 Footer Lorry":new google.maps.Point(0,42),new google.maps.Point(0,44),N="white",E=.6,_="M17.402,0H5.643C2.526,0,0,3.467,0,6.584v34.804c0,3.116,2.526,5.644,5.643,5.644h11.759c3.116,0,5.644-2.527,5.644-5.644 V6.584C23.044,3.467,20.518,0,17.402,0z M22.057,14.188v11.665l-2.729,0.351v-4.806L22.057,14.188z M20.625,10.773 c-1.016,3.9-2.219,8.51-2.219,8.51H4.638l-2.222-8.51C2.417,10.773,11.3,7.755,20.625,10.773z M3.748,21.713v4.492l-2.73-0.349 V14.502L3.748,21.713z M1.018,37.938V27.579l2.73,0.343v8.196L1.018,37.938z M2.575,40.882l2.218-3.336h13.771l2.219,3.336H2.575z M19.328,35.805v-7.872l2.729-0.355v10.048L19.328,35.805z",O="assets/img/truck.jpg";break;case"Ambulance":new google.maps.Point(0,42),new google.maps.Point(0,44),N="white",E=.6,_="M17.402,0H5.643C2.526,0,0,3.467,0,6.584v34.804c0,3.116,2.526,5.644,5.643,5.644h11.759c3.116,0,5.644-2.527,5.644-5.644 V6.584C23.044,3.467,20.518,0,17.402,0z M22.057,14.188v11.665l-2.729,0.351v-4.806L22.057,14.188z M20.625,10.773 c-1.016,3.9-2.219,8.51-2.219,8.51H4.638l-2.222-8.51C2.417,10.773,11.3,7.755,20.625,10.773z M3.748,21.713v4.492l-2.73-0.349 V14.502L3.748,21.713z M1.018,37.938V27.579l2.73,0.343v8.196L1.018,37.938z M2.575,40.882l2.218-3.336h13.771l2.219,3.336H2.575z M19.328,35.805v-7.872l2.729-0.355v10.048L19.328,35.805z",O="assets/img/ambulance.jpg";break;case"Personnel":new google.maps.Point(-4,24),new google.maps.Point(-4,26),N=Y,M=0,E=.06,O="assets/img/personnel.jpg",_="M96 0c35.346 0 64 28.654 64 64s-28.654 64-64 64-64-28.654-64-64S60.654 0 96 0m48 144h-11.36c-22.711 10.443-49.59 10.894-73.28 0H48c-26.51 0-48 21.49-48 48v136c0 13.255 10.745 24 24 24h16v136c0 13.255 10.745 24 24 24h64c13.255 0 24-10.745 24-24V352h16c13.255 0 24-10.745 24-24V192c0-26.51-21.49-48-48-48z";break;case"Mobile":new google.maps.Point(-7,30),new google.maps.Point(-7,32),N=Y,M=0,E=.05,O="assets/img/mobile.jpg",_="M272 0H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h224c26.5 0 48-21.5 48-48V48c0-26.5-21.5-48-48-48zM160 480c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm112-108c0 6.6-5.4 12-12 12H60c-6.6 0-12-5.4-12-12V60c0-6.6 5.4-12 12-12h200c6.6 0 12 5.4 12 12v312z"}z={path:_,scale:E,strokeColor:Y,strokeWeight:1,strokeOpacity:1,fillOpacity:1,fillColor:N,offset:"5%",rotation:M,anchor:new google.maps.Point(10,25)},D=null==l.Driver.Name?"No Driver Assigned":l.Driver.Name;var B="<div id='assetInfo' class='form-group row' style='padding:0px !important;'>";B+="<div class='col-md-8'><h6 class='map-heading'>"+C+"</h6></div>",B+="<div class='col-md-4'><p style='text-align:right; padding-right:30px; padding-bottom:0px !important'>"+Ll(p,V)+"&nbsp;"+Cl(g,V)+"</p></div>",B+="<table id='assetDetails' class='table table-vcenter'><tbody><tr><td colspan='2'>",B+="<span class='font-weight-bold'>Address:&nbsp;</span>"+v+"<br /><span class='font-weight-bold'>Date:&nbsp;</span>"+V+"<br /><span class='font-weight-bold'>Speed:&nbsp;</span>"+Il(y)+"<br /><span class='font-weight-bold'>Battery:&nbsp;</span>"+kl(b)+"<br /><span class='font-weight-bold'>GPS Status:&nbsp;</span>"+f+"<br /><span class='font-weight-bold'>Zones:&nbsp;</span>"+x+"<br /><span class='font-weight-bold'>Last Updated:&nbsp;</span>"+S+"<br /></td><td colspan='2' class='pl-4'><img class='vehicle-img' src='"+O+"'/><br />","Unknown"!==w&&(B+="<span class='font-weight-bold'>Brand:&nbsp;</span>"+w+"<br />"),"Unknown"!==h&&(B+="<span class='font-weight-bold'>Model:&nbsp;</span>"+h+"<br />"),B+="</td></tr></tbody></table></div></div>",(n=new google.maps.Marker({id:o,map:i,position:e,title:d,category:c,address:v,timestamp:V,vechs:d,gps:p,gprs:g,zone:x,engine:m,speed:y,battery:b,fix:f,driver:D,icon:z,shape:Q,content:B,tag:s,cat_img:O,elapsed_timestamp:S})).setMap(i),n.content&&(google.maps.event.addListener(n,"click",(function(){this.getMap().newMarker=new google.maps.InfoWindow({zIndex:999999}),this.getMap().newMarker.setContent(this.content),this.getMap().newMarker.open(this.getMap(),this),this.getMap().setCenter(this.position),i.panTo(this.getPosition())})),n.getMap().newMarker=new google.maps.InfoWindow({zIndex:999999}),n.getMap().newMarker.setContent(n.content),n.getMap().newMarker.open(n.getMap(),n),n.getMap().setCenter(n.position),i.panTo(n.getPosition())),t[0]&&t[0].setPosition?(n.setMap(null),t[0].setPosition(e),t[0].setIcon(z),t[0].id=o,t[0].content=B,t[0].address=v,t[0].timestamp=V,t[0].gps=p,t[0].gprs=g,t[0].engine=m,t[0].battery=b,t[0].fix=f,t[0].tag=s,t[0].speed=y,t[0].cat_img=O,T[0].driver=D,t[0].elapsed_timestamp=S):(a.extend(e),i.setZoom(7),t[0]=n),u&&(i.setZoom(7),i.fitBounds(a),u=!1,$("#trackingFormTitle").text(d))}}c(d,e),y=setInterval((function(){c(d,e)}),1e4),l.data.spinner.hide()})),$(".SelectResellerFilter").on("change",(function(){clearInterval(y),Dl(),Vl()})),$(".SelectCompanyFilter").change({route:this.route},(function(l){clearInterval(y),Dl(),Vl();var n=function(l,n,e,t){var o;return 1==l?o=n+e+"zoneinfo?ResellerID="+$("#load-reseller").val()+"&CompanyID="+$("#load-company").val():2==l?o=n+e+"zoneinfo?ResellerID="+t+"&CompanyID="+$("#load-company").val():l>=3&&(o=n+e+"zoneinfo?ResellerID="+t+"&CompanyID="+$("#load-company").val()),o}(k,M,x,C),e=function(l,n,e,t,o){var a;return 1==l?a=n+e+"assetinfo?UserID=&ResellerID="+$("#load-reseller").val()+"&CompanyID="+$("#load-company").val():2==l?a=n+e+"assetinfo?UserID="+t+"&ResellerID="+o+"&CompanyID="+$("#load-company").val():l>=3&&(a=n+e+"assetinfo?UserID="+t+"&ResellerID="+o+"&CompanyID="+$("#load-company").val()),a}(k,M,x,L,C);il(rl,n),Ml(xl,e,l.data.route),y=setInterval((function(){Ml(xl,e,l.data.route)}),1e4)})),$(".SelectAssetFilter").change({router:this.router},(function(l){var e=$(this).find("option:selected").val();for(a=0;a<T.length;a++)n=T[a],T[a]&&n.id==e&&google.maps.event.trigger(T[a],"click")})),this.spinner.hide()},l}(),m=e("Ip0R"),b=e("ZYCi"),f=t.ub({encapsulation:2,styles:[["#map-canvas{position:relative;margin:0 auto;padding:0;overflow:hidden;max-width:none!important;box-shadow:none!important}.gmap-control-container{margin:10px 5.3px 5.3px -6px;padding-left:2px;padding-right:2px}.gmap-control{cursor:pointer;background-color:-moz-linear-gradient(center top,#fefefe,#f3f3f3);background-color:#fefefe!important;border:1px solid #a9bbdf;border-radius:2px;padding:0 6px;line-height:160%;font-size:11px;font-family:Arial,sans-serif;box-shadow:2px 2px 3px rgba(0,0,0,.35);-webkit-user-select:none;-moz-user-select:none;-o-user-select:none;-ms-user-select:none;user-select:none}.gmap-control-active,.gmap-control:hover{border:1px solid #678ac7}.gmap-control-active{background-color:-moz-linear-gradient(center top,#6d8acc,#7b98d9)!important;background-color:#6d8acc!important;color:#fff;font-weight:700}.gmap-control-legend{position:absolute;text-align:left;z-index:-1;top:20px;left:0;width:150px;height:86px;font-size:10px;background:#fefefe;border:1px solid #a9bbdf;padding:10px;box-shadow:2px 2px 3px rgba(0,0,0,.35)}.gmap-control-legend ul{margin:0;padding:0;list-style-type:none}.gmap-control-legend li{line-height:160%}.controls{margin-top:7px;border:1px solid transparent;border-radius:2px 0 0 2px;box-sizing:border-box;-moz-box-sizing:border-box;height:32px;outline:none;box-shadow:0 2px 6px rgba(0,0,0,.3)}#pac-input-from,#pac-input-to{background-color:#fff;font-family:Roboto;font-size:12px;font-weight:300;padding:0 11px 0 13px;text-overflow:ellipsis;width:300px}#pac-input,#pac-inputEN{background-color:#fff;font-family:Roboto;font-size:12px;font-weight:300;margin-left:12px;padding:0 11px 0 13px;text-overflow:ellipsis;width:300px}#pac-inputEN:focus{border-color:#4d90fe}.pac-container{font-family:Roboto}#type-selector{color:#fff;background-color:#4d90fe;padding:5px 11px 0}#type-selector label{font-family:Roboto;font-size:13px;font-weight:300}#pac-input:focus{border-color:#4d90fe}#target{width:345px}#hideDetails,#showDetails{cursor:pointer}.gm-style .gm-style-iw{top:0!important;left:0!important;max-width:450px!important;padding-top:10px;padding-right:10px;padding-bottom:10px!important;display:block!important;overflow:visible!important}.gm-style .gm-style-iw,.gm-style .gm-style-pbc{background-color:#1e1e24!important}.gm-style .gm-style-iw #google-popup p{padding:10px}.gm-style div div div div div div div div{background-color:#1e1e24!important;margin:0;padding:0;top:0;color:#fff;font-size:12px;overflow:hidden!important}.poi-info-window a:link{text-decoration:none;color:#97d8ff!important;background:none!important}.gm-style div div div div div div div div a{color:#f1f1f1;font-weight:700}.gm-style .gm-style-iw-t:after{background:linear-gradient(45deg,#3b3f48 50%,hsla(0,0%,100%,0) 51%,hsla(0,0%,100%,0))!important;background-color:transparent}.gm-style img.vehicle-img{width:120px;text-align:center;padding-bottom:10px}.gm-style .gm-style-iw-d{overflow:visible}.gm-ui-hover-effect{background-color:#fff!important;opacity:.9;top:0!important;right:0!important;width:15px!important;height:15px!important;margin-top:0!important;margin-right:0!important}.gm-ui-hover-effect img{margin:1px!important}.input-map{padding:.285rem .75rem!important;background-color:#eaeaea!important;color:#495057!important;font-size:12px!important}.info-table{font-size:13px;line-height:1.57}.info-table i{color:#fff;border-radius:4px;padding:5px 8px;font-size:13px}.move{background-color:#2b7c21}.stop{background-color:#b60003}.idle{background-color:#fea82c}.down{background-color:#696969}.form-inline .form-control{width:100%}.form-control,.form-control:focus{background-color:#fff}.form-control:focus{border-color:#46b1ff}button.gm-ui-hover-effect{margin-top:10px!important;margin-right:10px!important}.labels{color:#fff;background-color:#000;font-family:Lucida Grande,Arial,sans-serif;font-size:10px;text-align:center;width:100px;white-space:nowrap}#panel{width:200px;font-family:Arial,sans-serif;font-size:13px;float:right;margin:10px;padding:8px 8px 10px 10px;background-color:#404040;width:auto}#color-palette{clear:both}.color-button{width:14px;height:14px;font-size:0;margin:2px;float:left;cursor:pointer}nav#map-toggle button{position:absolute;left:-120px;top:70px}nav#map-toggle button i{margin-top:-2px}.open-close-container label,.open-close-container p{font-size:12px!important}.open-close-container{position:absolute;z-index:999999;right:0;top:0;height:100%;padding:5px;color:#eaeaea;font-size:14px!important}#assetStatus{font-size:12px;color:#000!important}#assetStatus i.fa{width:28px;height:24px;padding-top:5px;text-align:center;border-radius:2px;color:#fff!important}#assetStatus .vehicle-img{width:30px}#assetInfo #assetDetails{color:#fff!important;margin-bottom:0}#assetInfo p i.fa{padding:3px 4px;border-radius:2px}"]],data:{}});function w(l){return t.Yb(0,[(l()(),t.wb(0,0,null,null,3,"ngx-spinner",[["bdColor","rgba(51, 51, 51, 0.96)"],["size","medium"],["type","ball-spin-clockwise"]],null,null,null,s.b,s.a)),t.vb(1,770048,null,0,i.a,[i.c,t.h],{bdColor:[0,"bdColor"],size:[1,"size"],type:[2,"type"]},null),(l()(),t.wb(2,0,null,0,1,"p",[["style","color: white"]],null,null,null,null,null)),(l()(),t.Vb(-1,null,["Please Wait. "])),(l()(),t.wb(4,0,null,null,126,"div",[["class","animated fadeIn"]],null,null,null,null,null)),(l()(),t.wb(5,0,null,null,48,"div",[["class","row"]],null,null,null,null,null)),(l()(),t.wb(6,0,null,null,11,"div",[["class","col-sm-6 col-lg-3"]],null,null,null,null,null)),(l()(),t.wb(7,0,null,null,10,"div",[["class","brand-card"]],null,null,null,null,null)),(l()(),t.wb(8,0,null,null,5,"div",[["class","card-body pb-3 bg-success"]],null,null,null,null,null)),(l()(),t.wb(9,0,null,null,1,"div",[["class","btn-group float-right"]],null,null,null,null,null)),(l()(),t.wb(10,0,null,null,0,"i",[["class","fa fa-car fa-2x"]],null,null,null,null,null)),(l()(),t.wb(11,0,null,null,0,"div",[["class","text-value"],["id","getMove"]],null,null,null,null,null)),(l()(),t.wb(12,0,null,null,1,"div",[],null,null,null,null,null)),(l()(),t.Vb(-1,null,["MOVE"])),(l()(),t.wb(14,0,null,null,3,"div",[["class","brand-card-body"]],null,null,null,null,null)),(l()(),t.wb(15,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),t.wb(16,0,null,null,1,"div",[["class","text-uppercase text-muted small"]],null,null,null,null,null)),(l()(),t.Vb(-1,null,["Status when personnel is MOVING"])),(l()(),t.wb(18,0,null,null,11,"div",[["class","col-sm-6 col-lg-3"]],null,null,null,null,null)),(l()(),t.wb(19,0,null,null,10,"div",[["class","brand-card"]],null,null,null,null,null)),(l()(),t.wb(20,0,null,null,5,"div",[["class","card-body pb-3 bg-warning"]],null,null,null,null,null)),(l()(),t.wb(21,0,null,null,1,"div",[["class","btn-group float-right"]],null,null,null,null,null)),(l()(),t.wb(22,0,null,null,0,"i",[["class","fa fa-car fa-2x"]],null,null,null,null,null)),(l()(),t.wb(23,0,null,null,0,"div",[["class","text-value"],["id","getIdle"]],null,null,null,null,null)),(l()(),t.wb(24,0,null,null,1,"div",[],null,null,null,null,null)),(l()(),t.Vb(-1,null,["IDLE"])),(l()(),t.wb(26,0,null,null,3,"div",[["class","brand-card-body"]],null,null,null,null,null)),(l()(),t.wb(27,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),t.wb(28,0,null,null,1,"div",[["class","text-uppercase text-muted small"]],null,null,null,null,null)),(l()(),t.Vb(-1,null,["Status when personnel is IDLE"])),(l()(),t.wb(30,0,null,null,11,"div",[["class","col-sm-6 col-lg-3"]],null,null,null,null,null)),(l()(),t.wb(31,0,null,null,10,"div",[["class","brand-card"]],null,null,null,null,null)),(l()(),t.wb(32,0,null,null,5,"div",[["class","card-body pb-3 bg-danger"]],null,null,null,null,null)),(l()(),t.wb(33,0,null,null,1,"div",[["class","btn-group float-right"]],null,null,null,null,null)),(l()(),t.wb(34,0,null,null,0,"i",[["class","fa fa-car fa-2x"]],null,null,null,null,null)),(l()(),t.wb(35,0,null,null,0,"div",[["class","text-value"],["id","getStop"]],null,null,null,null,null)),(l()(),t.wb(36,0,null,null,1,"div",[],null,null,null,null,null)),(l()(),t.Vb(-1,null,["STOP"])),(l()(),t.wb(38,0,null,null,3,"div",[["class","brand-card-body"]],null,null,null,null,null)),(l()(),t.wb(39,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),t.wb(40,0,null,null,1,"div",[["class","text-uppercase text-muted small"]],null,null,null,null,null)),(l()(),t.Vb(-1,null,["Status when application is OFF"])),(l()(),t.wb(42,0,null,null,11,"div",[["class","col-sm-6 col-lg-3"]],null,null,null,null,null)),(l()(),t.wb(43,0,null,null,10,"div",[["class","brand-card"]],null,null,null,null,null)),(l()(),t.wb(44,0,null,null,5,"div",[["class","card-body pb-3 bg-dark"]],null,null,null,null,null)),(l()(),t.wb(45,0,null,null,1,"div",[["class","btn-group float-right"]],null,null,null,null,null)),(l()(),t.wb(46,0,null,null,0,"i",[["class","fa fa-car fa-2x"]],null,null,null,null,null)),(l()(),t.wb(47,0,null,null,0,"div",[["class","text-value"],["id","getDown"]],null,null,null,null,null)),(l()(),t.wb(48,0,null,null,1,"div",[],null,null,null,null,null)),(l()(),t.Vb(-1,null,["DOWN"])),(l()(),t.wb(50,0,null,null,3,"div",[["class","brand-card-body"]],null,null,null,null,null)),(l()(),t.wb(51,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),t.wb(52,0,null,null,1,"div",[["class","text-uppercase text-muted small"]],null,null,null,null,null)),(l()(),t.Vb(-1,null,["Down for more than 24 hours"])),(l()(),t.wb(54,0,null,null,33,"div",[["class","card"]],null,null,null,null,null)),(l()(),t.wb(55,0,null,null,4,"div",[["class","card-header"]],null,null,null,null,null)),(l()(),t.wb(56,0,null,null,1,"span",[["class","font-weight-bold"]],null,null,null,null,null)),(l()(),t.Vb(-1,null,["Personnels:\xa0"])),(l()(),t.wb(58,0,null,null,0,"span",[["id","total-vehicles"]],null,null,null,null,null)),(l()(),t.wb(59,0,null,null,0,"span",[["class","float-right"],["id","coordinates-panel"]],null,null,null,null,null)),(l()(),t.wb(60,0,null,null,5,"div",[["class","card-body"]],null,null,null,null,null)),(l()(),t.wb(61,0,null,null,4,"div",[["class","row"]],null,null,null,null,null)),(l()(),t.wb(62,0,null,null,3,"div",[["class","col-sm-12"]],null,null,null,null,null)),(l()(),t.wb(63,0,null,null,0,"div",[["id","map-canvas"],["style","height:600px;"]],null,null,null,null,null)),(l()(),t.wb(64,0,null,null,1,"div",[["id","panel"]],null,null,null,null,null)),(l()(),t.wb(65,0,null,null,0,"div",[["id","color-palette"]],null,null,null,null,null)),(l()(),t.wb(66,0,null,null,21,"div",[["class","card-footer"]],null,null,null,null,null)),(l()(),t.wb(67,0,null,null,20,"div",[["class","row text-center"]],null,null,null,null,null)),(l()(),t.wb(68,0,null,null,4,"div",[["class","col-sm-12 col-md mb-sm-2 mb-0"]],null,null,null,null,null)),(l()(),t.wb(69,0,null,null,1,"div",[["class","text-muted"]],null,null,null,null,null)),(l()(),t.Vb(-1,null,["Smooth Traffic"])),(l()(),t.wb(71,0,null,null,1,"div",[["class","progress progress-xs mt-2"]],null,null,null,null,null)),(l()(),t.wb(72,0,null,null,0,"div",[["aria-valuemax","100"],["aria-valuemin","100"],["aria-valuenow","100"],["class","progress-bar bg-success"],["role","progressbar"],["style","width: 100%"]],null,null,null,null,null)),(l()(),t.wb(73,0,null,null,4,"div",[["class","col-sm-12 col-md mb-sm-2 mb-0"]],null,null,null,null,null)),(l()(),t.wb(74,0,null,null,1,"div",[["class","text-muted"]],null,null,null,null,null)),(l()(),t.Vb(-1,null,["Slow Moving Traffic"])),(l()(),t.wb(76,0,null,null,1,"div",[["class","progress progress-xs mt-2"]],null,null,null,null,null)),(l()(),t.wb(77,0,null,null,0,"div",[["aria-valuemax","100"],["aria-valuemin","100"],["aria-valuenow","100"],["class","progress-bar bg-warning"],["role","progressbar"],["style","width: 100%"]],null,null,null,null,null)),(l()(),t.wb(78,0,null,null,4,"div",[["class","col-sm-12 col-md mb-sm-2 mb-0"]],null,null,null,null,null)),(l()(),t.wb(79,0,null,null,1,"div",[["class","text-muted"]],null,null,null,null,null)),(l()(),t.Vb(-1,null,["Heavy Traffic"])),(l()(),t.wb(81,0,null,null,1,"div",[["class","progress progress-xs mt-2"]],null,null,null,null,null)),(l()(),t.wb(82,0,null,null,0,"div",[["aria-valuemax","100"],["aria-valuemin","100"],["aria-valuenow","100"],["class","progress-bar bg-danger"],["role","progressbar"],["style","width: 100%"]],null,null,null,null,null)),(l()(),t.wb(83,0,null,null,4,"div",[["class","col-sm-12 col-md mb-sm-2 mb-0"]],null,null,null,null,null)),(l()(),t.wb(84,0,null,null,1,"div",[["class","text-muted"]],null,null,null,null,null)),(l()(),t.Vb(-1,null,["No Data Available"])),(l()(),t.wb(86,0,null,null,1,"div",[["class","progress progress-xs mt-2"]],null,null,null,null,null)),(l()(),t.wb(87,0,null,null,0,"div",[["aria-valuemax","100"],["aria-valuemin","100"],["aria-valuenow","100"],["class","progress-bar bg-gray-dark"],["role","progressbar"],["style","width: 100%"]],null,null,null,null,null)),(l()(),t.wb(88,0,null,null,31,"div",[["class","card"]],null,null,null,null,null)),(l()(),t.wb(89,0,null,null,30,"div",[["class","card-body"]],null,null,null,null,null)),(l()(),t.wb(90,0,null,null,29,"div",[["class","row"]],null,null,null,null,null)),(l()(),t.wb(91,0,null,null,28,"div",[["class","col-sm-12"]],null,null,null,null,null)),(l()(),t.wb(92,0,null,null,27,"table",[["class","table table-responsive-sm table-hover table-outline mb-0 info-table"],["id","assetList"]],null,null,null,null,null)),(l()(),t.wb(93,0,null,null,25,"thead",[["class","thead-dark"]],null,null,null,null,null)),(l()(),t.wb(94,0,null,null,24,"tr",[],null,null,null,null,null)),(l()(),t.wb(95,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Vb(-1,null,["ID"])),(l()(),t.wb(97,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Vb(-1,null,["Name"])),(l()(),t.wb(99,0,null,null,1,"th",[["class","text-center"],["width","25%"]],null,null,null,null,null)),(l()(),t.Vb(-1,null,["Address"])),(l()(),t.wb(101,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Vb(-1,null,["Date"])),(l()(),t.wb(103,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Vb(-1,null,["Last Updated"])),(l()(),t.wb(105,0,null,null,1,"th",[["class","text-center"]],null,null,null,null,null)),(l()(),t.Vb(-1,null,["Speed"])),(l()(),t.wb(107,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Vb(-1,null,["Personnel"])),(l()(),t.wb(109,0,null,null,1,"th",[["class","text-center"]],null,null,null,null,null)),(l()(),t.Vb(-1,null,["Battery"])),(l()(),t.wb(111,0,null,null,1,"th",[["class","text-center"]],null,null,null,null,null)),(l()(),t.Vb(-1,null,["Fix"])),(l()(),t.wb(113,0,null,null,1,"th",[["class","text-center"],["width","70"]],null,null,null,null,null)),(l()(),t.Vb(-1,null,["Status"])),(l()(),t.wb(115,0,null,null,1,"th",[["class","text-center"],["width","50"]],null,null,null,null,null)),(l()(),t.Vb(-1,null,["GPS"])),(l()(),t.wb(117,0,null,null,1,"th",[["class","text-center"],["width","78"]],null,null,null,null,null)),(l()(),t.Vb(-1,null,["Network"])),(l()(),t.wb(119,0,null,null,0,"tbody",[["id","assetStatus"]],null,null,null,null,null)),(l()(),t.wb(120,0,null,null,10,"div",[["aria-hidden","true"],["aria-labelledby","trackingModalLabel"],["class","modal fade"],["id","trackingModal"],["role","dialog"],["tabindex","-1"]],null,null,null,null,null)),(l()(),t.wb(121,0,null,null,9,"div",[["class","modal-dialog modal-lg modal-dialog-centered"],["role","document"]],null,null,null,null,null)),(l()(),t.wb(122,0,null,null,8,"div",[["class","modal-content"]],null,null,null,null,null)),(l()(),t.wb(123,0,null,null,4,"div",[["class","modal-header"]],null,null,null,null,null)),(l()(),t.wb(124,0,null,null,0,"h4",[["class","modal-title"],["id","trackingFormTitle"]],null,null,null,null,null)),(l()(),t.wb(125,0,null,null,2,"button",[["aria-label","Close"],["class","close"],["data-dismiss","modal"],["type","button"]],null,null,null,null,null)),(l()(),t.wb(126,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(l()(),t.Vb(-1,null,["\xd7"])),(l()(),t.wb(128,0,null,null,2,"div",[["class","modal-body"]],null,null,null,null,null)),(l()(),t.wb(129,0,null,null,1,"div",[["class","col-md-12"]],null,null,null,null,null)),(l()(),t.wb(130,0,null,null,0,"div",[["id","map-asset"],["style","height:600px;"]],null,null,null,null,null))],(function(l,n){l(n,1,0,"rgba(51, 51, 51, 0.96)","medium","ball-spin-clockwise")}),null)}function h(l){return t.Yb(0,[(l()(),t.wb(0,0,null,null,1,"ng-component",[],null,null,null,w,f)),t.vb(1,114688,null,0,g,[c.a,m.i,b.l,i.c],null,null)],(function(l,n){l(n,1,0)}),null)}var v=t.sb("ng-component",g,h,{},{},[]),y=e("Vu3N"),M=e("8e6m"),x={interval:1500,noPause:!1},L=function(){function l(l,n,e,t){var o=this;this._constant=l,this.router=e,this.spinner=t,this.slides=[],this._slides=[],this.router.events.subscribe((function(l){""!=n.path()&&(o.route=n.path())}))}return l.prototype.ngOnInit=function(){var l=this;this.spinner.show(),Number(sessionStorage.getItem("setSessionstorageValueUserID")),Number(sessionStorage.getItem("setSessionstorageValueUserResellerID")),Number(sessionStorage.getItem("setSessionstorageValueUserCompanyID"));var n,e,t,o,a=this._constant.trafficApi,u=[],s=new Array,i=!0,c=[],d=[],g={coord:[16,0,18,1,21,2,24,3,26,4,27,5,28,6,29,7,29,8,29,9,29,10,29,11,29,12,29,13,29,14,29,15,29,16,29,17,29,18,29,19,29,20,29,21,29,22,29,23,29,24,29,25,29,26,29,27,29,28,28,29,3,29,2,28,2,27,1,26,1,25,1,24,0,23,0,22,0,21,0,20,0,19,0,18,0,17,0,16,0,15,0,14,0,13,0,12,0,11,0,10,0,9,0,8,0,7,1,6,2,5,2,4,3,3,5,2,6,1,8,0,16,0],type:"poly"},m={zoom:12,center:new google.maps.LatLng(1.3521,103.8198),panControl:!1,zoomControl:!1,zoomControlOptions:{position:google.maps.ControlPosition.LEFT_TOP},mapTypeControl:!1,streetViewControl:!1,streetViewControlOptions:{position:google.maps.ControlPosition.RIGHT_BOTTOM},fullscreenControl:!0,fullscreenControlOptions:{position:google.maps.ControlPosition.TOP_LEFT},scaleControl:!1,overviewMapControl:!1};function b(l,n,e,t,o){p.a.get(n).then((function(n){l(n.data,e,t,o)})).catch((function(l){console.log(l)}))}function f(l,o,a,u){var p=l.items[0],m=new google.maps.LatLngBounds;if("healthy"==l.api_info.status){for(var b=p.cameras,f=0,v=b.length;f<v;f++){var y=b[f].camera_id,M=b[f].image,x=b[f].timestamp,L=r.utc(x).local().format("D-MMM-YYYY, hh:mm:ss A"),C=b[f].location.latitude,I=b[f].location.longitude,k=new google.maps.LatLng(C,I),P=h(r.utc(x).local().format()),z="https://chart.apis.google.com/chart?cht=mm&chs=24x32&chco=FFFFFF,63C2DE&ext=.png",D="<div id='trafficInfo' class='form-group row' style='padding:0px !important;'>";D+="<div class='col-md-8'><h6>Camera ID: "+y+"</h6></div>",D+="<table class='table table-vcenter'><tbody><tr><td colspan='2'>",D+="<span class='font-weight-bold'>Latitude:&nbsp;</span>"+C+"<br /><span class='font-weight-bold'>Longtitude:&nbsp;</span>"+I+"<br /><span class='font-weight-bold'>Date:&nbsp;</span>"+L+"<br /><span class='font-weight-bold'>Last Updated:&nbsp;</span>"+P+"<br /></td><td colspan='2' class='pl-4'><img class='traffic-img' src='"+M+"'/><br />",(e=w({icon:z,map:n,position:k,title:y,shape:g,camera_id:y,image:M,timestamp:L,elapsed_timestamp:P,latitude:C,longitude:I,content:D+="</td></tr></tbody></table></div></div>"})).setMap(n),s[f]&&s[f].setPosition?($("#trafficStatus").empty(),c=[],d=[],a=[],e.setMap(null),t==y?(s[f].setPosition(k),s[f].setIcon(z),s[f].id=y,s[f].content=D,s[f].timestamp=L,s[f].image=M,s[f].elapsed_timestamp=P,s[f].latitude=C,s[f].longitude=I,null==$("#trafficInfo").val()&&null==$("#trafficInfo").val()||(document.getElementById("trafficInfo").innerHTML=D,n.panTo(e.getPosition()))):(s[f].id=y,s[f].content=D,s[f].timestamp=L,s[f].image=M,s[f].elapsed_timestamp=P,s[f].latitude=C,s[f].longitude=I)):(m.extend(k),s[f]=e)}if(i&&(n.setZoom(7),n.fitBounds(m),i=!1),"/tracking/traffic"==o){do{c[c.length]=s.splice(Math.floor(Math.random()*s.length),1)[0]}while(c.length<4);for(var V=0;V<c.length;V++)c[V]&&a.push({image:c[V].image,latitude:c[V].latitude,longitude:c[V].longitude,title:c[V].title});do{d[d.length]=s.splice(Math.floor(Math.random()*s.length),1)[0]}while(d.length<4);for(var T=0;T<d.length;T++)d[T]&&u.push({image:d[T].image,latitude:d[T].latitude,longitude:d[T].longitude,title:d[T].title});document.getElementById("total-cameras").innerHTML=b.length}}}function w(l){var n=new google.maps.Marker({icon:l.icon,camera_id:l.camera_id,map:l.map,position:l.position,title:l.title,content:l.content,image:l.image,shape:l.shape,latitude:l.latitude,longitude:l.longitude,timestamp:l.timestamp,elapsed_timestamp:l.elapsed_timestamp});return l.content&&google.maps.event.addListener(n,"click",(function(){for(var n=0;n<u.length;n++)u[n].close();u=[],this.getMap().newMarker||(o=this.getMap().newMarker=new google.maps.InfoWindow({zIndex:999999}),u.push(o)),this.getMap().newMarker.setContent(this.content),this.getMap().newMarker.open(this.getMap(),this),this.getMap().setCenter(this.position),t=l.title})),n}function h(l){var n=r().format(),e=r.duration(r(n).diff(r(l))),t=parseInt(e.asDays()),o=parseInt(e.asHours());o-=24*t;var a=parseInt(e.asMinutes());return a-=24*t*60+60*o,0==t&&0==o&&0==a?"a moment ago":0==t?o+" hours "+a+" minutes ago":1==t?t+" day "+o+" hours "+a+" minutes ago":t+" days "+o+" hours "+a+" minutes ago"}n=new google.maps.Map(document.getElementById("traffic-map"),m),b(f,a,this.route,this.slides,this._slides),google.maps.event.addListener(n,"mousemove",(function(l){document.getElementById("coordinates-panel").innerHTML=l.latLng.lat()+", "+l.latLng.lng()})),setInterval((function(){b(f,a,l.route,l.slides,l._slides)}),3e4),this.spinner.hide()},l}(),C=t.ub({encapsulation:2,styles:[["#traffic-map{position:relative;margin:0 auto;padding:0;overflow:hidden;max-width:none!important;box-shadow:none!important}.gm-style .gm-style-iw{top:0!important;left:0!important;max-width:450px!important;padding-top:10px;display:block!important;overflow:visible!important}.gm-style .gm-style-iw,.gm-style .gm-style-pbc{background-color:#1e1e24!important}.gm-style .gm-style-iw #google-popup p{padding:10px}.gm-style div div div div div div div div{background-color:#1e1e24!important;margin:0;padding:0;top:0;color:#fff;font-size:12px;overflow:hidden!important}.poi-info-window a:link{text-decoration:none;color:#97d8ff!important;background:none!important}.gm-style div div div div div div div div a{color:#f1f1f1;font-weight:700}.gm-style .gm-style-iw-t:after{background:linear-gradient(45deg,#3b3f48 50%,hsla(0,0%,100%,0) 51%,hsla(0,0%,100%,0))!important;background-color:transparent}.gm-style img.traffic-img{width:180px;height:180px;text-align:center;padding-bottom:10px}.gm-style .gm-style-iw-d{overflow:visible}.gm-ui-hover-effect{background-color:#fff!important;opacity:.9;top:0!important;right:0!important;width:15px!important;height:15px!important;margin-top:0!important;margin-right:0!important}.gm-ui-hover-effect img{margin:1px!important}.input-map{padding:.285rem .75rem!important;background-color:#eaeaea!important;color:#495057!important;font-size:12px!important}.form-inline .form-control{width:100%}.form-control,.form-control:focus{background-color:#fff}.form-control:focus{border-color:#46b1ff}button.gm-ui-hover-effect{margin-top:10px!important;margin-right:10px!important}.labels{color:#fff;background-color:#000;font-family:Lucida Grande,Arial,sans-serif;font-size:10px;text-align:center;width:100px;white-space:nowrap}#panel{width:200px;font-family:Arial,sans-serif;font-size:13px;float:right;margin:10px;padding:8px 8px 10px 10px;background-color:#404040;width:auto}#color-palette{clear:both}.color-button{width:14px;height:14px;font-size:0;margin:2px;float:left;cursor:pointer}nav#map-toggle button{position:absolute;left:-120px;top:70px}nav#map-toggle button i{margin-top:-2px}.open-close-container label,.open-close-container p{font-size:12px!important}.open-close-container{position:absolute;z-index:999999;right:0;top:0;height:100%;padding:5px;color:#eaeaea;font-size:14px!important}.carousel{width:100%;height:300px;overflow:hidden!important}.carousel-inner{overflow:hidden}.carousel-inner img{width:800px;height:100%}"]],data:{}});function I(l){return t.Yb(0,[(l()(),t.wb(0,0,null,null,7,"slide",[],[[1,"aria-hidden",0],[2,"active",null],[4,"width",null],[4,"order",null],[2,"item",null],[2,"carousel-item",null]],null,null,y.d,y.b)),t.vb(1,245760,null,0,M.d,[M.a],null,null),(l()(),t.wb(2,0,null,0,0,"img",[["alt","image slide"],["style","display: block; width: 100%; "]],[[8,"src",4]],null,null,null,null)),(l()(),t.wb(3,0,null,0,4,"div",[["class","carousel-caption"]],null,null,null,null,null)),(l()(),t.wb(4,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),t.Vb(5,null,["Camera ID: ",""])),(l()(),t.wb(6,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),t.Vb(7,null,["(",",",")"]))],(function(l,n){l(n,1,0)}),(function(l,n){l(n,0,0,!t.Lb(n,1).active,t.Lb(n,1).active,t.Lb(n,1).itemWidth,t.Lb(n,1).order,t.Lb(n,1).addClass,t.Lb(n,1).addClass),l(n,2,0,n.context.$implicit.image),l(n,5,0,n.context.$implicit.title),l(n,7,0,n.context.$implicit.latitude,n.context.$implicit.longitude)}))}function k(l){return t.Yb(0,[(l()(),t.wb(0,0,null,null,7,"slide",[],[[1,"aria-hidden",0],[2,"active",null],[4,"width",null],[4,"order",null],[2,"item",null],[2,"carousel-item",null]],null,null,y.d,y.b)),t.vb(1,245760,null,0,M.d,[M.a],null,null),(l()(),t.wb(2,0,null,0,0,"img",[["alt","image slide"],["style","display: block; width: 100%; "]],[[8,"src",4]],null,null,null,null)),(l()(),t.wb(3,0,null,0,4,"div",[["class","carousel-caption"]],null,null,null,null,null)),(l()(),t.wb(4,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),t.Vb(5,null,["Camera ID: ",""])),(l()(),t.wb(6,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),t.Vb(7,null,["(",",",")"]))],(function(l,n){l(n,1,0)}),(function(l,n){l(n,0,0,!t.Lb(n,1).active,t.Lb(n,1).active,t.Lb(n,1).itemWidth,t.Lb(n,1).order,t.Lb(n,1).addClass,t.Lb(n,1).addClass),l(n,2,0,n.context.$implicit.image),l(n,5,0,n.context.$implicit.title),l(n,7,0,n.context.$implicit.latitude,n.context.$implicit.longitude)}))}function P(l){return t.Yb(0,[(l()(),t.wb(0,0,null,null,3,"ngx-spinner",[["bdColor","rgba(51, 51, 51, 0.96)"],["size","medium"],["type","ball-spin-clockwise"]],null,null,null,s.b,s.a)),t.vb(1,770048,null,0,i.a,[i.c,t.h],{bdColor:[0,"bdColor"],size:[1,"size"],type:[2,"type"]},null),(l()(),t.wb(2,0,null,0,1,"p",[["style","color: white"]],null,null,null,null,null)),(l()(),t.Vb(-1,null,["Please Wait. "])),(l()(),t.wb(4,0,null,null,56,"div",[["class","animated fadeIn"]],null,null,null,null,null)),(l()(),t.wb(5,0,null,null,20,"div",[["class","row"]],null,null,null,null,null)),(l()(),t.wb(6,0,null,null,9,"div",[["class","col-sm-6"]],null,null,null,null,null)),(l()(),t.wb(7,0,null,null,8,"div",[["class","card"]],null,null,null,null,null)),(l()(),t.wb(8,0,null,null,2,"div",[["class","card-header"]],null,null,null,null,null)),(l()(),t.wb(9,0,null,null,1,"span",[["class","font-weight-bold"]],null,null,null,null,null)),(l()(),t.Vb(-1,null,["Traffic Situations"])),(l()(),t.wb(11,0,null,null,4,"div",[["class","card-body"]],null,null,null,null,null)),(l()(),t.wb(12,0,null,null,3,"carousel",[],null,null,null,y.c,y.a)),t.vb(13,4374528,null,0,M.a,[M.b,t.z],{interval:[0,"interval"]},null),(l()(),t.fb(16777216,null,0,1,null,I)),t.vb(15,278528,null,0,m.l,[t.O,t.L,t.s],{ngForOf:[0,"ngForOf"]},null),(l()(),t.wb(16,0,null,null,9,"div",[["class","col-sm-6"]],null,null,null,null,null)),(l()(),t.wb(17,0,null,null,8,"div",[["class","card"]],null,null,null,null,null)),(l()(),t.wb(18,0,null,null,2,"div",[["class","card-header"]],null,null,null,null,null)),(l()(),t.wb(19,0,null,null,1,"span",[["class","font-weight-bold"]],null,null,null,null,null)),(l()(),t.Vb(-1,null,["Traffic Situations"])),(l()(),t.wb(21,0,null,null,4,"div",[["class","card-body"]],null,null,null,null,null)),(l()(),t.wb(22,0,null,null,3,"carousel",[],null,null,null,y.c,y.a)),t.vb(23,4374528,null,0,M.a,[M.b,t.z],{interval:[0,"interval"]},null),(l()(),t.fb(16777216,null,0,1,null,k)),t.vb(25,278528,null,0,m.l,[t.O,t.L,t.s],{ngForOf:[0,"ngForOf"]},null),(l()(),t.wb(26,0,null,null,34,"div",[["class","row"]],null,null,null,null,null)),(l()(),t.wb(27,0,null,null,33,"div",[["class","col-md-12"]],null,null,null,null,null)),(l()(),t.wb(28,0,null,null,32,"div",[["class","card"]],null,null,null,null,null)),(l()(),t.wb(29,0,null,null,4,"div",[["class","card-header"]],null,null,null,null,null)),(l()(),t.wb(30,0,null,null,1,"span",[["class","font-weight-bold"]],null,null,null,null,null)),(l()(),t.Vb(-1,null,["Active Cameras:\xa0"])),(l()(),t.wb(32,0,null,null,0,"span",[["id","total-cameras"]],null,null,null,null,null)),(l()(),t.wb(33,0,null,null,0,"span",[["class","float-right"],["id","coordinates-panel"]],null,null,null,null,null)),(l()(),t.wb(34,0,null,null,4,"div",[["class","card-body"]],null,null,null,null,null)),(l()(),t.wb(35,0,null,null,2,"div",[["class","row"]],null,null,null,null,null)),(l()(),t.wb(36,0,null,null,1,"div",[["class","col-sm-12"]],null,null,null,null,null)),(l()(),t.wb(37,0,null,null,0,"div",[["id","traffic-map"],["style","height:600px;"]],null,null,null,null,null)),(l()(),t.wb(38,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.wb(39,0,null,null,21,"div",[["class","card-footer"]],null,null,null,null,null)),(l()(),t.wb(40,0,null,null,20,"div",[["class","row text-center"]],null,null,null,null,null)),(l()(),t.wb(41,0,null,null,4,"div",[["class","col-sm-12 col-md mb-sm-2 mb-0"]],null,null,null,null,null)),(l()(),t.wb(42,0,null,null,1,"div",[["class","text-muted"]],null,null,null,null,null)),(l()(),t.Vb(-1,null,["\u2265 60 km/h"])),(l()(),t.wb(44,0,null,null,1,"div",[["class","progress progress-xs mt-2"]],null,null,null,null,null)),(l()(),t.wb(45,0,null,null,0,"div",[["aria-valuemax","100"],["aria-valuemin","100"],["aria-valuenow","100"],["class","progress-bar bg-success"],["role","progressbar"],["style","width: 100%"]],null,null,null,null,null)),(l()(),t.wb(46,0,null,null,4,"div",[["class","col-sm-12 col-md mb-sm-2 mb-0"]],null,null,null,null,null)),(l()(),t.wb(47,0,null,null,1,"div",[["class","text-muted"]],null,null,null,null,null)),(l()(),t.Vb(-1,null,["40-59 km/h"])),(l()(),t.wb(49,0,null,null,1,"div",[["class","progress progress-xs mt-2"]],null,null,null,null,null)),(l()(),t.wb(50,0,null,null,0,"div",[["aria-valuemax","100"],["aria-valuemin","100"],["aria-valuenow","100"],["class","progress-bar bg-warning"],["role","progressbar"],["style","width: 100%"]],null,null,null,null,null)),(l()(),t.wb(51,0,null,null,4,"div",[["class","col-sm-12 col-md mb-sm-2 mb-0"]],null,null,null,null,null)),(l()(),t.wb(52,0,null,null,1,"div",[["class","text-muted"]],null,null,null,null,null)),(l()(),t.Vb(-1,null,["20-39 km/h"])),(l()(),t.wb(54,0,null,null,1,"div",[["class","progress progress-xs mt-2"]],null,null,null,null,null)),(l()(),t.wb(55,0,null,null,0,"div",[["aria-valuemax","100"],["aria-valuemin","100"],["aria-valuenow","100"],["class","progress-bar bg-danger"],["role","progressbar"],["style","width: 100%"]],null,null,null,null,null)),(l()(),t.wb(56,0,null,null,4,"div",[["class","col-sm-12 col-md mb-sm-2 mb-0"]],null,null,null,null,null)),(l()(),t.wb(57,0,null,null,1,"div",[["class","text-muted"]],null,null,null,null,null)),(l()(),t.Vb(-1,null,["0-19 km/h"])),(l()(),t.wb(59,0,null,null,1,"div",[["class","progress progress-xs mt-2"]],null,null,null,null,null)),(l()(),t.wb(60,0,null,null,0,"div",[["aria-valuemax","100"],["aria-valuemin","100"],["aria-valuenow","100"],["class","progress-bar bg-gray-dark"],["role","progressbar"],["style","width: 100%"]],null,null,null,null,null))],(function(l,n){var e=n.component;l(n,1,0,"rgba(51, 51, 51, 0.96)","medium","ball-spin-clockwise"),l(n,13,0,5e3),l(n,15,0,e.slides),l(n,23,0,5e3),l(n,25,0,e._slides)}),null)}function z(l){return t.Yb(0,[(l()(),t.wb(0,0,null,null,2,"ng-component",[],null,null,null,P,C)),t.vb(1,114688,null,0,L,[c.a,m.i,b.l,i.c],null,null),t.Qb(256,null,M.b,x,[])],(function(l,n){l(n,1,0)}),null)}var D=t.sb("ng-component",L,z,{},{},[]),V=(e("Oaa7"),function(){function l(l,n,e,t,o){var a=this;this._constant=l,this.router=e,this.toastr=t,this.spinner=o,this.router.events.subscribe((function(l){""!=n.path()&&(a.route=n.path())}))}return l.prototype.ngOnInit=function(){this.spinner.show(),Number(sessionStorage.getItem("setSessionstorageValueUserID")),Number(sessionStorage.getItem("setSessionstorageValueUserResellerID")),Number(sessionStorage.getItem("setSessionstorageValueUserCompanyID"));var l,n=this._constant.getSessionstorageValueRoleID,e=this._constant.carparkRatesApi;l=this.toastr,p.a.get(this._constant.carkparkApi).then((function(l){var n;console.log(l),n=l.data.items[0].carpark_data,$("#carparkavailabilityReport").DataTable({destroy:!0,responsive:!0,select:!0,filter:!0,colReorder:!1,rowReorder:!0,keys:!0,fixedHeader:{header:!0,footer:!0,headerOffset:$("#pageHeader").outerHeight()},scrollX:!0,scrollCollapse:!0,paging:!0,pagingType:"full_numbers",pageLength:12,lengthMenu:[[12,25,50,-1],[12,25,50,"All"]],searching:!0,ordering:!0,order:[[0,"asc"]],info:!0,dom:"lBfrtip",processing:!0,language:{processing:'<i class="fa fa-spinner fa-spin fa-3x fa-fw"></i><span class="sr-only">Loading...</span> ',infoEmpty:"No events available",infoFiltered:"(filtered from MAX total events)"},buttons:[{extend:"colvis",className:"float-right ml-2"},[{extend:"collection",text:"Export",className:"float-right ml-2",buttons:["excel"]}]],columns:[{data:"carpark_number",title:"Carpark Number",className:"reorder"},{data:"carpark_info[0].total_lots",title:"Total Lots",className:"reorder"},{data:"carpark_info[0].lots_available",title:"Available Lots",className:"reorder"},{data:"carpark_info[0].lot_type",title:"Lot Type",className:"reorder"},{data:"update_datetime",title:"Updated Timestamp",className:"reorder"}],data:n,columnDefs:[{render:function(l){return r(l).format("D-MMM-YYYY, hh:mm:ss A")},targets:4}],initComplete:function(l,n,e){console.log(JSON.stringify(n))},footerCallback:function(l,n,e,t,o){}})})).catch((function(e){console.log(e),l.error(1==n?"Carpark Availability API Error: "+e:"Error: Network Error. Pls. Try again.","Error",{timeOut:3e3,closeButton:!0,enableHtml:!0})})),function(l,e,t){p.a.get(e).then((function(l){console.log(l),function(l){if(1==l.success){var n=l.result.records;$("#carparkratesReport").DataTable({destroy:!0,responsive:!0,select:!0,filter:!0,colReorder:!1,rowReorder:!0,keys:!0,fixedHeader:{header:!0,footer:!0,headerOffset:$("#pageHeader").outerHeight()},scrollX:!0,scrollCollapse:!0,paging:!0,pagingType:"full_numbers",pageLength:12,lengthMenu:[[12,25,50,-1],[12,25,50,"All"]],searching:!0,ordering:!0,order:[[0,"asc"]],info:!0,dom:"lBfrtip",processing:!0,language:{processing:'<i class="fa fa-spinner fa-spin fa-3x fa-fw"></i><span class="sr-only">Loading...</span> ',infoEmpty:"No events available",infoFiltered:"(filtered from MAX total events)"},buttons:[{extend:"colvis",className:"float-right ml-2"},[{extend:"collection",text:"Export",className:"float-right ml-2",buttons:["excel"]}]],columns:[{data:"carpark",title:"Carpark",className:"reorder"},{data:"category",title:"Category",className:"reorder"},{data:"weekdays_rate_1",title:"Weekdays Rate 1",className:"reorder"},{data:"weekdays_rate_2",title:"Weekdays Rate 2",className:"reorder"},{data:"saturday_rate",title:"Saturday Rate",className:"reorder"},{data:"sunday_publicholiday_rate",title:"Sunday and Public Holiday Rate",className:"reorder"}],data:n,columnDefs:[{render:function(l,n,e){return l},targets:0}],initComplete:function(l,n,e){console.log(JSON.stringify(n))},footerCallback:function(l,n,e,t,o){}})}}(l.data)})).catch((function(l){console.log(l),t.error(1==n?"Carpark Rates API Error: "+l:"Error: Network Error. Pls. Try again.","Error",{timeOut:3e3,closeButton:!0,enableHtml:!0})}))}(0,e,this.toastr),this.spinner.hide()},l}()),T=e("SZbH"),S=t.ub({encapsulation:2,styles:[["#carparkavailabilityReport_wrapper .dt-buttons,#carparkratesReport_wrapper .dt-buttons{float:right!important}"]],data:{}});function O(l){return t.Yb(0,[(l()(),t.wb(0,0,null,null,3,"ngx-spinner",[["bdColor","rgba(51, 51, 51, 0.96)"],["size","medium"],["type","ball-spin-clockwise"]],null,null,null,s.b,s.a)),t.vb(1,770048,null,0,i.a,[i.c,t.h],{bdColor:[0,"bdColor"],size:[1,"size"],type:[2,"type"]},null),(l()(),t.wb(2,0,null,0,1,"p",[["style","color: white"]],null,null,null,null,null)),(l()(),t.Vb(-1,null,["Please Wait. "])),(l()(),t.wb(4,0,null,null,37,"div",[["class","animated fadeIn"]],null,null,null,null,null)),(l()(),t.wb(5,0,null,null,10,"div",[["class","row"]],null,null,null,null,null)),(l()(),t.wb(6,0,null,null,9,"div",[["class","col-md-12"]],null,null,null,null,null)),(l()(),t.wb(7,0,null,null,8,"div",[["class","card"]],null,null,null,null,null)),(l()(),t.wb(8,0,null,null,2,"div",[["class","card-header"]],null,null,null,null,null)),(l()(),t.wb(9,0,null,null,1,"span",[["class","font-weight-bold"]],null,null,null,null,null)),(l()(),t.Vb(-1,null,["HDB Carpark Information"])),(l()(),t.wb(11,0,null,null,4,"div",[["class","card-body"]],null,null,null,null,null)),(l()(),t.wb(12,0,null,null,2,"div",[["class","row"]],null,null,null,null,null)),(l()(),t.wb(13,0,null,null,1,"div",[["class","col-sm-12"]],null,null,null,null,null)),(l()(),t.wb(14,0,null,null,0,"iframe",[["frameBorder","0"],["height","600"],["src","https://data.gov.sg/dataset/hdb-carpark-information/resource/139a3035-e624-4f56-b63f-89ae28d4ae4c/view/e02fdccf-b667-4ede-a87b-74cb9f1e6080"],["width","100%"]],null,null,null,null,null)),(l()(),t.wb(15,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.wb(16,0,null,null,12,"div",[["class","row"]],null,null,null,null,null)),(l()(),t.wb(17,0,null,null,11,"div",[["class","col-md-12"]],null,null,null,null,null)),(l()(),t.wb(18,0,null,null,10,"div",[["class","card"]],null,null,null,null,null)),(l()(),t.wb(19,0,null,null,2,"div",[["class","card-header"]],null,null,null,null,null)),(l()(),t.wb(20,0,null,null,1,"span",[["class","font-weight-bold"]],null,null,null,null,null)),(l()(),t.Vb(-1,null,["Carpark Availability"])),(l()(),t.wb(22,0,null,null,6,"div",[["class","card-body"]],null,null,null,null,null)),(l()(),t.wb(23,0,null,null,4,"div",[["class","row"]],null,null,null,null,null)),(l()(),t.wb(24,0,null,null,3,"div",[["class","col-sm-12"]],null,null,null,null,null)),(l()(),t.wb(25,0,null,null,2,"div",[["style","width: 100%;"]],null,null,null,null,null)),(l()(),t.wb(26,0,null,null,1,"div",[["class","table-responsive pt-3"]],null,null,null,null,null)),(l()(),t.wb(27,0,null,null,0,"table",[["cellspacing","0"],["class","table table-striped table-hover dt-responsive display nowrap"],["id","carparkavailabilityReport"],["width","100%"]],null,null,null,null,null)),(l()(),t.wb(28,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.wb(29,0,null,null,12,"div",[["class","row"]],null,null,null,null,null)),(l()(),t.wb(30,0,null,null,11,"div",[["class","col-md-12"]],null,null,null,null,null)),(l()(),t.wb(31,0,null,null,10,"div",[["class","card"]],null,null,null,null,null)),(l()(),t.wb(32,0,null,null,2,"div",[["class","card-header"]],null,null,null,null,null)),(l()(),t.wb(33,0,null,null,1,"span",[["class","font-weight-bold"]],null,null,null,null,null)),(l()(),t.Vb(-1,null,["Carpark Rates (Major Shopping Malls, Attractions and Hotels)"])),(l()(),t.wb(35,0,null,null,6,"div",[["class","card-body"]],null,null,null,null,null)),(l()(),t.wb(36,0,null,null,4,"div",[["class","row"]],null,null,null,null,null)),(l()(),t.wb(37,0,null,null,3,"div",[["class","col-sm-12"]],null,null,null,null,null)),(l()(),t.wb(38,0,null,null,2,"div",[["style","width: 100%;"]],null,null,null,null,null)),(l()(),t.wb(39,0,null,null,1,"div",[["class","table-responsive pt-3"]],null,null,null,null,null)),(l()(),t.wb(40,0,null,null,0,"table",[["cellspacing","0"],["class","table table-striped table-hover dt-responsive display nowrap"],["id","carparkratesReport"],["width","100%"]],null,null,null,null,null)),(l()(),t.wb(41,0,null,null,0,"br",[],null,null,null,null,null))],(function(l,n){l(n,1,0,"rgba(51, 51, 51, 0.96)","medium","ball-spin-clockwise")}),null)}function _(l){return t.Yb(0,[(l()(),t.wb(0,0,null,null,1,"ng-component",[],null,null,null,O,S)),t.vb(1,114688,null,0,V,[c.a,m.i,b.l,T.j,i.c],null,null)],(function(l,n){l(n,1,0)}),null)}var E=t.sb("ng-component",V,_,{},{},[]),N=function(){function l(l,n,e,t){var o=this;this._constant=l,this.router=e,this.spinner=t,this.weathers=[],this.router.events.subscribe((function(l){""!=n.path()&&(o.route=n.path())}))}return l.prototype.ngOnInit=function(){this.spinner.show(),Number(sessionStorage.getItem("setSessionstorageValueUserID")),Number(sessionStorage.getItem("setSessionstorageValueUserResellerID")),Number(sessionStorage.getItem("setSessionstorageValueUserCompanyID"));var l,n,e=this._constant.weatherApi,t=new google.maps.LatLng(1.3521,103.8198),o=(new google.maps.InfoWindow,["clouds_new","precipitation","wind_new","temp_new","pressure_new"]),a=o[Math.floor(Math.random()*o.length)];switch(a){case"clouds_new":n="Clouds";break;case"precipitation":n="Precipitation";break;case"wind_new":n="Wind";break;case"temp_new":n="Temperature";break;case"pressure_new":n="Pressure"}this.weather_label=n;var u={zoom:3,center:t,panControl:!1,zoomControl:!1,zoomControlOptions:{position:google.maps.ControlPosition.LEFT_TOP},mapTypeControl:!1,mapTypeId:google.maps.MapTypeId.HYBRID,streetViewControl:!1,streetViewControlOptions:{position:google.maps.ControlPosition.RIGHT_BOTTOM},fullscreenControl:!0,fullscreenControlOptions:{position:google.maps.ControlPosition.TOP_LEFT},scaleControl:!1,overviewMapControl:!1};l=new google.maps.Map(document.getElementById("weather-map"),u);var s=new google.maps.ImageMapType({getTileUrl:function(l,n){var e=function(l,n){var e=l.y,t=l.x,o=1<<n;return e<0||e>=o?null:((t<0||t>=o)&&(t=(t%o+o)%o),{x:t,y:e})}(l,n);return e?"https://tile.openweathermap.org/map/"+a+"/"+n+"/"+e.x+"/"+e.y+".png?appid=674aa5391eb5a469b7ef171bea64cbff":null},tileSize:new google.maps.Size(256,256),maxZoom:20});l.overlayMapTypes.push(s),function(l,n,e,t){p.a.get(n).then((function(l){!function(l,n,e){if(console.log(JSON.stringify(l)),"healthy"==l.api_info.status){var t=l.items[0].general;e.push({forecast:t.forecast,humidity:t.relative_humidity,temperature:t.temperature,wind:t.wind})}}(l.data,0,t)})).catch((function(l){console.log(l)}))}(0,e,0,this.weathers),this.spinner.hide()},l}(),Y=t.ub({encapsulation:2,styles:[[".weather-card .card-body{height:120px}"]],data:{}});function B(l){return t.Yb(0,[(l()(),t.wb(0,0,null,null,42,"div",[["class","row"]],null,null,null,null,null)),(l()(),t.wb(1,0,null,null,8,"div",[["class","col-sm-6 col-lg-3"]],null,null,null,null,null)),(l()(),t.wb(2,0,null,null,7,"div",[["class","card text-white bg-primary"]],null,null,null,null,null)),(l()(),t.wb(3,0,null,null,6,"div",[["class","card-body pb-0"]],null,null,null,null,null)),(l()(),t.wb(4,0,null,null,1,"div",[["class","btn-group float-right"]],null,null,null,null,null)),(l()(),t.wb(5,0,null,null,0,"i",[["class","fa fa-cloud fa-3x"]],null,null,null,null,null)),(l()(),t.wb(6,0,null,null,1,"div",[["class","text-value"]],null,null,null,null,null)),(l()(),t.Vb(-1,null,["Today's Forecast"])),(l()(),t.wb(8,0,null,null,1,"div",[],null,null,null,null,null)),(l()(),t.Vb(9,null,["",""])),(l()(),t.wb(10,0,null,null,10,"div",[["class","col-sm-6 col-lg-3"]],null,null,null,null,null)),(l()(),t.wb(11,0,null,null,9,"div",[["class","card text-white bg-warning"]],null,null,null,null,null)),(l()(),t.wb(12,0,null,null,8,"div",[["class","card-body pb-0"]],null,null,null,null,null)),(l()(),t.wb(13,0,null,null,1,"div",[["class","btn-group float-right"]],null,null,null,null,null)),(l()(),t.wb(14,0,null,null,0,"i",[["class","fa fa-cloud fa-3x"]],null,null,null,null,null)),(l()(),t.wb(15,0,null,null,1,"div",[["class","text-value"]],null,null,null,null,null)),(l()(),t.Vb(-1,null,["Humidity"])),(l()(),t.wb(17,0,null,null,1,"div",[],null,null,null,null,null)),(l()(),t.Vb(18,null,["Low ",""])),(l()(),t.wb(19,0,null,null,1,"div",[],null,null,null,null,null)),(l()(),t.Vb(20,null,["High ",""])),(l()(),t.wb(21,0,null,null,10,"div",[["class","col-sm-6 col-lg-3"]],null,null,null,null,null)),(l()(),t.wb(22,0,null,null,9,"div",[["class","card text-white bg-info"]],null,null,null,null,null)),(l()(),t.wb(23,0,null,null,8,"div",[["class","card-body pb-0"]],null,null,null,null,null)),(l()(),t.wb(24,0,null,null,1,"div",[["class","btn-group float-right"]],null,null,null,null,null)),(l()(),t.wb(25,0,null,null,0,"i",[["class","fa fa-cloud fa-3x"]],null,null,null,null,null)),(l()(),t.wb(26,0,null,null,1,"div",[["class","text-value"]],null,null,null,null,null)),(l()(),t.Vb(-1,null,["Temperature"])),(l()(),t.wb(28,0,null,null,1,"div",[],null,null,null,null,null)),(l()(),t.Vb(29,null,["Low ",""])),(l()(),t.wb(30,0,null,null,1,"div",[],null,null,null,null,null)),(l()(),t.Vb(31,null,["High ",""])),(l()(),t.wb(32,0,null,null,10,"div",[["class","col-sm-6 col-lg-3"]],null,null,null,null,null)),(l()(),t.wb(33,0,null,null,9,"div",[["class","card text-white bg-info"]],null,null,null,null,null)),(l()(),t.wb(34,0,null,null,8,"div",[["class","card-body pb-0"]],null,null,null,null,null)),(l()(),t.wb(35,0,null,null,1,"div",[["class","btn-group float-right"]],null,null,null,null,null)),(l()(),t.wb(36,0,null,null,0,"i",[["class","fa fa-cloud fa-3x"]],null,null,null,null,null)),(l()(),t.wb(37,0,null,null,1,"div",[["class","text-value"]],null,null,null,null,null)),(l()(),t.Vb(38,null,["Wind - ",""])),(l()(),t.wb(39,0,null,null,1,"div",[],null,null,null,null,null)),(l()(),t.Vb(40,null,["Low ",""])),(l()(),t.wb(41,0,null,null,1,"div",[],null,null,null,null,null)),(l()(),t.Vb(42,null,["High ",""]))],null,(function(l,n){l(n,9,0,n.context.$implicit.forecast),l(n,18,0,n.context.$implicit.humidity.low),l(n,20,0,n.context.$implicit.humidity.high),l(n,29,0,n.context.$implicit.temperature.low),l(n,31,0,n.context.$implicit.temperature.high),l(n,38,0,n.context.$implicit.wind.direction),l(n,40,0,n.context.$implicit.wind.speed.low),l(n,42,0,n.context.$implicit.wind.speed.high)}))}function H(l){return t.Yb(0,[(l()(),t.wb(0,0,null,null,3,"ngx-spinner",[["bdColor","rgba(51, 51, 51, 0.96)"],["size","medium"],["type","ball-spin-clockwise"]],null,null,null,s.b,s.a)),t.vb(1,770048,null,0,i.a,[i.c,t.h],{bdColor:[0,"bdColor"],size:[1,"size"],type:[2,"type"]},null),(l()(),t.wb(2,0,null,0,1,"p",[["style","color: white"]],null,null,null,null,null)),(l()(),t.Vb(-1,null,["Please Wait. "])),(l()(),t.wb(4,0,null,null,104,"div",[["class","animated fadeIn"]],null,null,null,null,null)),(l()(),t.wb(5,0,null,null,2,"div",[["class","weather-card"]],null,null,null,null,null)),(l()(),t.fb(16777216,null,null,1,null,B)),t.vb(7,278528,null,0,m.l,[t.O,t.L,t.s],{ngForOf:[0,"ngForOf"]},null),(l()(),t.wb(8,0,null,null,100,"div",[["class","row"]],null,null,null,null,null)),(l()(),t.wb(9,0,null,null,7,"div",[["class","col-sm-6"]],null,null,null,null,null)),(l()(),t.wb(10,0,null,null,6,"div",[["class","card"]],null,null,null,null,null)),(l()(),t.wb(11,0,null,null,2,"div",[["class","card-header"]],null,null,null,null,null)),(l()(),t.wb(12,0,null,null,1,"span",[["class","font-weight-bold"]],null,null,null,null,null)),(l()(),t.Vb(-1,null,["Weather Forecast By Area"])),(l()(),t.wb(14,0,null,null,2,"div",[["class","card-body"]],null,null,null,null,null)),(l()(),t.wb(15,0,null,null,1,"div",[["class","col-sm-6"],["style","max-width: 100% !important"]],null,null,null,null,null)),(l()(),t.wb(16,0,null,null,0,"iframe",[["frameBorder","0"],["height","400"],["src","https://data.gov.sg/dataset/weather-forecast/resource/571ef5fb-ed31-48b2-85c9-61677de42ca9/view/4c127d9a-cba6-445a-8fc1-978b565f9bf7"],["width","100%"]],null,null,null,null,null)),(l()(),t.wb(17,0,null,null,7,"div",[["class","col-sm-6"]],null,null,null,null,null)),(l()(),t.wb(18,0,null,null,6,"div",[["class","card"]],null,null,null,null,null)),(l()(),t.wb(19,0,null,null,2,"div",[["class","card-header"]],null,null,null,null,null)),(l()(),t.wb(20,0,null,null,1,"span",[["class","font-weight-bold"]],null,null,null,null,null)),(l()(),t.Vb(-1,null,["4 Days Temperature Forecast"])),(l()(),t.wb(22,0,null,null,2,"div",[["class","card-body"]],null,null,null,null,null)),(l()(),t.wb(23,0,null,null,1,"div",[["class","col-sm-6"],["style","max-width: 100% !important"]],null,null,null,null,null)),(l()(),t.wb(24,0,null,null,0,"iframe",[["frameBorder","0"],["height","400"],["src","https://data.gov.sg/dataset/weather-forecast/resource/4df6d890-f23e-47f0-add1-fd6d580447d1/view/91f4e399-5a83-4cab-9491-09464db88661"],["width","100%"]],null,null,null,null,null)),(l()(),t.wb(25,0,null,null,7,"div",[["class","col-sm-6"]],null,null,null,null,null)),(l()(),t.wb(26,0,null,null,6,"div",[["class","card"]],null,null,null,null,null)),(l()(),t.wb(27,0,null,null,2,"div",[["class","card-header"]],null,null,null,null,null)),(l()(),t.wb(28,0,null,null,1,"span",[["class","font-weight-bold"]],null,null,null,null,null)),(l()(),t.Vb(-1,null,["Pollutant Standards Index (PSI)"])),(l()(),t.wb(30,0,null,null,2,"div",[["class","card-body"]],null,null,null,null,null)),(l()(),t.wb(31,0,null,null,1,"div",[["class","col-sm-12"]],null,null,null,null,null)),(l()(),t.wb(32,0,null,null,0,"iframe",[["frameBorder","0"],["height","400"],["src","https://data.gov.sg/dataset/psi/resource/82776919-0de1-4faf-bd9e-9c997f9a729d/view/5897450a-1536-40a2-953e-2c8981347b0c"],["width","100%"]],null,null,null,null,null)),(l()(),t.wb(33,0,null,null,51,"div",[["class","col-sm-6"]],null,null,null,null,null)),(l()(),t.wb(34,0,null,null,50,"div",[["class","card"]],null,null,null,null,null)),(l()(),t.wb(35,0,null,null,2,"div",[["class","card-header"]],null,null,null,null,null)),(l()(),t.wb(36,0,null,null,1,"span",[["class","font-weight-bold"]],null,null,null,null,null)),(l()(),t.Vb(-1,null,["Definition of PSI"])),(l()(),t.wb(38,0,null,null,46,"div",[["class","card-body"]],null,null,null,null,null)),(l()(),t.wb(39,0,null,null,45,"div",[["class","col-sm-12"],["style","height:405px;"]],null,null,null,null,null)),(l()(),t.wb(40,0,null,null,44,"table",[["class","table table-responsive-sm table-hover table-outline mb-0"]],null,null,null,null,null)),(l()(),t.wb(41,0,null,null,7,"thead",[["class","thead-dark"]],null,null,null,null,null)),(l()(),t.wb(42,0,null,null,6,"tr",[],null,null,null,null,null)),(l()(),t.wb(43,0,null,null,1,"th",[["width","78"]],null,null,null,null,null)),(l()(),t.Vb(-1,null,["PSI"])),(l()(),t.wb(45,0,null,null,1,"th",[["width","102"]],null,null,null,null,null)),(l()(),t.Vb(-1,null,["Descriptor"])),(l()(),t.wb(47,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Vb(-1,null,["General Health Effects"])),(l()(),t.wb(49,0,null,null,35,"tbody",[],null,null,null,null,null)),(l()(),t.wb(50,0,null,null,6,"tr",[],null,null,null,null,null)),(l()(),t.wb(51,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Vb(-1,null,["0\u201350"])),(l()(),t.wb(53,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Vb(-1,null,["Good"])),(l()(),t.wb(55,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Vb(-1,null,[" None "])),(l()(),t.wb(57,0,null,null,6,"tr",[],null,null,null,null,null)),(l()(),t.wb(58,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Vb(-1,null,["51\u2013100"])),(l()(),t.wb(60,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Vb(-1,null,["Moderate"])),(l()(),t.wb(62,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Vb(-1,null,[" Few or none for the general population "])),(l()(),t.wb(64,0,null,null,6,"tr",[],null,null,null,null,null)),(l()(),t.wb(65,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Vb(-1,null,["101\u2013200"])),(l()(),t.wb(67,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Vb(-1,null,["Unhealthy"])),(l()(),t.wb(69,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Vb(-1,null,[" Everyone may begin to experience health effects; members of sensitive groups may experience more serious health effects. To stay indoors. "])),(l()(),t.wb(71,0,null,null,6,"tr",[],null,null,null,null,null)),(l()(),t.wb(72,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Vb(-1,null,["201-300"])),(l()(),t.wb(74,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Vb(-1,null,["Very unhealthy"])),(l()(),t.wb(76,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Vb(-1,null,[" Health warnings of emergency conditions. The entire population is more likely to be affected. "])),(l()(),t.wb(78,0,null,null,6,"tr",[],null,null,null,null,null)),(l()(),t.wb(79,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Vb(-1,null,["301+"])),(l()(),t.wb(81,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Vb(-1,null,["Hazardous"])),(l()(),t.wb(83,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Vb(-1,null,[" Health alert: everyone may experience more serious health effects "])),(l()(),t.wb(85,0,null,null,7,"div",[["class","col-sm-6"]],null,null,null,null,null)),(l()(),t.wb(86,0,null,null,6,"div",[["class","card"]],null,null,null,null,null)),(l()(),t.wb(87,0,null,null,2,"div",[["class","card-header"]],null,null,null,null,null)),(l()(),t.wb(88,0,null,null,1,"span",[["class","font-weight-bold"]],null,null,null,null,null)),(l()(),t.Vb(-1,null,["Ulta-violet Index (UVI)"])),(l()(),t.wb(90,0,null,null,2,"div",[["class","card-body"]],null,null,null,null,null)),(l()(),t.wb(91,0,null,null,1,"div",[["class","col-sm-12"]],null,null,null,null,null)),(l()(),t.wb(92,0,null,null,0,"iframe",[["frameBorder","0"],["height","400"],["src","https://data.gov.sg/dataset/ultraviolet-index-uvi/resource/6246c980-21d4-441f-a1d0-b321e2085420/view/971dfdde-04d7-4c20-9599-0a083ac87e95"],["width","100%"]],null,null,null,null,null)),(l()(),t.wb(93,0,null,null,7,"div",[["class","col-sm-6"]],null,null,null,null,null)),(l()(),t.wb(94,0,null,null,6,"div",[["class","card"]],null,null,null,null,null)),(l()(),t.wb(95,0,null,null,2,"div",[["class","card-header"]],null,null,null,null,null)),(l()(),t.wb(96,0,null,null,1,"span",[["class","font-weight-bold"]],null,null,null,null,null)),(l()(),t.Vb(-1,null,["Sunshine Duration"])),(l()(),t.wb(98,0,null,null,2,"div",[["class","card-body"]],null,null,null,null,null)),(l()(),t.wb(99,0,null,null,1,"div",[["class","col-sm-12"]],null,null,null,null,null)),(l()(),t.wb(100,0,null,null,0,"iframe",[["frameBorder","0"],["height","400"],["src","https://data.gov.sg/dataset/sunshine-duration-monthly-mean-daily-duration/resource/0230819f-1c83-4980-b738-56136d6dc300/view/2e7bf9c6-4cf2-4ded-abd1-6e754b3edfd5"],["width","100%"]],null,null,null,null,null)),(l()(),t.wb(101,0,null,null,7,"div",[["class","col-sm-12"]],null,null,null,null,null)),(l()(),t.wb(102,0,null,null,6,"div",[["class","card"]],null,null,null,null,null)),(l()(),t.wb(103,0,null,null,2,"div",[["class","card-header"]],null,null,null,null,null)),(l()(),t.wb(104,0,null,null,1,"span",[["class","font-weight-bold"]],null,null,null,null,null)),(l()(),t.Vb(105,null,["",""])),(l()(),t.wb(106,0,null,null,2,"div",[["class","card-body"]],null,null,null,null,null)),(l()(),t.wb(107,0,null,null,1,"div",[["class","col-sm-12"]],null,null,null,null,null)),(l()(),t.wb(108,0,null,null,0,"div",[["id","weather-map"],["style","height:400px;"]],null,null,null,null,null))],(function(l,n){var e=n.component;l(n,1,0,"rgba(51, 51, 51, 0.96)","medium","ball-spin-clockwise"),l(n,7,0,e.weathers)}),(function(l,n){l(n,105,0,n.component.weather_label)}))}function F(l){return t.Yb(0,[(l()(),t.wb(0,0,null,null,1,"ng-component",[],null,null,null,H,Y)),t.vb(1,114688,null,0,N,[c.a,m.i,b.l,i.c],null,null)],(function(l,n){l(n,1,0)}),null)}var A=t.sb("ng-component",N,F,{},{},[]),R=function(){function l(l,n,e,t,o){var a=this;this._constant=l,this.router=e,this.toastr=t,this.spinner=o,this.router.events.subscribe((function(l){""!=n.path()&&(a.route=n.path())}))}return l.prototype.ngOnInit=function(){this.spinner.show();var l=this._constant.baseAppUrl,n=this._constant.uri_track,e=Number(sessionStorage.getItem("setSessionstorageValueUserID")),t=Number(sessionStorage.getItem("setSessionstorageValueUserResellerID")),o=Number(sessionStorage.getItem("setSessionstorageValueUserCompanyID")),a=l+n+"assetinfo?UserID="+e+"&ResellerID="+t+"&CompanyID="+o;this.api_assets_individual=this._constant.assetApi;var u,s,i=this._constant.getSessionstorageValueRoleID,r=new Array,c={zoom:13,center:new google.maps.LatLng(1.3521,103.8198),panControl:!1,zoomControl:!1,zoomControlOptions:{position:google.maps.ControlPosition.LEFT_TOP},mapTypeControl:!1,mapTypeId:google.maps.MapTypeId.HYBRID,streetViewControl:!1,streetViewControlOptions:{position:google.maps.ControlPosition.RIGHT_BOTTOM},fullscreenControl:!0,fullscreenControlOptions:{position:google.maps.ControlPosition.TOP_LEFT},scaleControl:!1,overviewMapControl:!1};function d(l,n,e){p.a.get(n).then((function(n){l(n.data)})).catch((function(l){console.log(l),e.error(1==i?"Heatmap API Error: "+l:"Error: Network Error. Pls. Try again.","Error",{timeOut:3e3,closeButton:!0,enableHtml:!0})}))}function g(l){for(var n=0,e=l.length;n<e;n++)if(l[n]){if(null==l[n].LastPos||null==l[n].LastPos.Engine||0==l[n].LastPos.PosID||""===l[n].LastPos){console.log("Data is Null");continue}var t=new google.maps.LatLng(l[n].LastPos.PosY,l[n].LastPos.PosX);r.push(t)}0==r.length&&(null==l.LastPos||null==l.LastPos.Engine||0==l.LastPos.PosID||""===l.LastPos?console.log("Data is Null"):(t=new google.maps.LatLng(l.LastPos.PosY,l.LastPos.PosX),r.push(t))),(s=new google.maps.visualization.HeatmapLayer({data:r,map:u,dissipating:!1})).setMap(u)}function m(){r=[],s.setMap(null)}u=new google.maps.Map(document.getElementById("heat-map"),c),d(g,a,this.toastr),google.maps.event.addListener(u,"mousemove",(function(l){document.getElementById("coordinates-panel").innerHTML=l.latLng.lat()+", "+l.latLng.lng()})),$(".SelectResellerFilter").on("change",(function(){m()})),$(".SelectCompanyFilter").change({route:this.route,toastr:this.toastr},(function(o){m(),d(g,function(l,n,e,t,o){var a;return 1==l?a=n+e+"assetinfo?UserID=&ResellerID="+$("#load-reseller").val()+"&CompanyID="+$("#load-company").val():2==l?a=n+e+"assetinfo?UserID="+t+"&ResellerID="+o+"&CompanyID="+$("#load-company").val():l>=3&&(a=n+e+"assetinfo?UserID="+t+"&ResellerID="+o+"&CompanyID="+$("#load-company").val()),a}(i,l,n,e,t),o.data.toastr)})),$(".SelectAssetFilter").change({api:this.api_assets_individual,toastr:this.toastr},(function(l){var n=$(this).find("option:selected").val(),e=l.data.api+n;m(),d(g,e,l.data.toastr)})),this.spinner.hide()},l}(),U=t.ub({encapsulation:2,styles:[[""]],data:{}});function G(l){return t.Yb(0,[(l()(),t.wb(0,0,null,null,3,"ngx-spinner",[["bdColor","rgba(51, 51, 51, 0.96)"],["size","medium"],["type","ball-spin-clockwise"]],null,null,null,s.b,s.a)),t.vb(1,770048,null,0,i.a,[i.c,t.h],{bdColor:[0,"bdColor"],size:[1,"size"],type:[2,"type"]},null),(l()(),t.wb(2,0,null,0,1,"p",[["style","color: white"]],null,null,null,null,null)),(l()(),t.Vb(-1,null,["Please Wait. "])),(l()(),t.wb(4,0,null,null,12,"div",[["class","animated fadeIn"]],null,null,null,null,null)),(l()(),t.wb(5,0,null,null,11,"div",[["class","row"]],null,null,null,null,null)),(l()(),t.wb(6,0,null,null,10,"div",[["class","col-md-12"]],null,null,null,null,null)),(l()(),t.wb(7,0,null,null,9,"div",[["class","card"]],null,null,null,null,null)),(l()(),t.wb(8,0,null,null,3,"div",[["class","card-header"]],null,null,null,null,null)),(l()(),t.wb(9,0,null,null,1,"span",[["class","font-weight-bold"]],null,null,null,null,null)),(l()(),t.Vb(-1,null,["Heat map of vehicles"])),(l()(),t.wb(11,0,null,null,0,"span",[["class","float-right"],["id","coordinates-panel"]],null,null,null,null,null)),(l()(),t.wb(12,0,null,null,4,"div",[["class","card-body"]],null,null,null,null,null)),(l()(),t.wb(13,0,null,null,2,"div",[["class","row"]],null,null,null,null,null)),(l()(),t.wb(14,0,null,null,1,"div",[["class","col-sm-12"]],null,null,null,null,null)),(l()(),t.wb(15,0,null,null,0,"div",[["id","heat-map"],["style","height:600px;"]],null,null,null,null,null)),(l()(),t.wb(16,0,null,null,0,"br",[],null,null,null,null,null))],(function(l,n){l(n,1,0,"rgba(51, 51, 51, 0.96)","medium","ball-spin-clockwise")}),null)}function W(l){return t.Yb(0,[(l()(),t.wb(0,0,null,null,1,"ng-component",[],null,null,null,G,U)),t.vb(1,114688,null,0,R,[c.a,m.i,b.l,T.j,i.c],null,null)],(function(l,n){l(n,1,0)}),null)}var Z=t.sb("ng-component",R,W,{},{},[]),j={interval:1500,noPause:!1},J=function(){function l(l,n,e,t){var o=this;this._constant=l,this.router=e,this.spinner=t,this.router.events.subscribe((function(l){""!=n.path()&&(o.route=n.path())}))}return l.prototype.ngOnInit=function(){this.spinner.show();var l=new google.maps.LatLng(1.3521,103.8198),n={zoom:12,center:l,panControl:!1,zoomControl:!1,zoomControlOptions:{position:google.maps.ControlPosition.LEFT_TOP},mapTypeControl:!1,streetViewControl:!0,streetViewControlOptions:{position:google.maps.ControlPosition.RIGHT_BOTTOM},fullscreenControl:!0,fullscreenControlOptions:{position:google.maps.ControlPosition.TOP_LEFT},scaleControl:!1,overviewMapControl:!1},e=new google.maps.Map(document.getElementById("map"),n),t=new google.maps.StreetViewPanorama(document.getElementById("street-map"),{position:l,pov:{heading:34,pitch:10}});e.setStreetView(t),google.maps.event.addListener(e,"mousemove",(function(l){document.getElementById("coordinates-panel").innerHTML=l.latLng.lat()+", "+l.latLng.lng()})),this.spinner.hide()},l}(),X=t.ub({encapsulation:2,styles:[["#street-map,map{position:relative;margin:0 auto;padding:0;overflow:hidden;max-width:none!important;box-shadow:none!important}"]],data:{}});function K(l){return t.Yb(0,[(l()(),t.wb(0,0,null,null,3,"ngx-spinner",[["bdColor","rgba(51, 51, 51, 0.96)"],["size","medium"],["type","ball-spin-clockwise"]],null,null,null,s.b,s.a)),t.vb(1,770048,null,0,i.a,[i.c,t.h],{bdColor:[0,"bdColor"],size:[1,"size"],type:[2,"type"]},null),(l()(),t.wb(2,0,null,0,1,"p",[["style","color: white"]],null,null,null,null,null)),(l()(),t.Vb(-1,null,["Please Wait. "])),(l()(),t.wb(4,0,null,null,22,"div",[["class","animated fadeIn"]],null,null,null,null,null)),(l()(),t.wb(5,0,null,null,21,"div",[["class","row"]],null,null,null,null,null)),(l()(),t.wb(6,0,null,null,10,"div",[["class","col-md-6"]],null,null,null,null,null)),(l()(),t.wb(7,0,null,null,9,"div",[["class","card"]],null,null,null,null,null)),(l()(),t.wb(8,0,null,null,3,"div",[["class","card-header"]],null,null,null,null,null)),(l()(),t.wb(9,0,null,null,1,"span",[["class","font-weight-bold"]],null,null,null,null,null)),(l()(),t.Vb(-1,null,["Map\xa0"])),(l()(),t.wb(11,0,null,null,0,"span",[["class","float-right"],["id","coordinates-panel"]],null,null,null,null,null)),(l()(),t.wb(12,0,null,null,4,"div",[["class","card-body"]],null,null,null,null,null)),(l()(),t.wb(13,0,null,null,2,"div",[["class","row"]],null,null,null,null,null)),(l()(),t.wb(14,0,null,null,1,"div",[["class","col-sm-12"]],null,null,null,null,null)),(l()(),t.wb(15,0,null,null,0,"div",[["id","map"],["style","height:450px;"]],null,null,null,null,null)),(l()(),t.wb(16,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.wb(17,0,null,null,9,"div",[["class","col-md-6"]],null,null,null,null,null)),(l()(),t.wb(18,0,null,null,8,"div",[["class","card"]],null,null,null,null,null)),(l()(),t.wb(19,0,null,null,2,"div",[["class","card-header"]],null,null,null,null,null)),(l()(),t.wb(20,0,null,null,1,"span",[["class","font-weight-bold"]],null,null,null,null,null)),(l()(),t.Vb(-1,null,["Street View\xa0"])),(l()(),t.wb(22,0,null,null,4,"div",[["class","card-body"]],null,null,null,null,null)),(l()(),t.wb(23,0,null,null,2,"div",[["class","row"]],null,null,null,null,null)),(l()(),t.wb(24,0,null,null,1,"div",[["class","col-sm-12"]],null,null,null,null,null)),(l()(),t.wb(25,0,null,null,0,"div",[["id","street-map"],["style","height:450px;"]],null,null,null,null,null)),(l()(),t.wb(26,0,null,null,0,"br",[],null,null,null,null,null))],(function(l,n){l(n,1,0,"rgba(51, 51, 51, 0.96)","medium","ball-spin-clockwise")}),null)}function q(l){return t.Yb(0,[(l()(),t.wb(0,0,null,null,2,"ng-component",[],null,null,null,K,X)),t.vb(1,114688,null,0,J,[c.a,m.i,b.l,i.c],null,null),t.Qb(256,null,M.b,j,[])],(function(l,n){l(n,1,0)}),null)}var Q=t.sb("ng-component",J,q,{},{},[]),ll=e("gIcY"),nl=e("Zseb"),el=e("xtZt"),tl=e("9EwZ"),ol={title:"Tracking"},al={title:"Traffic"},ul={title:"Carpark"},sl={title:"Weather"},il={title:"Heat Map"},rl={title:"Street Map"},cl=function(){return function(){}}(),dl=e("axVG");e.d(n,"TrackingModuleNgFactory",(function(){return pl}));var pl=t.tb(o,[],(function(l){return t.Ib([t.Jb(512,t.j,t.X,[[8,[a.a,u.a,v,D,E,A,Z,Q]],[3,t.j],t.x]),t.Jb(4608,m.o,m.n,[t.u]),t.Jb(4608,ll.p,ll.p,[]),t.Jb(4608,M.b,M.b,[]),t.Jb(1073742336,m.c,m.c,[]),t.Jb(1073742336,ll.o,ll.o,[]),t.Jb(1073742336,ll.e,ll.e,[]),t.Jb(1073742336,nl.b,nl.b,[]),t.Jb(1073742336,el.e,el.e,[]),t.Jb(1073742336,tl.a,tl.a,[]),t.Jb(1073742336,b.p,b.p,[[2,b.u],[2,b.l]]),t.Jb(1073742336,cl,cl,[]),t.Jb(1073742336,dl.a,dl.a,[]),t.Jb(1073742336,M.c,M.c,[]),t.Jb(1073742336,i.b,i.b,[]),t.Jb(1073742336,o,o,[]),t.Jb(1024,b.j,(function(){return[[{path:"",component:g,data:ol},{path:"traffic",component:L,data:al},{path:"carpark",component:V,data:ul},{path:"weather",component:N,data:sl},{path:"heatmap",component:R,data:il},{path:"street",component:J,data:rl}]]}),[])])}))},axVG:function(l,n,e){"use strict";e.d(n,"a",(function(){return t}));var t=function(){function l(){}var n;return n=l,l.forRoot=function(){return{ngModule:n}},l}()}}]);