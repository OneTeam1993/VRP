(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{AxlJ:function(e,t,n){var l,o;!function(i){e.exports?(i.default=i,e.exports=i):(l=[n("6n/F")],void 0===(o=(function(e){return i(e),i.Highcharts=e,i}).apply(t,l))||(e.exports=o))}((function(e){function t(e,t,n,l){e.hasOwnProperty(t)||(e[t]=l.apply(null,n))}t(e=e?e._modules:{},"modules/full-screen.src.js",[e["parts/Globals.js"]],(function(e){var t=e.addEvent,n=e.Chart,l=function(){function t(e){this.chart=e,this.isOpen=!1,e.container.parentNode instanceof Element&&(e=e.container.parentNode,this.browserProps||("function"==typeof e.requestFullscreen?this.browserProps={fullscreenChange:"fullscreenchange",requestFullscreen:"requestFullscreen",exitFullscreen:"exitFullscreen"}:e.mozRequestFullScreen?this.browserProps={fullscreenChange:"mozfullscreenchange",requestFullscreen:"mozRequestFullScreen",exitFullscreen:"mozCancelFullScreen"}:e.webkitRequestFullScreen?this.browserProps={fullscreenChange:"webkitfullscreenchange",requestFullscreen:"webkitRequestFullScreen",exitFullscreen:"webkitExitFullscreen"}:e.msRequestFullscreen&&(this.browserProps={fullscreenChange:"MSFullscreenChange",requestFullscreen:"msRequestFullscreen",exitFullscreen:"msExitFullscreen"})))}return t.prototype.close=function(){var e=this.chart;this.isOpen&&this.browserProps&&e.container.ownerDocument instanceof Document&&e.container.ownerDocument[this.browserProps.exitFullscreen](),this.unbindFullscreenEvent&&this.unbindFullscreenEvent(),this.isOpen=!1,this.setButtonText()},t.prototype.open=function(){var t=this,n=t.chart;if(t.browserProps){if(t.unbindFullscreenEvent=e.addEvent(n.container.ownerDocument,t.browserProps.fullscreenChange,(function(){t.isOpen?(t.isOpen=!1,t.close()):(t.isOpen=!0,t.setButtonText())})),n.container.parentNode instanceof Element){var l=n.container.parentNode[t.browserProps.requestFullscreen]();l&&l.catch((function(){alert("Full screen is not supported inside a frame.")}))}e.addEvent(n,"destroy",t.unbindFullscreenEvent)}},t.prototype.setButtonText=function(){var e,t=this.chart,n=t.exportDivElements,l=t.options.exporting,o=null===(e=null==l?void 0:l.buttons)||void 0===e?void 0:e.contextButton.menuItems;e=t.options.lang,null!=l&&l.menuItemDefinitions&&null!=e&&e.exitFullscreen&&e.viewFullscreen&&o&&n&&n.length&&(n[o.indexOf("viewFullscreen")].innerHTML=this.isOpen?e.exitFullscreen:l.menuItemDefinitions.viewFullscreen.text||e.viewFullscreen)},t.prototype.toggle=function(){this.isOpen?this.close():this.open()},t}();return e.Fullscreen=l,t(n,"beforeRender",(function(){this.fullscreen=new e.Fullscreen(this)})),e.Fullscreen})),t(e,"mixins/navigation.js",[],(function(){return{initUpdate:function(e){e.navigation||(e.navigation={updates:[],update:function(e,t){this.updates.forEach((function(n){n.update.call(n.context,e,t)}))}})},addUpdate:function(e,t){t.navigation||this.initUpdate(t),t.navigation.updates.push({update:e,context:t})}}})),t(e,"modules/exporting.src.js",[e["parts/Globals.js"],e["parts/Utilities.js"],e["mixins/navigation.js"]],(function(e,t,n){var l=t.addEvent,o=t.css,i=t.createElement,a=t.discardElement,r=t.extend,s=t.find,u=t.fireEvent,d=t.isObject,c=t.merge,p=t.objectEach,h=t.pick,g=t.removeEvent,m=t.uniqueKey,f=e.defaultOptions,b=e.doc,v=e.Chart,w=e.isTouchDevice,x=e.win,y=x.navigator.userAgent,S=e.SVGRenderer,D=e.Renderer.prototype.symbols,M=/Edge\/|Trident\/|MSIE /.test(y),P=/firefox/i.test(y);r(f.lang,{viewFullscreen:"View in full screen",exitFullscreen:"Exit from full screen",printChart:"Print chart",downloadPNG:"Download PNG image",downloadJPEG:"Download JPEG image",downloadPDF:"Download PDF document",downloadSVG:"Download SVG vector image",contextButtonTitle:"Chart context menu"}),f.navigation||(f.navigation={}),c(!0,f.navigation,{buttonOptions:{theme:{},symbolSize:14,symbolX:12.5,symbolY:10.5,align:"right",buttonSpacing:3,height:22,verticalAlign:"top",width:24}}),c(!0,f.navigation,{menuStyle:{border:"1px solid #999999",background:"#ffffff",padding:"5px 0"},menuItemStyle:{padding:"0.5em 1em",color:"#333333",background:"none",fontSize:w?"14px":"11px",transition:"background 250ms, color 250ms"},menuItemHoverStyle:{background:"#335cad",color:"#ffffff"},buttonOptions:{symbolFill:"#666666",symbolStroke:"#666666",symbolStrokeWidth:3,theme:{padding:5}}}),f.exporting={type:"image/png",url:"https://export.highcharts.com/",printMaxWidth:780,scale:2,buttons:{contextButton:{className:"highcharts-contextbutton",menuClassName:"highcharts-contextmenu",symbol:"menu",titleKey:"contextButtonTitle",menuItems:"viewFullscreen printChart separator downloadPNG downloadJPEG downloadPDF downloadSVG".split(" ")}},menuItemDefinitions:{viewFullscreen:{textKey:"viewFullscreen",onclick:function(){this.fullscreen.toggle()}},printChart:{textKey:"printChart",onclick:function(){this.print()}},separator:{separator:!0},downloadPNG:{textKey:"downloadPNG",onclick:function(){this.exportChart()}},downloadJPEG:{textKey:"downloadJPEG",onclick:function(){this.exportChart({type:"image/jpeg"})}},downloadPDF:{textKey:"downloadPDF",onclick:function(){this.exportChart({type:"application/pdf"})}},downloadSVG:{textKey:"downloadSVG",onclick:function(){this.exportChart({type:"image/svg+xml"})}}}},e.post=function(e,t,n){var l=i("form",c({method:"post",action:e,enctype:"multipart/form-data"},n),{display:"none"},b.body);p(t,(function(e,t){i("input",{type:"hidden",name:t,value:e},null,l)})),l.submit(),a(l)},e.isSafari&&e.win.matchMedia("print").addListener((function(t){e.printingChart&&(t.matches?e.printingChart.beforePrint():e.printingChart.afterPrint())})),r(v.prototype,{sanitizeSVG:function(e,t){var n=e.indexOf("</svg>")+6,l=e.substr(n);return e=e.substr(0,n),t&&t.exporting&&t.exporting.allowHTML&&l&&(e=e.replace("</svg>",(l='<foreignObject x="0" y="0" width="'+t.chart.width+'" height="'+t.chart.height+'"><body xmlns="http://www.w3.org/1999/xhtml">'+l+"</body></foreignObject>")+"</svg>")),e=e.replace(/zIndex="[^"]+"/g,"").replace(/symbolName="[^"]+"/g,"").replace(/jQuery[0-9]+="[^"]+"/g,"").replace(/url\(("|&quot;)(.*?)("|&quot;);?\)/g,"url($2)").replace(/url\([^#]+#/g,"url(#").replace(/<svg /,'<svg xmlns:xlink="http://www.w3.org/1999/xlink" ').replace(/ (|NS[0-9]+:)href=/g," xlink:href=").replace(/\n/," ").replace(/(fill|stroke)="rgba\(([ 0-9]+,[ 0-9]+,[ 0-9]+),([ 0-9\.]+)\)"/g,'$1="rgb($2)" $1-opacity="$3"').replace(/&nbsp;/g,"\xa0").replace(/&shy;/g,"\xad"),this.ieSanitizeSVG&&(e=this.ieSanitizeSVG(e)),e},getChartHTML:function(){return this.styledMode&&this.inlineStyles(),this.container.innerHTML},getSVG:function(t){var n,l=c(this.options,t);l.plotOptions=c(this.userOptions.plotOptions,t&&t.plotOptions),l.time=c(this.userOptions.time,t&&t.time);var o=i("div",null,{position:"absolute",top:"-9999em",width:this.chartWidth+"px",height:this.chartHeight+"px"},b.body),d=this.renderTo.style.width,p=this.renderTo.style.height;d=l.exporting.sourceWidth||l.chart.width||/px$/.test(d)&&parseInt(d,10)||(l.isGantt?800:600),p=l.exporting.sourceHeight||l.chart.height||/px$/.test(p)&&parseInt(p,10)||400,r(l.chart,{animation:!1,renderTo:o,forExport:!0,renderer:"SVGRenderer",width:d,height:p}),l.exporting.enabled=!1,delete l.data,l.series=[],this.series.forEach((function(e){(n=c(e.userOptions,{animation:!1,enableMouseTracking:!1,showCheckbox:!1,visible:e.visible})).isInternal||l.series.push(n)})),this.axes.forEach((function(e){e.userOptions.internalKey||(e.userOptions.internalKey=m())}));var h=new e.Chart(l,this.callback);return t&&["xAxis","yAxis","series"].forEach((function(e){var n={};t[e]&&(n[e]=t[e],h.update(n))})),this.axes.forEach((function(e){var t=s(h.axes,(function(t){return t.options.internalKey===e.userOptions.internalKey})),n=e.getExtremes(),l=n.userMin;n=n.userMax,t&&(void 0!==l&&l!==t.min||void 0!==n&&n!==t.max)&&t.setExtremes(l,n,!0,!1)})),d=h.getChartHTML(),u(this,"getSVG",{chartCopy:h}),d=this.sanitizeSVG(d,l),l=null,h.destroy(),a(o),d},getSVGForExport:function(e,t){var n=this.options.exporting;return this.getSVG(c({chart:{borderRadius:0}},n.chartOptions,t,{exporting:{sourceWidth:e&&e.sourceWidth||n.sourceWidth,sourceHeight:e&&e.sourceHeight||n.sourceHeight}}))},getFilename:function(){var e=this.userOptions.title&&this.userOptions.title.text,t=this.options.exporting.filename;return t?t.replace(/\//g,"-"):("string"==typeof e&&(t=e.toLowerCase().replace(/<\/?[^>]+(>|$)/g,"").replace(/[\s_]+/g,"-").replace(/[^a-z0-9\-]/g,"").replace(/^[\-]+/g,"").replace(/[\-]+/g,"-").substr(0,24).replace(/[\-]+$/g,"")),(!t||5>t.length)&&(t="chart"),t)},exportChart:function(t,n){n=this.getSVGForExport(t,n),t=c(this.options.exporting,t),e.post(t.url,{filename:t.filename?t.filename.replace(/\//g,"-"):this.getFilename(),type:t.type,width:t.width||0,scale:t.scale,svg:n},t.formAttributes)},moveContainers:function(e){(this.fixedDiv?[this.fixedDiv,this.scrollingContainer]:[this.container]).forEach((function(t){e.appendChild(t)}))},beforePrint:function(){var e=b.body,t=this.options.exporting.printMaxWidth,n={childNodes:e.childNodes,origDisplay:[],resetParams:void 0};this.isPrinting=!0,this.pointer.reset(null,0),u(this,"beforePrint"),t&&this.chartWidth>t&&(n.resetParams=[this.options.chart.width,void 0,!1],this.setSize(t,void 0,!1)),[].forEach.call(n.childNodes,(function(e,t){1===e.nodeType&&(n.origDisplay[t]=e.style.display,e.style.display="none")})),this.moveContainers(e),this.printReverseInfo=n},afterPrint:function(){if(this.printReverseInfo){var t=this.printReverseInfo.childNodes,n=this.printReverseInfo.origDisplay,l=this.printReverseInfo.resetParams;this.moveContainers(this.renderTo),[].forEach.call(t,(function(e,t){1===e.nodeType&&(e.style.display=n[t]||"")})),this.isPrinting=!1,l&&this.setSize.apply(this,l),delete this.printReverseInfo,delete e.printingChart,u(this,"afterPrint")}},print:function(){var t=this;t.isPrinting||(e.printingChart=t,e.isSafari||t.beforePrint(),setTimeout((function(){x.focus(),x.print(),e.isSafari||setTimeout((function(){t.afterPrint()}),1e3)}),1))},contextMenu:function(e,n,a,s,c,p,h){var g=this,m=g.options.navigation,f=g.chartWidth,v=g.chartHeight,w="cache-"+e,y=g[w],S=Math.max(c,p);if(!y){g.exportContextMenu=g[w]=y=i("div",{className:e},{position:"absolute",zIndex:1e3,padding:S+"px",pointerEvents:"auto"},g.fixedDiv||g.container);var D=i("ul",{className:"highcharts-menu"},{listStyle:"none",margin:0,padding:0},y);g.styledMode||o(D,r({MozBoxShadow:"3px 3px 10px #888",WebkitBoxShadow:"3px 3px 10px #888",boxShadow:"3px 3px 10px #888"},m.menuStyle)),y.hideMenu=function(){o(y,{display:"none"}),h&&h.setState(0),g.openMenu=!1,o(g.renderTo,{overflow:"hidden"}),t.clearTimeout(y.hideTimer),u(g,"exportMenuHidden")},g.exportEvents.push(l(y,"mouseleave",(function(){y.hideTimer=x.setTimeout(y.hideMenu,500)})),l(y,"mouseenter",(function(){t.clearTimeout(y.hideTimer)})),l(b,"mouseup",(function(t){g.pointer.inClass(t.target,e)||y.hideMenu()})),l(y,"click",(function(){g.openMenu&&y.hideMenu()}))),n.forEach((function(e){if("string"==typeof e&&(e=g.options.exporting.menuItemDefinitions[e]),d(e,!0)){if(e.separator)var t=i("hr",null,null,D);else t=i("li",{className:"highcharts-menu-item",onclick:function(t){t&&t.stopPropagation(),y.hideMenu(),e.onclick&&e.onclick.apply(g,arguments)},innerHTML:e.text||g.options.lang[e.textKey]},null,D),g.styledMode||(t.onmouseover=function(){o(this,m.menuItemHoverStyle)},t.onmouseout=function(){o(this,m.menuItemStyle)},o(t,r({cursor:"pointer"},m.menuItemStyle)));g.exportDivElements.push(t)}})),g.exportDivElements.push(D,y),g.exportMenuWidth=y.offsetWidth,g.exportMenuHeight=y.offsetHeight}n={display:"block"},a+g.exportMenuWidth>f?n.right=f-a-c-S+"px":n.left=a-S+"px",s+p+g.exportMenuHeight>v&&"top"!==h.alignOptions.verticalAlign?n.bottom=v-s-S+"px":n.top=s+p-S+"px",o(y,n),o(g.renderTo,{overflow:""}),g.openMenu=!0,u(g,"exportMenuShown")},addButton:function(e){var t=this,n=t.renderer,l=c(t.options.navigation.buttonOptions,e),o=l.onclick,i=l.menuItems,a=l.symbolSize||12;if(t.btnCount||(t.btnCount=0),t.exportDivElements||(t.exportDivElements=[],t.exportSVGElements=[]),!1!==l.enabled){var s,u=l.theme,d=u.states,p=d&&d.hover;d=d&&d.select,t.styledMode||(u.fill=h(u.fill,"#ffffff"),u.stroke=h(u.stroke,"none")),delete u.states,o?s=function(e){e&&e.stopPropagation(),o.call(t,e)}:i&&(s=function(e){e&&e.stopPropagation(),t.contextMenu(g.menuClassName,i,g.translateX,g.translateY,g.width,g.height,g),g.setState(2)}),l.text&&l.symbol?u.paddingLeft=h(u.paddingLeft,25):l.text||r(u,{width:l.width,height:l.height,padding:0}),t.styledMode||(u["stroke-linecap"]="round",u.fill=h(u.fill,"#ffffff"),u.stroke=h(u.stroke,"none"));var g=n.button(l.text,0,0,s,u,p,d).addClass(e.className).attr({title:h(t.options.lang[l._titleKey||l.titleKey],"")});if(g.menuClassName=e.menuClassName||"highcharts-menu-"+t.btnCount++,l.symbol){var m=n.symbol(l.symbol,l.symbolX-a/2,l.symbolY-a/2,a,a,{width:a,height:a}).addClass("highcharts-button-symbol").attr({zIndex:1}).add(g);t.styledMode||m.attr({stroke:l.symbolStroke,fill:l.symbolFill,"stroke-width":l.symbolStrokeWidth||1})}g.add(t.exportingGroup).align(r(l,{width:g.width,x:h(l.x,t.buttonOffset)}),!0,"spacingBox"),t.buttonOffset+=(g.width+l.buttonSpacing)*("right"===l.align?-1:1),t.exportSVGElements.push(g,m)}},destroyExport:function(e){var n,l=e?e.target:this,o=l.exportDivElements,i=l.exportEvents;(e=l.exportSVGElements)&&(e.forEach((function(e,t){e&&(e.onclick=e.ontouchstart=null,l[n="cache-"+e.menuClassName]&&delete l[n],l.exportSVGElements[t]=e.destroy())})),e.length=0),l.exportingGroup&&(l.exportingGroup.destroy(),delete l.exportingGroup),o&&(o.forEach((function(e,n){t.clearTimeout(e.hideTimer),g(e,"mouseleave"),l.exportDivElements[n]=e.onmouseout=e.onmouseover=e.ontouchstart=e.onclick=null,a(e)})),o.length=0),i&&(i.forEach((function(e){e()})),i.length=0)}}),S.prototype.inlineToAttributes="fill stroke strokeLinecap strokeLinejoin strokeWidth textAnchor x y".split(" "),S.prototype.inlineBlacklist=[/-/,/^(clipPath|cssText|d|height|width)$/,/^font$/,/[lL]ogical(Width|Height)$/,/perspective/,/TapHighlightColor/,/^transition/,/^length$/],S.prototype.unstyledElements=["clipPath","defs","desc"],v.prototype.inlineStyles=function(){function e(e){return e.replace(/([A-Z])/g,(function(e,t){return"-"+t.toLowerCase()}))}var t,n=this.renderer,l=n.inlineToAttributes,i=n.inlineBlacklist,a=n.inlineWhitelist,r=n.unstyledElements,s={};n=b.createElement("iframe"),o(n,{width:"1px",height:"1px",visibility:"hidden"}),b.body.appendChild(n);var u=n.contentWindow.document;u.open(),u.write('<svg xmlns="http://www.w3.org/2000/svg"></svg>'),u.close(),function n(o){function d(t,n){if(h=g=!1,a){for(m=a.length;m--&&!g;)g=a[m].test(n);h=!g}for("transform"===n&&"none"===t&&(h=!0),m=i.length;m--&&!h;)h=i[m].test(n)||"function"==typeof t;h||v[n]===t&&"svg"!==o.nodeName||s[o.nodeName][n]===t||(-1!==l.indexOf(n)?o.setAttribute(e(n),t):f+=e(n)+":"+t+";")}var h,g,m,f="";if(1===o.nodeType&&-1===r.indexOf(o.nodeName)){var b=x.getComputedStyle(o,null),v="svg"===o.nodeName?{}:x.getComputedStyle(o.parentNode,null);if(!s[o.nodeName]){t=u.getElementsByTagName("svg")[0];var w=u.createElementNS(o.namespaceURI,o.nodeName);t.appendChild(w),s[o.nodeName]=c(x.getComputedStyle(w,null)),"text"===o.nodeName&&delete s.text.fill,t.removeChild(w)}if(P||M)for(var y in b)d(b[y],y);else p(b,d);f&&(b=o.getAttribute("style"),o.setAttribute("style",(b?b+";":"")+f)),"svg"===o.nodeName&&o.setAttribute("stroke-width","1px"),"text"!==o.nodeName&&[].forEach.call(o.children||o.childNodes,n)}}(this.container.querySelector("svg")),t.parentNode.removeChild(t)},D.menu=function(e,t,n,l){return["M",e,t+2.5,"L",e+n,t+2.5,"M",e,t+l/2+.5,"L",e+n,t+l/2+.5,"M",e,t+l-1.5,"L",e+n,t+l-1.5]},D.menuball=function(e,t,n,l){return[].concat(this.circle(n-(l=l/3-2),t,l,l),this.circle(n-l,t+l+4,l,l),this.circle(n-l,t+2*(l+4),l,l))},v.prototype.renderExporting=function(){var e=this,t=e.options.exporting,n=t.buttons,o=e.isDirtyExporting||!e.exportSVGElements;e.buttonOffset=0,e.isDirtyExporting&&e.destroyExport(),o&&!1!==t.enabled&&(e.exportEvents=[],e.exportingGroup=e.exportingGroup||e.renderer.g("exporting-group").attr({zIndex:3}).add(),p(n,(function(t){e.addButton(t)})),e.isDirtyExporting=!1),l(e,"destroy",e.destroyExport)},l(v,"init",(function(){var e=this;e.exporting={update:function(t,n){e.isDirtyExporting=!0,c(!0,e.options.exporting,t),h(n,!0)&&e.redraw()}},n.addUpdate((function(t,n){e.isDirtyExporting=!0,c(!0,e.options.navigation,t),h(n,!0)&&e.redraw()}),e)})),v.prototype.callbacks.push((function(e){e.renderExporting(),l(e,"redraw",e.renderExporting)}))})),t(e,"masters/modules/exporting.src.js",[],(function(){}))}))},D1jf:function(e,t,n){"use strict";n.r(t);var l=n("CcnG"),o=function(){return function(){}}(),i=n("pMnS"),a=n("jvCn"),r=n("miAi"),s=n("mrSG"),u=n("wd/R"),d=(n("zavE"),n("TxLo")),c=n("6dEA"),p=n("t/UT"),h=n("6n/F"),g=n("AxlJ");n.n(g)()(h);var m=function(){function e(e,t,n,l,o,i){var a=this;this._constant=e,this.router=n,this.eventEmitterService=l,this.toastr=o,this.spinner=i,this.markers=[],this.coordinates=[],this.polylines=[],this.router.events.subscribe((function(e){""!=t.path()&&(a.route=t.path())})),this.clickEventsubscription=this.eventEmitterService.getClickEvent().subscribe((function(){event.preventDefault(),a.generateEN()}))}return e.prototype.ngOnInit=function(){if(this.spinner.show(),Number(sessionStorage.getItem("setSessionstorageValueUserID")),Number(sessionStorage.getItem("setSessionstorageValueUserResellerID")),Number(sessionStorage.getItem("setSessionstorageValueCompanyID")),this.api_assets_individual=this._constant.assetApi,t=this._constant.getSessionstorageValueRoleID,n=$("#load-report").val(),$("#_charts").hide(),$("#_playback").hide(),$("#_reports_table").hide(),t>=3&&$("#_reseller").hide(),3==n?$("#_speed").show():$("#_speed").hide(),google){var e={zoom:12,center:new google.maps.LatLng(1.3521,103.8198),panControl:!1,zoomControl:!1,zoomControlOptions:{position:google.maps.ControlPosition.LEFT_TOP},mapTypeControl:!1,streetViewControl:!1,streetViewControlOptions:{position:google.maps.ControlPosition.RIGHT_BOTTOM},fullscreenControl:!0,fullscreenControlOptions:{position:google.maps.ControlPosition.TOP_LEFT},scaleControl:!1,overviewMapControl:!1};this.map=new google.maps.Map(document.getElementById("map"),e)}else this.toastr.error("Error: Network Error. Pls. Try again.","Error",{timeOut:3e3,closeButton:!0,enableHtml:!0});var t,n;$("#load-report").on("change",(function(){$("#_charts").hide(),$("#_playback").hide(),$("#_reports_table").hide(),1==this.value?($("#positionSection").hide(),$("#speedSection").hide(),$("#mileageSection").hide(),$("#utilizationSection").hide(),$("#utilization2Section").hide()):2==this.value?($("#positionSection").show(),$("#speedSection").hide(),$("#mileageSection").hide(),$("#utilizationSection").hide(),$("#utilization2Section").hide()):3==this.value?($("#positionSection").hide(),$("#speedSection").show(),$("#mileageSection").hide(),$("#utilizationSection").hide(),$("#utilization2Section").hide()):4==this.value?($("#positionSection").hide(),$("#speedSection").hide(),$("#mileageSection").show(),$("#utilizationSection").hide(),$("#utilization2Section").hide()):5==this.value?($("#positionSection").hide(),$("#speedSection").hide(),$("#mileageSection").hide(),$("#utilizationSection").show(),$("#utilization2Section").hide()):6==this.value?($("#positionSection").hide(),$("#speedSection").hide(),$("#mileageSection").hide(),$("#utilizationSection").hide(),$("#utilization2Section").show()):7==this.value&&($("#positionSection").hide(),$("#speedSection").hide(),$("#mileageSection").hide(),$("#utilizationSection").hide(),$("#utilization2Section").hide())})),this.spinner.hide()},e.prototype.generateEN=function(){var e;this.spinner.show();var t=this._constant.iconURL,n=$("#load-assets").val(),l=$("#load-company").val(),o=($("#load-reseller").val(),$("#load-report").val()),i=$("#dateFrom").val(),a=$("#dateTo").val(),r=$("#speedLimit").val(),d=($("#load-events").val(),$("#load-messages").val(),"D-MMM-YYYY, hh:mm:ss A");$("#_charts").show(),$("#_playback").show(),$("#_reports_table").show();var c=u(i,d),g=u(a,d),m=u(c).subtract(8,"hours").format(d),f=u(g).subtract(8,"hours").format(d);function b(){1==$.fn.DataTable.isDataTable("#positionReport")?($("#positionReport").DataTable().clear().draw(),$("#positionReport").DataTable().destroy(),$("#positionReport thead").html(""),$("#_positionR").hide()):1==$.fn.DataTable.isDataTable("#speedReport")?($("#speedReport").DataTable().clear().draw(),$("#speedReport").DataTable().destroy(),$("#speedReport thead").html(""),$("#_speedR").hide()):1==$.fn.DataTable.isDataTable("#mileageReport")?($("#mileageReport").DataTable().clear().draw(),$("#mileageReport").DataTable().destroy(),$("#mileageReport thead").html(""),$("#_mileageR").hide()):1==$.fn.DataTable.isDataTable("#utilizationReport")?($("#utilizationReport").DataTable().clear().draw(),$("#utilizationReport").DataTable().destroy(),$("#utilizationReport thead").html(""),$("#_utilizationR").hide()):1==$.fn.DataTable.isDataTable("#utilization2Report")&&($("#utilization2Report").DataTable().clear().draw(),$("#utilization2Report").DataTable().destroy(),$("#utilization2Report thead").html(""),$("#_utilization2R").hide())}function v(e){for(;e.length;)e.pop()}function w(){var e=u(i,"D-MMM-YYYY, hh:mm:ss");return u(a,"D-MMM-YYYY, hh:mm:ss").diff(e,"hours")}u.duration(g-c).humanize(),u(i,d).isValid(),u(a,d).isValid(),2==o?e="https://app.track-asia.com/tracksgwebapi/api/posinfo?AssetID="+n+"&CompanyID="+l+"&Timestamp="+m+"&RxTime="+f:3==o?e="https://app.track-asia.com/tracksgwebapi/api/posinfo?AssetID="+n+"&Speed="+r+"&CompanyID="+l+"&Timestamp="+m+"&RxTime="+f:o>=4&&o<=6&&(e="https://app.track-asia.com/tracksgwebapi/api/utilizationinfo?AssetID="+n+"&StartTime="+m+"&EndTime="+f),console.log(e),function(e,t,n,l,i,a,r,d){2==o?(function(e,t,n,l,o,i,a,r){(function(e,t,n){Object(s.b)(this,void 0,void 0,(function(){var l;return Object(s.e)(this,(function(o){switch(o.label){case 0:return[4,v(n)];case 1:if(o.sent(),e)for(l=0;l<e.length;l++)e[l]&&e[l].setMap(null);if(e=[],t)for(l=0;l<t.length;l++)t[l]&&t[l].setMap(null);return t=[],[2]}}))}))})(l,i,a),b(),$("#_positionR").show(),$("#positionReport").DataTable({destroy:!0,responsive:!0,select:!0,filter:!0,colReorder:!1,rowReorder:!0,keys:!0,fixedHeader:{header:!0,footer:!0},scrollX:!0,scrollY:screen.height-335+"px",scrollCollapse:!0,fnInitComplete:function(){new p.a(".dataTables_scrollBody")},paging:!0,pagingType:"full_numbers",pageLength:12,lengthMenu:[[12,25,50,-1],[12,25,50,"All"]],searching:!0,ordering:!0,order:[[0,"asc"]],info:!0,dom:"Blfrtip",processing:!0,language:{processing:'<i class="fa fa-spinner fa-spin fa-3x fa-fw"></i><span class="sr-only">Loading...</span> ',infoEmpty:"No events available",infoFiltered:"(filtered from MAX total events)"},buttons:[{extend:"colvis",className:"float-right ml-2"},[{extend:"collection",text:"Export",className:"float-right ml-2",buttons:["excel"]}]],columns:[{data:"PosID",title:"ID",className:"reorder"},{data:"Asset",title:"Asset",className:"reorder"},{data:"Tag",title:"Device",className:"reorder"},{data:"Driver",title:"Driver",className:"reorder"},{data:"PosY",title:"Latitude",className:"reorder"},{data:"PosX",title:"Longtitude",className:"reorder"},{data:"Location",title:"Location",className:"reorder"},{data:"Timestamp",title:"Timestamp",className:"reorder"},{data:"Speed",title:"Speed",className:"reorder"},{data:"Engine",title:"Engine",className:"reorder"},{data:"Ignition",title:"Ignition",className:"reorder"}],ajax:{url:e,type:"GET",dataType:"json",dataSrc:"",error:function(e,n,l){t.error("Error: Network Error - "+l+". Pls. try again!","Error",{timeOut:3e3,closeButton:!0,enableHtml:!0})}},columnDefs:[{render:function(e,t,n){return e},targets:0},{render:function(e){return u(e).add(8,"hours").format("D-MMM-YYYY, hh:mm:ss A")},targets:7},{render:function(e){return"<span>"+e+" km/h</span>"},targets:8},{render:function(e,t){var n;return"MOVE"==e?n="success":"IDLE"==e?n="warning":"STOP"==e&&(n="danger"),'<div class="badge badge-'+n+'"> '+e+"</div>"},targets:9},{render:function(e,t){var n,l;return 1==e?(n="success",l="On"):0==e?(n="dark",l="Off"):(null==e||null==e||""==e||e>1)&&("IDLE"==t.Engine?(n="success",l="On"):"MOVE"==t.Engine?(n="success",l="On"):"STOP"==t.Engine&&(n="danger",l="Off")),'<div class="badge badge-'+n+'"> '+l+"</div>"},targets:10}],initComplete:function(e,s,d){if(s){if(w()<=24){for(var c=0,p=0,g=0,m=$("#dateFrom").val(),f=$("#dateTo").val(),b=[],v=[],x=[],y=[],S=0,D=s.length;S<D;S++){var M=s[S].Speed,P=s[S].Driver,C=s[S].Mileage,E=u(s[S].Timestamp).add(8,"hours").format("D/MM/YY hh:mm A");b.push(M),v.push(E),x.push(P),y.push(C)}for(var k=0;k<s.length;++k)"MOVE"==s[k].Engine?c++:"IDLE"==s[k].Engine?p++:"STOP"==s[k].Engine&&g++;for(k=0;k<s.length;++k);$("#chartPosition").highcharts({exporting:{buttons:{contextButton:{menuItems:["viewFullscreen","downloadPNG","downloadJPEG","downloadPDF"]}}},lang:{downloadJPEG:"Download JPEG Image",downloadPDF:"Download PDF Document",downloadPNG:"Download PNG Image",downloadSVG:"Download SVG Vector Image",printChart:"Print Chart"},chart:{zoomType:"xy"},title:{text:"Positions Chart"},subtitle:{text:m+" - "+f},legend:{shadow:!0},scrollbar:{enabled:!0,barBackgroundColor:"gray",barBorderRadius:7,barBorderWidth:0,buttonBackgroundColor:"gray",buttonBorderWidth:0,buttonArrowColor:"yellow",buttonBorderRadius:7,rifleColor:"yellow",trackBackgroundColor:"white",trackBorderWidth:1,trackBorderColor:"silver",trackBorderRadius:7},xAxis:{categories:v,crosshair:!0},yAxis:[{title:{text:"Speed",style:{color:h.getOptions().colors[1]}},labels:{format:"{value} km/h",style:{color:h.getOptions().colors[1]}},opposite:!0},{gridLineWidth:0,labels:{format:"{value} KM",style:{color:h.getOptions().colors[1]}},opposite:!0}],labels:{items:[{html:"Vehicle Status",style:{left:"40px",top:"14px"}}]},series:[{type:"spline",name:"Speed",data:b,tooltip:{valueSuffix:" km/h"}},{type:"pie",name:"Status",data:[{name:"Move",y:c,color:"#7FB842"},{name:"Idle",y:p,color:"#FEA01B"},{name:"Stop",y:g,color:"#E7472D"}],center:[40,70],size:100,showInLegend:!1,dataLabels:{enabled:!1}}]})}else setTimeout((function(){t.warning("Chart disabled.","Warning",{timeOut:3e3,closeButton:!0,enableHtml:!0})}),500);if(w()<=4){for(S=0;S<s.length;S++){var T;switch(a.push(new google.maps.LatLng(s[S].PosY,s[S].PosX)),s[S].Engine){case"MOVE":T="move";break;case"IDLE":T="idle";break;case"STOP":T="stop"}T=o+T+".png";var N='<div style="width=200px; class="scrollFix"><p class="text-primary"><strong><font size="1.5">'+s[S].Asset+'</font></strong></p><div id="toggleInfobox" style="color:black;"><b>Date:&nbsp;</b>'+(E=u(s[S].Timestamp).add(8,"hours").format("D-MMM-YYYY, hh:mm:ss A"))+"<br></div></div>",O=new google.maps.Marker({icon:T,position:new google.maps.LatLng(s[S].PosY,s[S].PosX),map:n,content:N});l.push(O),G(O)}var I=new google.maps.Marker({position:new google.maps.LatLng(s[0].PosY,s[0].PosX),map:n,icon:"assets/img/blue_MarkerA.png"});l.push(I);var F=new google.maps.Marker({position:new google.maps.LatLng(s[s.length-1].PosY,s[s.length-1].PosX),map:n,icon:"assets/img/blue_MarkerB.png"});l.push(F);var R={path:[],asset:"",location:"",geodesic:!1,strokeColor:"#FF0000",strokeOpacity:1,strokeWeight:3,icons:[{icon:{path:"M17.402,0H5.643C2.526,0,0,3.467,0,6.584v34.804c0,3.116,2.526,5.644,5.643,5.644h11.759c3.116,0,5.644-2.527,5.644-5.644 V6.584C23.044,3.467,20.518,0,17.402,0z M22.057,14.188v11.665l-2.729,0.351v-4.806L22.057,14.188z M20.625,10.773 c-1.016,3.9-2.219,8.51-2.219,8.51H4.638l-2.222-8.51C2.417,10.773,11.3,7.755,20.625,10.773z M3.748,21.713v4.492l-2.73-0.349 V14.502L3.748,21.713z M1.018,37.938V27.579l2.73,0.343v8.196L1.018,37.938z M2.575,40.882l2.218-3.336h13.771l2.219,3.336H2.575z M19.328,35.805v-7.872l2.729-0.355v10.048L19.328,35.805z",scale:.5,fillOpacity:.8,fillColor:"yellow",offset:"100%",origin:new google.maps.Point(0,0),anchor:new google.maps.Point(16,16)},offset:"0%"}]};this.polyline||(R.path=a,this.polyline=new google.maps.Polyline(R)),this.polyline.setMap(n),function(e,t){for(var n=new google.maps.LatLngBounds,l=e.getPath().getArray(),o=0;o<l.length;o++)n.extend(l[o]);t.fitBounds(n)}(this.polyline,n),i.push(this.polyline);var z={map:n,polyline:this.polyline,route:s,coordinates:a,tempCount:0,count:0,offset:0,isPlay:!1,speed:200,animateTimeout:!1,startRoute:function(){var e;this.isPlay&&(function n(){z.count++,$("#forwind").val(z.count),z.offset<100&&(e=setTimeout((function(l){l?(console.log(z.count+", "+z.offset),z.isPlay?(n(),console.log(z.count+": "+l.PosY+", "+l.PosX)):(clearTimeout(e),console.log("paused at "+z.count))):t.error("Playback Error: Data not found","Error",{timeOut:3e3,closeButton:!0,enableHtml:!0})}),z.speed,z.route[z.count]))}(),this.animateSymbol())},animateSymbol:function(){clearTimeout(this.animateTimeout),this.animateTimeout=setInterval((function(){z.count/z.route.length*100==100?clearTimeout(this.animateTimeout):(z.count=z.count%z.coordinates.length,z.trackSymbol(z.count))}),20)},trackSymbol:function(e){this.offset=e/(this.coordinates.length-1)*100;var t=this.polyline.get("icons");t[0].offset=this.offset+"%",this.polyline.set("icons",t);var n=google.maps.geometry.spherical.interpolate(this.coordinates[0],this.coordinates[this.coordinates.length-1],e/this.coordinates.length);this.map.setCenter(n)}};$(".control").show(),$(".controlSlider").show(),$("#forwind").attr("max",s.length-1),$("#play").on("click",(function(e){e.preventDefault(),$(this).prop("disabled","disabled"),$("#pause").removeAttr("disabled"),z.isPlay=!0,z.startRoute(),console.log("played at "+z.count)})),$("#pause").on("click",(function(e){e.preventDefault(),$(this).prop("disabled","disabled"),$("#play").removeAttr("disabled"),z.isPlay=!1})),$("#forwind").on("input change",(function(e){z.isPlay=!1,$("#play").removeAttr("disabled"),$("#pause").prop("disabled","disabled"),z.count=$(this).val(),z.count=z.count%s.length,z.count>z.tempCount?console.log("forward at "+z.count):z.count<z.tempCount&&console.log("rewind at "+z.count),z.tempCount=z.count}))}else $(".control").hide(),$(".controlSlider").hide(),setTimeout((function(){t.warning("Playback disabled.","Warning",{timeOut:3e3,closeButton:!0,enableHtml:!0})}),500);r.hide(),setTimeout((function(){t.success("Loaded Successful","Success",{timeOut:3e3,closeButton:!0,enableHtml:!0})}),50)}else setTimeout((function(){t.error("Data not found.","Danger",{timeOut:3e3,closeButton:!0,enableHtml:!0})}),500);function G(e){var t=new google.maps.InfoWindow({content:e.content});e.addListener("click",(function(){t.open(e.get("map"),e)}))}},footerCallback:function(e,t,n,l,o){}})}(e,t,n,l,i,a,r,d),$("#label_reports").text("Positions Report")):3==o?(function(e,t){b(),$("#_speedR").show(),$("#speedReport").DataTable({destroy:!0,responsive:!0,select:!0,filter:!0,colReorder:!1,rowReorder:!0,keys:!0,fixedHeader:{header:!0,footer:!0,headerOffset:$("#pageHeader").outerHeight()},scrollX:!0,scrollCollapse:!0,paging:!0,pagingType:"full_numbers",pageLength:12,lengthMenu:[[12,25,50,-1],[12,25,50,"All"]],searching:!0,ordering:!0,order:[[0,"asc"]],info:!0,dom:"Blfrtip",processing:!0,language:{processing:'<i class="fa fa-spinner fa-spin fa-3x fa-fw"></i><span class="sr-only">Loading...</span> ',infoEmpty:"No events available",infoFiltered:"(filtered from MAX total events)"},buttons:[{extend:"colvis",className:"float-right ml-2"},[{extend:"collection",text:"Export",className:"float-right ml-2",buttons:["excel"]}]],columns:[{data:"PosID",title:"ID",className:"reorder"},{data:"Asset",title:"Asset",className:"reorder"},{data:"Tag",title:"Device",className:"reorder"},{data:"Driver",title:"Driver",className:"reorder"},{data:"PosY",title:"Latitude",className:"reorder"},{data:"PosX",title:"Longtitude",className:"reorder"},{data:"Location",title:"Location",className:"reorder"},{data:"Timestamp",title:"Timestamp",className:"reorder"},{data:"Speed",title:"Speed",className:"reorder"},{data:"Engine",title:"Engine",className:"reorder"},{data:"Ignition",title:"Ignition",className:"reorder"}],ajax:{url:e,type:"GET",dataType:"json",dataSrc:""},columnDefs:[{render:function(e,t,n){return e},targets:0},{render:function(e){return u(e).add(8,"hours").format("D-MMM-YYYY, hh:mm:ss A")},targets:7},{render:function(e){return"<span>"+e+" km/h</span>"},targets:8},{render:function(e,t){var n;return"MOVE"==e?n="success":"IDLE"==e?n="warning":"STOP"==e&&(n="danger"),'<div class="badge badge-'+n+'"> '+e+"</div>"},targets:9},{render:function(e,t){var n,l;return 1==e?(n="success",l="On"):0==e?(n="dark",l="Off"):(null==e||null==e||""==e||e>1)&&("IDLE"==t.Engine?(n="success",l="On"):"MOVE"==t.Engine?(n="success",l="On"):"STOP"==t.Engine&&(n="danger",l="Off")),'<div class="badge badge-'+n+'"> '+l+"</div>"},targets:10}],initComplete:function(e,n,l){console.log(JSON.stringify(n));for(var o=$("#dateFrom").val(),i=$("#dateTo").val(),a=[],r=[],s=[],d=[],c=0,p=n.length;c<p;c++){var g=n[c].Speed,m=n[c].Driver,f=n[c].Mileage,b=u(n[c].Timestamp).add(8,"hours").format("D/MM/YY hh:mm A");a.push(g),r.push(b),s.push(m),d.push(f)}for(var v=0;v<n.length;++v);for(v=0;v<n.length;++v);$("#chartSpeed").highcharts({exporting:{buttons:{contextButton:{menuItems:["viewFullscreen","downloadPNG","downloadJPEG","downloadPDF"]}}},lang:{downloadJPEG:"Download JPEG Image",downloadPDF:"Download PDF Document",downloadPNG:"Download PNG Image",downloadSVG:"Download SVG Vector Image",printChart:"Print Chart"},chart:{zoomType:"x"},title:{text:"Speed Chart"},subtitle:{text:o+" - "+i},xAxis:{categories:r,crosshair:!0},yAxis:[{title:{text:"Speed",style:{color:h.getOptions().colors[1]}},labels:{format:"{value} km/h",style:{color:h.getOptions().colors[1]}},opposite:!0},{gridLineWidth:0,labels:{format:"{value} KM",style:{color:h.getOptions().colors[1]}},opposite:!0}],series:[{type:"spline",name:"Speed",data:a,tooltip:{valueSuffix:" km/h"}}]}),n.length>0?t.success("Loaded Successful","Success",{timeOut:3e3,closeButton:!0,enableHtml:!0}):t.warning("No Data","Warning",{timeOut:3e3,closeButton:!0,enableHtml:!0})},footerCallback:function(e,t,n,l,o){}})}(e,t),$("#label_reports").text("Speed Report")):4==o?(function(e,t){b(),$("#_mileageR").show(),$("#mileageReport").DataTable({destroy:!0,responsive:!0,select:!0,filter:!0,colReorder:!1,rowReorder:!0,keys:!0,fixedHeader:{header:!0,footer:!0},scrollX:!0,scrollCollapse:!0,paging:!0,pagingType:"full_numbers",pageLength:12,lengthMenu:[[12,25,50,-1],[12,25,50,"All"]],searching:!0,ordering:!0,order:[[0,"asc"]],info:!0,dom:"Blfrtip",processing:!0,language:{processing:'<i class="fa fa-spinner fa-spin fa-3x fa-fw"></i><span class="sr-only">Loading...</span> ',infoEmpty:"No events available",infoFiltered:"(filtered from MAX total events)"},buttons:[{extend:"colvis",className:"float-right ml-2"},[{extend:"collection",text:"Export",className:"float-right ml-2",buttons:["excel"]}]],columns:[{data:"UtilId",title:"ID",className:"reorder"},{data:"Date",title:"Date",className:"reorder"},{data:"Driver",title:"Driver",className:"reorder"},{data:"Asset",title:"Asset",className:"reorder"},{data:"Category",title:"Category",className:"reorder"},{data:"StartTime",title:"StartTime",className:"reorder"},{data:"EndTime",title:"EndTime",className:"reorder"},{data:"Mileage",title:"Mileage",className:"reorder"},{data:"LastIgnition",title:"Last Ignition",className:"reorder"}],ajax:{url:e,type:"GET",dataType:"json",dataSrc:""},columnDefs:[{render:function(e,t,n){return e},targets:0},{render:function(e,t){return'<div><span><i class="fa fa-clock-o hidden-xs hidden-md"></i>&nbsp;'+(m=u(e).format("D-MMM-YYYY"))+"</span></div>"},targets:1},{render:function(e){return'<div><span><i class="fa fa-clock-o hidden-xs hidden-md"></i>&nbsp;'+(m=u(e).add(8,"hours").format("hh:mm:ss A"))+"</span></div>"},targets:[5,6]},{render:function(e,t,n){return(e/10).toFixed(2)+" km"},targets:7},{render:function(e){return u(e).add(8,"hours").format("D-MMM-YYYY, hh:mm:ss A")},targets:8}],initComplete:function(e,t,n){console.log(JSON.stringify(t));for(var l=$("#dateFrom").val(),o=$("#dateTo").val(),i=[],a=[],r=0,s=t.length;r<s;r++){var d=t[r].Date,c=Number(g(t[r].Mileage)),p=u(d).add(8,"hours").format("D/MM/YY");i.push(p),a.push(c)}function g(e){return(e/10).toFixed(2)}$("#chartMileage").highcharts({exporting:{buttons:{contextButton:{menuItems:["viewFullscreen","downloadPNG","downloadJPEG","downloadPDF"]}}},lang:{downloadJPEG:"Download JPEG Image",downloadPDF:"Download PDF Document",downloadPNG:"Download PNG Image",downloadSVG:"Download SVG Vector Image",printChart:"Print Chart"},chart:{zoomType:"x"},title:{text:"Mileage Chart"},subtitle:{text:l+" - "+o},xAxis:{categories:i,crosshair:!0},yAxis:[{title:{text:"Mileage",style:{color:h.getOptions().colors[1]}},labels:{format:"{value} km",style:{color:h.getOptions().colors[1]}},opposite:!0},{gridLineWidth:0,labels:{format:"{value} KM",style:{color:h.getOptions().colors[1]}},opposite:!0}],series:[{type:"spline",name:"Mileage",data:a,tooltip:{valueSuffix:" km"}}]})},footerCallback:function(e,t,n,l,o){}})}(e),$("#label_reports").text("Mileage Report")):5==o?(function(e,t){b(),$("#_utilizationR").show(),$("#utilizationReport").DataTable({destroy:!0,responsive:!0,select:!0,filter:!0,colReorder:!1,rowReorder:!0,keys:!0,fixedHeader:{header:!0,footer:!0},scrollX:!0,scrollY:screen.height-335+"px",scrollCollapse:!0,fnInitComplete:function(){new p.a(".dataTables_scrollBody")},paging:!0,pagingType:"full_numbers",pageLength:12,lengthMenu:[[12,25,50,-1],[12,25,50,"All"]],searching:!0,ordering:!0,order:[[0,"asc"]],info:!0,dom:"Blfrtip",processing:!0,language:{processing:'<i class="fa fa-spinner fa-spin fa-3x fa-fw"></i><span class="sr-only">Loading...</span> ',infoEmpty:"No events available",infoFiltered:"(filtered from MAX total events)"},buttons:[{extend:"colvis",className:"float-right ml-2"},[{extend:"collection",text:"Export",className:"float-right ml-2",buttons:["excel"]}]],columns:[{data:"UtilId",title:"ID",className:"reorder"},{data:"Date",title:"Date",className:"reorder"},{data:"Driver",title:"Driver",className:"reorder"},{data:"Asset",title:"Asset",className:"reorder"},{data:"Category",title:"Category",className:"reorder"},{data:"Idle",title:"Idle",className:"reorder"},{data:"Move",title:"Move",className:"reorder"},{data:"Stop",title:"Stop",className:"reorder"},{data:"Mileage",title:"Mileage",className:"reorder"},{data:"LastIgnition",title:"Last Ignition",className:"reorder"},{data:"Location",title:"Location",className:"reorder"}],ajax:{url:e,type:"GET",dataType:"json",dataSrc:""},columnDefs:[{render:function(e,t,n){return e},targets:0},{render:function(e,t){return'<div><span><i class="fa fa-clock-o hidden-xs hidden-md"></i>&nbsp;'+(m=u(e).format("D-MMM-YYYY"))+"</span></div>"},targets:1},{render:function(e){return(e/10).toFixed(2)+" km"},targets:8},{render:function(e){return u(e).add(8,"hours").format("D-MMM-YYYY, hh:mm:ss A")},targets:9}],initComplete:function(e,t,n){console.log(JSON.stringify(t));for(var l=$("#dateFrom").val(),o=$("#dateTo").val(),i=[],a=[],r=0,s=t.length;r<s;r++){var d=t[r].Date,c=Number(m(t[r].Mileage)),p=u(d).add(8,"hours").format("D/MM/YY");i.push(p),a.push(c)}for(var g=0;g<t.length;++g);for(g=0;g<t.length;++g);function m(e){return(e/10).toFixed(2)}$("#chartUtilization").highcharts({exporting:{buttons:{contextButton:{menuItems:["viewFullscreen","downloadPNG","downloadJPEG","downloadPDF"]}}},lang:{downloadJPEG:"Download JPEG Image",downloadPDF:"Download PDF Document",downloadPNG:"Download PNG Image",downloadSVG:"Download SVG Vector Image",printChart:"Print Chart"},chart:{zoomType:"x"},title:{text:"Utilization (Type 1) Chart"},subtitle:{text:l+" - "+o},xAxis:{categories:i,crosshair:!0},yAxis:[{title:{text:"Utilization",style:{color:h.getOptions().colors[1]}},labels:{format:"{value} km",style:{color:h.getOptions().colors[1]}},opposite:!0},{gridLineWidth:0,labels:{format:"{value} KM",style:{color:h.getOptions().colors[1]}},opposite:!0}],series:[{type:"spline",name:"Utilization",data:a,tooltip:{valueSuffix:" km"}}]})},footerCallback:function(e,t,n,l,o){}})}(e),$("#label_reports").text("Utilization Report (Type 1)")):6==o&&(function(e,t){b(),$("#_utilization2R").show(),$("#utilization2Report").DataTable({destroy:!0,responsive:!0,select:!0,filter:!0,colReorder:!1,rowReorder:!0,keys:!0,fixedHeader:{header:!0,footer:!0},scrollX:!0,scrollY:screen.height-335+"px",scrollCollapse:!0,fnInitComplete:function(){new p.a(".dataTables_scrollBody")},paging:!0,pagingType:"full_numbers",pageLength:12,lengthMenu:[[12,25,50,-1],[12,25,50,"All"]],searching:!0,ordering:!0,order:[[0,"asc"]],info:!0,dom:"Blfrtip",processing:!0,language:{processing:'<i class="fa fa-spinner fa-spin fa-3x fa-fw"></i><span class="sr-only">Loading...</span> ',infoEmpty:"No events available",infoFiltered:"(filtered from MAX total events)"},buttons:[{extend:"colvis",className:"float-right ml-2"},[{extend:"collection",text:"Export",className:"float-right ml-2",buttons:["excel"]}]],columns:[{data:"UtilId",title:"ID",className:"reorder"},{data:"Date",title:"Date",className:"reorder"},{data:"Driver",title:"Driver",className:"reorder"},{data:"Asset",title:"Asset",className:"reorder"},{data:"Category",title:"Category",className:"reorder"},{data:"Idle",title:"Idle",className:"reorder"},{data:"Move",title:"Move",className:"reorder"},{data:"Stop",title:"Stop",className:"reorder"},{data:"StopCount",title:"StopCount",className:"reorder"},{data:"Mileage",title:"Mileage",className:"reorder"},{data:"LastIgnition",title:"Last Ignition",className:"reorder"},{data:"Location",title:"Location",className:"reorder"}],ajax:{url:e,type:"GET",dataType:"json",dataSrc:""},columnDefs:[{render:function(e,t,n){return e},targets:0},{render:function(e,t){return'<div><span><i class="fa fa-clock-o hidden-xs hidden-md"></i>&nbsp;'+(m=u(e).format("D-MMM-YYYY"))+"</span></div>"},targets:1},{render:function(e,t){return Math.round(100*e/1440)+" %"},targets:[5,6,7]},{render:function(e){return(e/10).toFixed(2)+" km"},targets:9},{render:function(e){return u(e).add(8,"hours").format("D-MMM-YYYY, hh:mm:ss A")},targets:10}],initComplete:function(e,t,n){console.log(JSON.stringify(t));for(var l=$("#dateFrom").val(),o=$("#dateTo").val(),i=[],a=[],r=0,s=t.length;r<s;r++){var d=t[r].Date,c=Number(m(t[r].Mileage)),p=u(d).add(8,"hours").format("D/MM/YY");i.push(p),a.push(c)}for(var g=0;g<t.length;++g);for(g=0;g<t.length;++g);function m(e){return(e/10).toFixed(2)}$("#chartUtilization2").highcharts({exporting:{buttons:{contextButton:{menuItems:["viewFullscreen","downloadPNG","downloadJPEG","downloadPDF"]}}},lang:{downloadJPEG:"Download JPEG Image",downloadPDF:"Download PDF Document",downloadPNG:"Download PNG Image",downloadSVG:"Download SVG Vector Image",printChart:"Print Chart"},chart:{zoomType:"x"},title:{text:"Utilization (Type 2) Chart"},subtitle:{text:l+" - "+o},xAxis:{categories:i,crosshair:!0},yAxis:[{title:{text:"Utilization ",style:{color:h.getOptions().colors[1]}},labels:{format:"{value} km",style:{color:h.getOptions().colors[1]}},opposite:!0},{gridLineWidth:0,labels:{format:"{value} KM",style:{color:h.getOptions().colors[1]}},opposite:!0}],series:[{type:"spline",name:"Utilization ",data:a,tooltip:{valueSuffix:" km"}}]})},footerCallback:function(e,t,n,l,o){}})}(e),$("#label_reports").text("Utilization Report (Type 2)"))}(e,this.toastr,this.map,this.markers,t,this.polylines,this.coordinates,this.spinner)},e}(),f=n("Ip0R"),b=n("ZYCi"),v=n("SZbH"),w=l.ub({encapsulation:0,styles:[["#positionReport[_ngcontent-%COMP%]{color:#000}table.dataTable[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#5c6873;background-color:#e4e7ea;border-color:#c8ced3}.table[_ngcontent-%COMP%]{table-layout:fixed}#pageHeader[_ngcontent-%COMP%]{background:#dcdcdc;position:fixed;left:0;right:0;top:0;height:100px;z-index:11;color:#000}.table-responsive[_ngcontent-%COMP%]{overflow-x:unset}#map[_ngcontent-%COMP%]{position:relative;margin:0 auto;padding:0;overflow:hidden;max-width:none!important;box-shadow:none!important}.control[_ngcontent-%COMP%], .controlSlider[_ngcontent-%COMP%]{display:none;position:absolute;z-index:1}.controlSlider[_ngcontent-%COMP%]{left:120px}.panel[_ngcontent-%COMP%]{height:30px;margin-top:20px}*[_ngcontent-%COMP%]{box-sizing:border-box}.slider[_ngcontent-%COMP%]{width:300px;margin:100px auto}input[type=range][_ngcontent-%COMP%]{-webkit-appearance:none;-webkit-tap-highlight-color:rgba(255,255,255,0);width:100%;height:20px;margin:0;border:none;padding:1px 2px;border-radius:14px;background:#232528;box-shadow:inset 0 1px 0 0 #0d0e0f,inset 0 -1px 0 0 #3a3d42;-webkit-box-shadow:inset 0 1px 0 0 #0d0e0f,inset 0 -1px 0 0 #3a3d42;outline:none}input[type=range][_ngcontent-%COMP%]::-moz-range-track{border:inherit;background:transparent}input[type=range][_ngcontent-%COMP%]::-ms-track{border:inherit;color:transparent;background:transparent}input[type=range][_ngcontent-%COMP%]::-ms-fill-lower, input[type=range][_ngcontent-%COMP%]::-ms-fill-upper{background:transparent}input[type=range][_ngcontent-%COMP%]::-ms-tooltip{display:none}input[type=range][_ngcontent-%COMP%]::-webkit-slider-thumb{-webkit-appearance:none;width:20px;height:18px;border:none;border-radius:12px;background-image:-webkit-gradient(linear,left top,left bottom,color-stop(0,#529de1),to(#245e8f));background-image:linear-gradient(180deg,#529de1 0,#245e8f)}input[type=range][_ngcontent-%COMP%]::-moz-range-thumb{width:20px;height:18px;border:none;border-radius:12px;background-image:linear-gradient(180deg,#529de1 0,#245e8f)}input[type=range][_ngcontent-%COMP%]::-ms-thumb{width:20px;height:18px;border-radius:12px;border:0;background-image:linear-gradient(180deg,#529de1 0,#245e8f)}"]],data:{}});function x(e){return l.Yb(0,[(e()(),l.wb(0,0,null,null,3,"ngx-spinner",[["bdColor","rgba(51, 51, 51, 0.96)"],["size","medium"],["type","ball-spin-clockwise"]],null,null,null,a.b,a.a)),l.vb(1,770048,null,0,r.a,[r.c,l.h],{bdColor:[0,"bdColor"],size:[1,"size"],type:[2,"type"]},null),(e()(),l.wb(2,0,null,0,1,"p",[["style","color: white"]],null,null,null,null,null)),(e()(),l.Vb(-1,null,["Please Wait. "])),(e()(),l.wb(4,0,null,null,57,"div",[["class","animated fadeIn"]],null,null,null,null,null)),(e()(),l.wb(5,0,null,null,35,"div",[["class","row"]],null,null,null,null,null)),(e()(),l.wb(6,0,null,null,15,"div",[["class","col-sm-6"],["id","_playback"]],null,null,null,null,null)),(e()(),l.wb(7,0,null,null,14,"div",[["class","card"]],null,null,null,null,null)),(e()(),l.wb(8,0,null,null,2,"div",[["class","card-header"]],null,null,null,null,null)),(e()(),l.wb(9,0,null,null,1,"span",[["class","font-weight-bold"]],null,null,null,null,null)),(e()(),l.Vb(-1,null,["Playback"])),(e()(),l.wb(11,0,null,null,10,"div",[["class","card-body"]],null,null,null,null,null)),(e()(),l.wb(12,0,null,null,1,"div",[["id","map"],["style","height:400px;"]],null,null,null,null,null)),(e()(),l.Vb(-1,null,["Loading Map ..."])),(e()(),l.wb(14,0,null,null,7,"div",[["class","panel"]],null,null,null,null,null)),(e()(),l.wb(15,0,null,null,4,"div",[["class","control"]],null,null,null,null,null)),(e()(),l.wb(16,0,null,null,1,"button",[["class","btn btn-md btn-primary"],["id","play"]],null,null,null,null,null)),(e()(),l.wb(17,0,null,null,0,"i",[["class","fa fa-play fa-fw"]],null,null,null,null,null)),(e()(),l.wb(18,0,null,null,1,"button",[["class","btn btn-md btn-primary"],["id","pause"]],null,null,null,null,null)),(e()(),l.wb(19,0,null,null,0,"i",[["class","fa fa-pause fa-fw"]],null,null,null,null,null)),(e()(),l.wb(20,0,null,null,1,"div",[["class","controlSlider"]],null,null,null,null,null)),(e()(),l.wb(21,0,null,null,0,"input",[["id","forwind"],["max","0"],["min","1"],["style","color:black;"],["type","range"],["value","1"]],null,null,null,null,null)),(e()(),l.wb(22,0,null,null,18,"div",[["class","col-sm-6"],["id","_charts"]],null,null,null,null,null)),(e()(),l.wb(23,0,null,null,17,"div",[["class","card"]],null,null,null,null,null)),(e()(),l.wb(24,0,null,null,2,"div",[["class","card-header"]],null,null,null,null,null)),(e()(),l.wb(25,0,null,null,1,"span",[["class","font-weight-bold"]],null,null,null,null,null)),(e()(),l.Vb(-1,null,["Charts"])),(e()(),l.wb(27,0,null,null,13,"div",[["class","card-body"]],null,null,null,null,null)),(e()(),l.wb(28,0,null,null,1,"div",[["id","positionSection"]],null,null,null,null,null)),(e()(),l.wb(29,0,null,null,0,"div",[["class","col-md-12"],["id","chartPosition"],["style","width:100% !important; height: 450px;"]],null,null,null,null,null)),(e()(),l.wb(30,0,null,null,1,"div",[["id","speedSection"]],null,null,null,null,null)),(e()(),l.wb(31,0,null,null,0,"div",[["class","col-md-12"],["id","chartSpeed"],["style","width:100% !important;"]],null,null,null,null,null)),(e()(),l.wb(32,0,null,null,2,"div",[["id","mileageSection"]],null,null,null,null,null)),(e()(),l.wb(33,0,null,null,1,"div",[["id","_mileageR"],["style","width: 100%;"]],null,null,null,null,null)),(e()(),l.wb(34,0,null,null,0,"div",[["class","col-md-12"],["id","chartMileage"],["style","width:100% !important;"]],null,null,null,null,null)),(e()(),l.wb(35,0,null,null,2,"div",[["id","utilizationSection"]],null,null,null,null,null)),(e()(),l.wb(36,0,null,null,1,"div",[["id","_utilizationR"],["style","width: 100%;"]],null,null,null,null,null)),(e()(),l.wb(37,0,null,null,0,"div",[["class","col-md-12"],["id","chartUtilization"],["style","width:100% !important;"]],null,null,null,null,null)),(e()(),l.wb(38,0,null,null,2,"div",[["id","utilization2Section"]],null,null,null,null,null)),(e()(),l.wb(39,0,null,null,1,"div",[["id","_utilization2R"],["style","width: 100%;"]],null,null,null,null,null)),(e()(),l.wb(40,0,null,null,0,"div",[["class","col-md-12"],["id","chartUtilization2"],["style","width:100% !important;"]],null,null,null,null,null)),(e()(),l.wb(41,0,null,null,20,"div",[["class","row"]],null,null,null,null,null)),(e()(),l.wb(42,0,null,null,19,"div",[["class","col-sm-12"],["id","_reports_table"]],null,null,null,null,null)),(e()(),l.wb(43,0,null,null,18,"div",[["class","card"]],null,null,null,null,null)),(e()(),l.wb(44,0,null,null,1,"div",[["class","card-header"],["id","reportTitle"]],null,null,null,null,null)),(e()(),l.wb(45,0,null,null,0,"span",[["class","font-weight-bold"],["id","label_reports"]],null,null,null,null,null)),(e()(),l.wb(46,0,null,null,15,"div",[["class","card-body"]],null,null,null,null,null)),(e()(),l.wb(47,0,null,null,2,"div",[["id","_positionR"],["style","width: 100%;"]],null,null,null,null,null)),(e()(),l.wb(48,0,null,null,1,"div",[["class","table-responsive pt-3"]],null,null,null,null,null)),(e()(),l.wb(49,0,null,null,0,"table",[["cellspacing","0"],["class","table table-striped table-hover dt-responsive display nowrap"],["datatable",""],["id","positionReport"],["width","100%"]],null,null,null,null,null)),(e()(),l.wb(50,0,null,null,2,"div",[["id","_speedR"],["style","width: 100%;"]],null,null,null,null,null)),(e()(),l.wb(51,0,null,null,1,"div",[["class","table-responsive pt-3"]],null,null,null,null,null)),(e()(),l.wb(52,0,null,null,0,"table",[["cellspacing","0"],["class","table table-striped table-hover dt-responsive display nowrap"],["datatable",""],["id","speedReport"],["width","100%"]],null,null,null,null,null)),(e()(),l.wb(53,0,null,null,2,"div",[["id","_mileageR"],["style","width: 100%;"]],null,null,null,null,null)),(e()(),l.wb(54,0,null,null,1,"div",[["class","table-responsive pt-3"]],null,null,null,null,null)),(e()(),l.wb(55,0,null,null,0,"table",[["cellspacing","0"],["class","table table-striped table-hover dt-responsive display nowrap"],["datatable",""],["id","mileageReport"],["width","100%"]],null,null,null,null,null)),(e()(),l.wb(56,0,null,null,2,"div",[["id","_utilizationR"],["style","width: 100%;"]],null,null,null,null,null)),(e()(),l.wb(57,0,null,null,1,"div",[["class","table-responsive pt-3"]],null,null,null,null,null)),(e()(),l.wb(58,0,null,null,0,"table",[["cellspacing","0"],["class","table table-striped table-hover dt-responsive display nowrap"],["datatable",""],["id","utilizationReport"],["width","100%"]],null,null,null,null,null)),(e()(),l.wb(59,0,null,null,2,"div",[["id","_utilization2R"],["style","width: 100%;"]],null,null,null,null,null)),(e()(),l.wb(60,0,null,null,1,"div",[["class","table-responsive pt-3"]],null,null,null,null,null)),(e()(),l.wb(61,0,null,null,0,"table",[["cellspacing","0"],["class","table table-striped table-hover dt-responsive display nowrap"],["datatable",""],["id","utilization2Report"],["width","100%"]],null,null,null,null,null))],(function(e,t){e(t,1,0,"rgba(51, 51, 51, 0.96)","medium","ball-spin-clockwise")}),null)}function y(e){return l.Yb(0,[(e()(),l.wb(0,0,null,null,1,"ng-component",[],null,null,null,x,w)),l.vb(1,114688,null,0,m,[d.a,f.h,b.l,c.a,v.j,r.c],null,null)],(function(e,t){e(t,1,0)}),null)}var S=l.sb("ng-component",m,y,{},{},[]),D={title:"Reports"},M=function(){return function(){}}();n.d(t,"ReportsModuleNgFactory",(function(){return P}));var P=l.tb(o,[],(function(e){return l.Ib([l.Jb(512,l.j,l.X,[[8,[i.a,S]],[3,l.j],l.x]),l.Jb(4608,f.n,f.m,[l.u]),l.Jb(1073742336,f.c,f.c,[]),l.Jb(1073742336,b.p,b.p,[[2,b.u],[2,b.l]]),l.Jb(1073742336,M,M,[]),l.Jb(1073742336,r.b,r.b,[]),l.Jb(1073742336,o,o,[]),l.Jb(1024,b.j,(function(){return[[{path:"",component:m,data:D}]]}),[])])}))}}]);